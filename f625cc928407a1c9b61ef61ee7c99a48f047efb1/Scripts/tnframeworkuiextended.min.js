!function(n,t){t("kendo.core.min",["jquery"],n)}(function(){return function(n,t,i){function g(){}function cr(n,t){if(t)return"'"+n.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var i=n.charAt(0),r=n.substring(1);return"="===i?"+("+r+")+":":"===i?"+$kendoHtmlEncode("+r+")+":";"+n+";$kendoOutput+="}function f(n,t,i){return n+="",t=t||2,i=t-n.length,i?li[t].substring(0,i)+n:n}function lr(n){var u=n.css(r.support.transitions.css+"box-shadow")||n.css("box-shadow"),t=u?u.match(su)||[0,0,0,0,0]:[0,0,0,0,0],i=c.max(+t[3],+(t[4]||0));return{left:-t[1]+i,right:+t[1]+i,bottom:+t[2]+i}}function ar(t,i){var s,f,e,l,a,o,v,y=u.browser,h=r._outerWidth,p=r._outerHeight;return t.parent().hasClass("k-animation-container")?(o=t.parent(".k-animation-container"),v=o[0].style,o.is(":hidden")&&o.css({display:"",position:""}),s=ft.test(v.width)||ft.test(v.height),s||o.css({width:i?h(t)+1:h(t),height:p(t),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})):(f=t[0].style.width,e=t[0].style.height,l=ft.test(f),a=ft.test(e),s=l||a,!l&&(!i||i&&f)&&(f=i?h(t)+1:h(t)),!a&&(!i||i&&e)&&(e=p(t)),t.wrap(n("<div/>").addClass("k-animation-container").css({width:f,height:e})),s&&t.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})),y.msie&&c.floor(y.version)<=7&&(t.css({zoom:1}),t.children(".k-menu").width(t.width())),t.parent()}function st(n){for(var t=1,i=arguments.length,t=1;t<i;t++)dt(n,arguments[t]);return n}function dt(n,t){var u,i,e,f,o,s=r.data.ObservableArray,h=r.data.LazyObservableArray,c=r.data.DataSource,l=r.data.HierarchicalDataSource;for(u in t)i=t[u],e=typeof i,f=e===k&&null!==i?i.constructor:null,f&&f!==Array&&f!==s&&f!==h&&f!==c&&f!==l&&f!==RegExp?i instanceof Date?n[u]=new Date(i.getTime()):d(i.clone)?n[u]=i.clone():(o=n[u],n[u]=typeof o===k?o||{}:{},dt(n[u],i)):e!==ot&&(n[u]=i);return n}function ht(n,t,r){for(var u in t)if(t.hasOwnProperty(u)&&t[u].test(n))return u;return r!==i?r:n}function vr(n){return n.replace(/([a-z][A-Z])/g,function(n){return n.charAt(0)+"-"+n.charAt(1).toLowerCase()})}function gt(n){return n.replace(/\-(\w)/g,function(n,t){return t.toUpperCase()})}function ni(t,i){var u,f={};return document.defaultView&&document.defaultView.getComputedStyle?(u=document.defaultView.getComputedStyle(t,""),i&&n.each(i,function(n,t){f[t]=u.getPropertyValue(t)})):(u=t.currentStyle,i&&n.each(i,function(n,t){f[t]=u[gt(t)]})),r.size(f)||(f=u),f}function yr(n){if(n&&n.className&&"string"==typeof n.className&&n.className.indexOf("k-auto-scrollable")>-1)return!0;var t=ni(n,["overflow"]).overflow;return"auto"==t||"scroll"==t}function pr(t,r){var e,o=u.browser.webkit,s=u.browser.mozilla,f=t instanceof n?t[0]:t;if(t)return e=u.isRtl(t),r===i?e&&o?f.scrollWidth-f.clientWidth-f.scrollLeft:Math.abs(f.scrollLeft):(f.scrollLeft=e&&o?f.scrollWidth-f.clientWidth-r:e&&s?-r:r,i)}function wr(n){var t,i=0;for(t in n)n.hasOwnProperty(t)&&"toJSON"!=t&&i++;return i}function br(n,i,r){var f,e,o;return i||(i="offset"),f=n[i](),e={top:f.top,right:f.right,bottom:f.bottom,left:f.left},u.browser.msie&&(u.pointers||u.msPointers)&&!r&&(o=u.isRtl(n)?1:-1,e.top-=t.pageYOffset-document.documentElement.scrollTop,e.left-=t.pageXOffset+o*document.documentElement.scrollLeft),e}function kr(n){var t={};return it("string"==typeof n?n.split(" "):n,function(n){t[n]=this}),t}function dr(n){return new r.effects.Element(n)}function gr(n,t,i,r){return typeof n===o&&(d(t)&&(r=t,t=400,i=!1),d(i)&&(r=i,i=!1),typeof t===or&&(i=t,t=400),n={effects:n,duration:t,reverse:i,complete:r}),h({effects:{},duration:400,reverse:!1,init:rt,teardown:rt,hide:!1},n,{completeCallback:n.complete,complete:rt})}function ti(t,i,r,u,f){for(var e,o=0,s=t.length;o<s;o++)e=n(t[o]),e.queue(function(){y.promise(e,gr(i,r,u,f))});return t}function nu(n,t,i,r){return t&&(t=t.split(" "),it(t,function(t,i){n.toggleClass(i,r)})),n}function tu(n){return(""+n).replace(vi,"&amp;").replace(yi,"&lt;").replace(bi,"&gt;").replace(pi,"&quot;").replace(wi,"&#39;")}function ct(n,t){var u;return 0===t.indexOf("data")&&(t=t.substring(4),t=t.charAt(0).toLowerCase()+t.substring(1)),t=t.replace(ir,"-$1"),u=n.getAttribute("data-"+r.ns+t),null===u?u=i:"null"===u?u=null:"true"===u?u=!0:"false"===u?u=!1:hu.test(u)?u=parseFloat(u):nr.test(u)&&!tr.test(u)&&(u=Function("return ("+u+")")()),u}function ii(t,u){var e,f,o={};for(e in u)f=ct(t,e),f!==i&&(gi.test(e)&&(f="string"==typeof f?r.template(n("#"+f).html()):t.getAttribute(e)),o[e]=f);return o}function iu(t,i){return n.contains(t,i)?-1:1}function ru(){var t=n(this);return n.inArray(t.attr("data-"+r.ns+"role"),["slider","rangeslider"])>-1||t.is(":visible")}function uu(n,t){var i=n.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(i)?!n.disabled:"a"===i?n.href||t:t)&&fu(n)}function fu(t){return n.expr.filters.visible(t)&&!n(t).parents().addBack().filter(function(){return"hidden"===n.css(this,"visibility")}).length}function s(n,t){return new s.fn.init(n,t)}var v,d,ri,ui,nt,fi,ei,oi,si,hi,ci,li,ai,y,vi,yi,pi,wi,bi,lt,ki,di,p,at,gi,nr,tr,ir,vt,yt,pt,rr,e,w,ur,wt,tt,fr,er,a,r=t.kendo=t.kendo||{cultures:{}},h=n.extend,it=n.each,eu=n.isArray,bt=n.proxy,rt=n.noop,c=Math,ut=t.JSON||{},u={},ft=/%/,ou=/\{(\d+)(:[^\}]+)?\}/g,su=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,hu=/^(\+|-?)\d+(\.?)\d*$/,l="function",o="string",b="number",k="object",et="null",or="boolean",ot="undefined",sr={},hr={},kt=[].slice;r.version="2017.3.913".replace(/^\s+|\s+$/g,"");g.extend=function(n){var t,r,u=function(){},f=this,i=n&&n.init?n.init:function(){f.apply(this,arguments)};u.prototype=f.prototype;r=i.fn=i.prototype=new u;for(t in n)r[t]=null!=n[t]&&n[t].constructor===Object?h(!0,{},u.prototype[t],n[t]):n[t];return r.constructor=i,i.extend=f.extend,i};g.prototype._initOptions=function(n){this.options=st({},this.options,n)};d=r.isFunction=function(n){return"function"==typeof n};ri=function(){this._defaultPrevented=!0};ui=function(){return this._defaultPrevented===!0};nt=g.extend({init:function(){this._events={}},bind:function(n,t,r){var u,h,s,f,c,e=this,a=typeof n===o?[n]:n,v=typeof t===l;if(t===i){for(u in n)e.bind(u,n[u]);return e}for(u=0,h=a.length;u<h;u++)n=a[u],f=v?t:t[n],f&&(r&&(s=f,f=function(){e.unbind(n,f);s.apply(e,arguments)},f.original=s),c=e._events[n]=e._events[n]||[],c.push(f));return e},one:function(n,t){return this.bind(n,t,!0)},first:function(n,t){for(var i,f,r=this,e=typeof n===o?[n]:n,s=typeof t===l,u=0,h=e.length;u<h;u++)n=e[u],i=s?t:t[n],i&&(f=r._events[n]=r._events[n]||[],f.unshift(i));return r},trigger:function(n,t){var r,f,u=this,i=u._events[n];if(i){for(t=t||{},t.sender=u,t._defaultPrevented=!1,t.preventDefault=ri,t.isDefaultPrevented=ui,i=i.slice(),r=0,f=i.length;r<f;r++)i[r].call(u,t);return t._defaultPrevented===!0}return!1},unbind:function(n,t){var r,f=this,u=f._events[n];if(n===i)f._events={};else if(u)if(t)for(r=u.length-1;r>=0;r--)u[r]!==t&&u[r].original!==t||u.splice(r,1);else f._events[n]=[];return f}});fi=/^\w+/;ei=/\$\{([^}]*)\}/g;oi=/\\\}/g;si=/__CURLY__/g;hi=/\\#/g;ci=/__SHARP__/g;li=["","0","00","000","0000"];v={paramName:"data",useWithBlock:!0,render:function(n,t){for(var r="",i=0,u=t.length;i<u;i++)r+=n(t[i]);return r},compile:function(n,t){var e,f,u,o=h({},this,t),s=o.paramName,l=s.match(fi)[0],c=o.useWithBlock,i="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;";if(d(n))return n;for(i+=c?"with("+s+"){":"",i+="$kendoOutput=",f=n.replace(oi,"__CURLY__").replace(ei,"#=$kendoHtmlEncode($1)#").replace(si,"}").replace(hi,"__SHARP__").split("#"),u=0;u<f.length;u++)i+=cr(f[u],u%2==0);i+=c?";}":";";i+="return $kendoOutput;";i=i.replace(ci,"#");try{return e=Function(l,i),e._slotCount=Math.floor(f.length/2),e}catch(a){throw Error(r.format("Invalid template:'{0}' Generated code:'{1}'",n,i));}}},function(){function u(n){return e.lastIndex=0,e.test(n)?'"'+n.replace(e,function(n){var t=s[n];return typeof t===o?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function i(f,e){var c,y,a,w,v,p,d=n,s=e[f];if(s&&typeof s===k&&typeof s.toJSON===l&&(s=s.toJSON(f)),typeof t===l&&(s=t.call(e,f,s)),p=typeof s,p===o)return u(s);if(p===b)return isFinite(s)?s+"":et;if(p===or||p===et)return s+"";if(p===k){if(!s)return et;if(n+=r,v=[],"[object Array]"===h.apply(s)){for(w=s.length,c=0;c<w;c++)v[c]=i(c,s)||et;return a=0===v.length?"[]":n?"[\n"+n+v.join(",\n"+n)+"\n"+d+"]":"["+v.join(",")+"]",n=d,a}if(t&&typeof t===k)for(w=t.length,c=0;c<w;c++)typeof t[c]===o&&(y=t[c],a=i(y,s),a&&v.push(u(y)+(n?": ":":")+a));else for(y in s)Object.hasOwnProperty.call(s,y)&&(a=i(y,s),a&&v.push(u(y)+(n?": ":":")+a));return a=0===v.length?"{}":n?"{\n"+n+v.join(",\n"+n)+"\n"+d+"}":"{"+v.join(",")+"}",n=d,a}}var n,r,t,e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},h={}.toString;typeof Date.prototype.toJSON!==l&&(Date.prototype.toJSON=function(){var n=this;return isFinite(n.valueOf())?f(n.getUTCFullYear(),4)+"-"+f(n.getUTCMonth()+1)+"-"+f(n.getUTCDate())+"T"+f(n.getUTCHours())+":"+f(n.getUTCMinutes())+":"+f(n.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});typeof ut.stringify!==l&&(ut.stringify=function(u,f,e){var s;if(n="",r="",typeof e===b)for(s=0;s<e;s+=1)r+=" ";else typeof e===o&&(r=e);if(t=f,f&&typeof f!==l&&(typeof f!==k||typeof f.length!==b))throw Error("JSON.stringify");return i("",{"":u})})}(),function(){function l(n){if(n){if(n.numberFormat)return n;if(typeof n===o){var t=r.cultures;return t[n]||t[n.split("-")[0]]||null}return null}return null}function a(n){return n&&(n=l(n)),n||r.cultures.current}function d(n,t,r){r=a(r);var u=r.calendars.standard,e=u.days,o=u.months;return t=u.patterns[t]||t,t.replace(nt,function(t){var s,r,h;return"d"===t?r=n.getDate():"dd"===t?r=f(n.getDate()):"ddd"===t?r=e.namesAbbr[n.getDay()]:"dddd"===t?r=e.names[n.getDay()]:"M"===t?r=n.getMonth()+1:"MM"===t?r=f(n.getMonth()+1):"MMM"===t?r=o.namesAbbr[n.getMonth()]:"MMMM"===t?r=o.names[n.getMonth()]:"yy"===t?r=f(n.getFullYear()%100):"yyyy"===t?r=f(n.getFullYear(),4):"h"===t?r=n.getHours()%12||12:"hh"===t?r=f(n.getHours()%12||12):"H"===t?r=n.getHours():"HH"===t?r=f(n.getHours()):"m"===t?r=n.getMinutes():"mm"===t?r=f(n.getMinutes()):"s"===t?r=n.getSeconds():"ss"===t?r=f(n.getSeconds()):"f"===t?r=c.floor(n.getMilliseconds()/100):"ff"===t?(r=n.getMilliseconds(),r>99&&(r=c.floor(r/10)),r=f(r)):"fff"===t?r=f(n.getMilliseconds(),3):"tt"===t?r=n.getHours()<12?u.AM[0]:u.PM[0]:"zzz"===t?(s=n.getTimezoneOffset(),h=s<0,r=(""+c.abs(s/60)).split(".")[0],s=c.abs(s)-60*r,r=(h?"+":"-")+f(r),r+=":"+f(s)):"zz"!==t&&"z"!==t||(r=n.getTimezoneOffset()/60,h=r<0,r=(""+c.abs(r)).split(".")[0],r=(h?"+":"-")+("zz"===t?f(r):r)),r!==i?r:t.slice(1,t.length-1)})}function g(n,r,f){f=a(f);var lt,ft,st,at,wt,et,p,vt,ui,o,g,b,bt,kt,d,l,c,yt,dt,ri,gt,fi,ht,y=f.numberFormat,pt=y[u],ct=y.decimals,ni=y.pattern[0],ti=[],nt=n<0,ii=t,ut=t,ot=-1;if(n===i)return t;if(!isFinite(n))return n;if(!r)return f.name.length?n.toLocaleString():""+n;if(wt=tt.exec(r)){if(r=wt[1].toLowerCase(),ft="c"===r,st="p"===r,(ft||st)&&(y=ft?y.currency:y.percent,pt=y[u],ct=y.decimals,lt=y.symbol,ni=y.pattern[nt?0:1]),at=wt[2],at&&(ct=+at),"e"===r)return at?n.toExponential(ct):n.toExponential();if(st&&(n*=100),n=e(n,ct),nt=n<0,n=n.split(u),et=n[0],p=n[1],nt&&(et=et.substring(1)),ut=v(et,0,et.length,y),p&&(ut+=pt+p),"n"===r&&!nt)return ut;for(n=t,o=0,g=ni.length;o<g;o++)b=ni.charAt(o),n+="n"===b?ut:"$"===b||"%"===b?lt:b;return n}if(nt&&(n=-n),(r.indexOf("'")>-1||r.indexOf('"')>-1||r.indexOf("\\")>-1)&&(r=r.replace(it,function(n){var t=n.charAt(0).replace("\\",""),i=n.slice(1).replace(t,"");return ti.push(i),k})),r=r.split(";"),nt&&r[1])r=r[1],kt=!0;else if(0===n){if(r=r[2]||r[0],r.indexOf(s)==-1&&r.indexOf(h)==-1)return r}else r=r[0];if(ri=r.indexOf("%"),gt=r.indexOf("$"),st=ri!=-1,ft=gt!=-1,st&&(n*=100),ft&&"\\"===r[gt-1]&&(r=r.split("\\").join(""),ft=!1),(ft||st)&&(y=ft?y.currency:y.percent,pt=y[u],ct=y.decimals,lt=y.symbol),bt=r.indexOf(w)>-1,bt&&(r=r.replace(rt,t)),d=r.indexOf(u),g=r.length,d!=-1?(p=(""+n).split("e"),p=p[1]?e(n,Math.abs(p[1])):p[0],p=p.split(u)[1]||t,c=r.lastIndexOf(h)-d,l=r.lastIndexOf(s)-d,yt=c>-1,dt=l>-1,o=p.length,yt||dt||(r=r.substring(0,d)+r.substring(d+1),g=r.length,d=-1,o=0),yt&&c>l?o=c:l>c&&(dt&&o>l?o=l:yt&&o<c&&(o=c)),o>-1&&(n=e(n,o))):n=e(n),l=r.indexOf(s),fi=c=r.indexOf(h),ot=l==-1&&c!=-1?c:l!=-1&&c==-1?l:l>c?c:l,l=r.lastIndexOf(s),c=r.lastIndexOf(h),ht=l==-1&&c!=-1?c:l!=-1&&c==-1?l:l>c?l:c,ot==g&&(ht=ot),ot!=-1){for(ut=(""+n).split(u),et=ut[0],p=ut[1]||t,vt=et.length,ui=p.length,nt&&n*-1>=0&&(nt=!1),n=r.substring(0,ot),nt&&!kt&&(n+="-"),o=ot;o<g;o++){if(b=r.charAt(o),d==-1){if(ht-o<vt){n+=et;break}}else if(c!=-1&&c<o&&(ii=t),d-o<=vt&&d-o>-1&&(n+=et,o=d),d===o){n+=(p?pt:t)+p;o+=ht-d+1;continue}b===h?(n+=b,ii=b):b===s&&(n+=ii)}if(bt&&(n=v(n,ot+(nt&&!kt?1:0),Math.max(ht,vt+ot),y)),ht>=ot&&(n+=r.substring(ht+1)),ft||st){for(ut=t,o=0,g=n.length;o<g;o++)b=n.charAt(o),ut+="$"===b||"%"===b?lt:b;n=ut}if(g=ti.length)for(o=0;o<g;o++)n=n.replace(k,ti[o])}return n}var v,e,y,nt=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,tt=/^(n|c|p|e)(\d*)$/i,it=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,rt=/\,/g,t="",u=".",w=",",s="#",h="0",k="??",p="en-US",ut={}.toString;r.cultures["en-US"]={name:p,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{name:"US Dollar",abbr:"USD",pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}};r.culture=function(n){var t,u=r.cultures;return n===i?u.current:(t=l(n)||u[p],t.calendar=t.calendars.standard,u.current=t,i)};r.findCulture=l;r.getCulture=a;r.culture(p);v=function(n,t,r,f){var o,c,e,h,l,a,v=n.indexOf(f[u]),y=f.groupSize.slice(),s=y.shift();if(r=v!==-1?v:r+1,o=n.substring(t,r),c=o.length,c>=s){for(e=c,h=[];e>-1;)if(l=o.substring(e-s,e),l&&h.push(l),e-=s,a=y.shift(),s=a!==i?a:s,0===s){e>0&&h.push(o.substring(0,e));break}o=h.reverse().join(f[w]);n=n.substring(0,t)+o+n.substring(r)}return n};e=function(n,t){return t=t||0,n=(""+n).split("e"),n=Math.round(+(n[0]+"e"+(n[1]?+n[1]+t:t))),n=(""+n).split("e"),n=+(n[0]+"e"+(n[1]?+n[1]-t:-t)),n.toFixed(Math.min(t,20))};y=function(n,t,r){if(t){if("[object Date]"===ut.call(n))return d(n,t,r);if(typeof n===b)return g(n,t,r)}return n!==i?n:""};r.format=function(n){var t=arguments;return n.replace(ou,function(n,i,r){var u=t[parseInt(i,10)+1];return y(u,r?r.substring(1):"")})};r._extractFormat=function(n){return"{0:"===n.slice(0,3)&&(n=n.slice(3,n.length-1)),n};r._activeElement=function(){try{return document.activeElement}catch(n){return document.documentElement.activeElement}};r._round=e;r._outerWidth=function(t,i){return n(t).outerWidth(i||!1)||0};r._outerHeight=function(t,i){return n(t).outerHeight(i||!1)||0};r.toString=y}(),function(){function t(n,t,i){return!(n>=t&&n<=i)}function a(n){return n.charAt(0)}function u(t){return n.map(t,a)}function v(n,t){t||23!==n.getHours()||n.setHours(n.getHours()+2)}function y(n){for(var t=0,r=n.length,i=[];t<r;t++)i[t]=(n[t]+"").toLowerCase();return i}function f(n){var t,i={};for(t in n)i[t]=y(n[t]);return i}function p(n,e,o,s){if(!n)return null;var y,h,gt,pt,wt,bt,ot,ct,lt,b,it,ni,ti,d=function(n){for(var t=0;e[et]===n;)t++,et++;return t>0&&(et-=1),t},rt=function(t){var r=l[t]||RegExp("^\\d{1,"+t+"}"),i=n.substr(p,t).match(r);return i?(i=i[0],p+=i.length,parseInt(i,10)):null},at=function(t,i){for(var o,r,u,f=0,h=t.length,e=0,s=0;f<h;f++)o=t[f],r=o.length,u=n.substr(p,r),i&&(u=u.toLowerCase()),u==o&&r>e&&(e=r,s=f);return e?(p+=e,s+1):null},vt=function(){var t=!1;return n.charAt(p)===e[et]&&(p++,t=!0),t},w=o.calendars.standard,a=null,ut=null,k=null,c=null,ft=null,st=null,tt=null,et=0,p=0,kt=!1,dt=new Date,yt=w.twoDigitYearMax||2029,ht=dt.getFullYear();for(e||(e="d"),pt=w.patterns[e],pt&&(e=pt),e=e.split(""),gt=e.length;et<gt;et++)if(y=e[et],kt)"'"===y?kt=!1:vt();else if("d"===y){if(h=d("d"),w._lowerDays||(w._lowerDays=f(w.days)),null!==k&&h>2)continue;if(k=h<3?rt(2):at(w._lowerDays[3==h?"namesAbbr":"names"],!0),null===k||t(k,1,31))return null}else if("M"===y){if(h=d("M"),w._lowerMonths||(w._lowerMonths=f(w.months)),ut=h<3?rt(2):at(w._lowerMonths[3==h?"namesAbbr":"names"],!0),null===ut||t(ut,1,12))return null;ut-=1}else if("y"===y){if(h=d("y"),a=rt(h),null===a)return null;2==h&&("string"==typeof yt&&(yt=ht+parseInt(yt,10)),a=ht-ht%100+a,a>yt&&(a-=100))}else if("h"===y){if(d("h"),c=rt(2),12==c&&(c=0),null===c||t(c,0,11))return null}else if("H"===y){if(d("H"),c=rt(2),null===c||t(c,0,23))return null}else if("m"===y){if(d("m"),ft=rt(2),null===ft||t(ft,0,59))return null}else if("s"===y){if(d("s"),st=rt(2),null===st||t(st,0,59))return null}else if("f"===y){if(h=d("f"),ti=n.substr(p,h).match(l[3]),tt=rt(h),null!==tt&&(tt=parseFloat("0."+ti[0],10),tt=r._round(tt,3),tt*=1e3),null===tt||t(tt,0,999))return null}else if("t"===y){if(h=d("t"),ct=w.AM,lt=w.PM,1===h&&(ct=u(ct),lt=u(lt)),wt=at(lt),!wt&&!at(ct))return null}else if("z"===y){if(bt=!0,h=d("z"),"Z"===n.substr(p,1)){vt();continue}if((ot=n.substr(p,6).match(h>2?nt:g),!ot)||(ot=ot[0].split(":"),b=ot[0],it=ot[1],!it&&b.length>3&&(p=b.length-2,it=b.substring(p),b=b.substring(0,p)),b=parseInt(b,10),t(b,-12,13))||h>2&&(it=parseInt(it,10),isNaN(it)||t(it,0,59)))return null}else if("'"===y)kt=!0,vt();else if(!vt())return null;return s&&!/^\s*$/.test(n.substr(p))?null:(ni=null!==c||null!==ft||st||null,null===a&&null===ut&&null===k&&ni?(a=ht,ut=dt.getMonth(),k=dt.getDate()):(null===a&&(a=ht),null===k&&(k=1)),wt&&c<12&&(c+=12),bt?(b&&(c+=-b),it&&(ft+=-it),n=new Date(Date.UTC(a,ut,k,c,ft,st,tt))):(n=new Date(a,ut,k,c,ft,st,tt),v(n,c)),a<100&&n.setFullYear(a),n.getDate()!==k&&bt===i?null:n)}function w(n){var t="-"===n.substr(0,1)?-1:1;return n=n.substring(1),n=60*parseInt(n.substr(0,2),10)+parseInt(n.substring(2),10),t*n}function k(n){for(var u,t,f=c.max(s.length,h.length),e=n.calendar.patterns,i=[],r=0;r<f;r++){for(u=s[r],t=0;t<u.length;t++)i.push(e[u[t]]);i=i.concat(h[r])}return i}function e(n,t,i,u){var o,f,s,e;if("[object Date]"===rt.call(n))return n;if(o=0,f=null,n&&0===n.indexOf("/D")&&(f=tt.exec(n)))return f=f[1],e=it.exec(f.substring(1)),f=new Date(parseInt(f,10)),e&&(e=w(e[0]),f=r.timezone.apply(f,0),f=r.timezone.convert(f,0,-1*e)),f;for(i=r.getCulture(i),t||(t=k(i)),t=eu(t)?t:[t],s=t.length;o<s;o++)if(f=p(n,t[o],i,u))return f;return f}var o=/\u00A0/g,d=/[eE][\-+]?[0-9]+/,g=/[+|\-]\d{1,2}/,nt=/[+|\-]\d{1,2}:?\d{2}/,tt=/^\/Date\((.*?)\)\/$/,it=/[+-]\d*/,s=[[],["G","g","F"],["D","d","y","m","T","t"]],h=[["yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:ss.fff","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-dd HH:mm:ss","yyyy/MM/dd HH:mm:ss"],["yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm","yyyy/MM/dd HH:mm"],["yyyy/MM/dd","yyyy-MM-dd","HH:mm:ss","HH:mm"]],l={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},rt={}.toString;r.parseDate=function(n,t,i){return e(n,t,i,!1)};r.parseExactDate=function(n,t,i){return e(n,t,i,!0)};r.parseInt=function(n,t){var i=r.parseFloat(n,t);return i&&(i=0|i),i};r.parseFloat=function(n,t,i){if(!n&&0!==n)return null;if(typeof n===b)return n;n=""+n;t=r.getCulture(t);var f,h,u=t.numberFormat,c=u.percent,l=u.currency,s=l.symbol,a=c.symbol,e=n.indexOf("-");return d.test(n)?(n=parseFloat(n.replace(u["."],".")),isNaN(n)&&(n=null),n):e>0?null:(e=e>-1,n.indexOf(s)>-1||i&&i.toLowerCase().indexOf("c")>-1?(u=l,f=u.pattern[0].replace("$",s).split("n"),n.indexOf(f[0])>-1&&n.indexOf(f[1])>-1&&(n=n.replace(f[0],"").replace(f[1],""),e=!0)):n.indexOf(a)>-1&&(h=!0,u=c,s=a),n=n.replace("-","").replace(s,"").replace(o," ").split(u[","].replace(o," ")).join("").replace(u["."],"."),n=parseFloat(n),isNaN(n)?n=null:e&&(n*=-1),n&&h&&(n/=100),n)}}(),function(){var c,e,h,l,s,r,f,a,v;u._scrollbar=i;u.scrollbar=function(n){if(isNaN(u._scrollbar)||n){var i,t=document.createElement("div");return t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",t.innerHTML="&nbsp;",document.body.appendChild(t),u._scrollbar=i=t.offsetWidth-t.scrollWidth,document.body.removeChild(t),i}return u._scrollbar};u.isRtl=function(t){return n(t).closest(".k-rtl").length>0};c=document.createElement("table");try{c.innerHTML="<tr><td><\/td><\/tr>";u.tbodyInnerHtml=!0}catch(y){u.tbodyInnerHtml=!1}u.touch="ontouchstart"in t;e=document.documentElement.style;h=u.transitions=!1;l=u.transforms=!1;s="HTMLElement"in t?HTMLElement.prototype:[];u.hasHW3D="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix||"MozPerspective"in e||"msPerspective"in e;u.cssFlexbox="flexWrap"in e||"WebkitFlexWrap"in e||"msFlexWrap"in e;it(["Moz","webkit","O","ms"],function(){var n,t=""+this,i=typeof c.style[t+"Transition"]===o;if(i||typeof c.style[t+"Transform"]===o)return n=t.toLowerCase(),l={css:"ms"!=n?"-"+n+"-":"",prefix:t,event:"o"===n||"webkit"===n?n:""},i&&(h=l,h.event=h.event?h.event+"TransitionEnd":"transitionend"),!1});c=null;u.transforms=l;u.transitions=h;u.devicePixelRatio=t.devicePixelRatio===i?1:t.devicePixelRatio;try{u.screenWidth=t.outerWidth||t.screen?t.screen.availWidth:t.innerWidth;u.screenHeight=t.outerHeight||t.screen?t.screen.availHeight:t.innerHeight}catch(y){u.screenWidth=t.screen.availWidth;u.screenHeight=t.screen.availHeight}u.detectOS=function(n){var f,r,i=!1,e=[],s=!/mobile safari/i.test(n),o={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},h={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},c={tablet:/playbook|ipad|fire/i},l={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(r in o)if(o.hasOwnProperty(r)&&(e=n.match(o[r]))){if("windows"==r&&"plugins"in navigator)return!1;i={};i.device=r;i.tablet=ht(r,c,!1);i.browser=ht(n,l,"default");i.name=ht(r,h);i[i.name]=!0;i.majorVersion=e[2];i.minorVersion=e[3].replace("_",".");f=i.minorVersion.replace(".","").substr(0,2);i.flatVersion=i.majorVersion+f+Array(3-(f.length<3?f.length:2)).join("0");i.cordova=typeof t.PhoneGap!==ot||typeof t.cordova!==ot;i.appMode=t.navigator.standalone||/file|local|wmapp/.test(t.location.protocol)||i.cordova;i.android&&(u.devicePixelRatio<1.5&&i.flatVersion<400||s)&&(u.screenWidth>800||u.screenHeight>800)&&(i.tablet=r);break}return i};r=u.mobileOS=u.detectOS(navigator.userAgent);u.wpDevicePixelRatio=r.wp?screen.width/320:0;u.hasNativeScrolling=!1;(r.ios||r.android&&r.majorVersion>2||r.wp)&&(u.hasNativeScrolling=r);u.delayedClick=function(){if(u.touch){if(r.ios)return!0;if(r.android)return!u.browser.chrome||!(u.browser.version<32)&&!(n("meta[name=viewport]").attr("content")||"").match(/user-scalable=no/i)}return!1};u.mouseAndTouchPresent=u.touch&&!(u.mobileOS.ios||u.mobileOS.android);u.detectBrowser=function(n){var i,t=!1,r=[],u={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(i in u)if(u.hasOwnProperty(i)&&(r=n.match(u[i]))){t={};t[i]=!0;t[r[1].toLowerCase().split(" ")[0].split("/")[0]]=!0;t.version=parseInt(document.documentMode||r[2],10);break}return t};u.browser=u.detectBrowser(navigator.userAgent);u.detectClipboardAccess=function(){var n={copy:!!document.queryCommandSupported&&document.queryCommandSupported("copy"),cut:!!document.queryCommandSupported&&document.queryCommandSupported("cut"),paste:!!document.queryCommandSupported&&document.queryCommandSupported("paste")};return u.browser.chrome&&(n.paste=!1,u.browser.version>=43&&(n.copy=!0,n.cut=!0)),n};u.clipboard=u.detectClipboardAccess();u.zoomLevel=function(){var n,r,i;try{return n=u.browser,r=0,i=document.documentElement,n.msie&&11==n.version&&i.scrollHeight>i.clientHeight&&!u.touch&&(r=u.scrollbar()),u.touch?i.clientWidth/t.innerWidth:n.msie&&n.version>=10?((top||t).document.documentElement.offsetWidth+r)/(top||t).innerWidth:1}catch(f){return 1}};u.cssBorderSpacing=i!==e.borderSpacing&&!(u.browser.msie&&u.browser.version<8),function(t){var i="",r=n(document.documentElement),f=parseInt(t.version,10);t.msie?i="ie":t.mozilla?i="ff":t.safari?i="safari":t.webkit?i="webkit":t.opera?i="opera":t.edge&&(i="edge");i&&(i="k-"+i+" k-"+i+f);u.mobileOS&&(i+=" k-mobile");u.cssFlexbox||(i+=" k-no-flexbox");r.addClass(i)}(u.browser);u.eventCapture=document.documentElement.addEventListener;f=document.createElement("input");u.placeholder="placeholder"in f;u.propertyChangeEvent="onpropertychange"in f;u.input=function(){for(var n,i=["number","date","time","month","week","datetime","datetime-local"],e=i.length,r="test",u={},t=0;t<e;t++)n=i[t],f.setAttribute("type",n),f.value=r,u[n.replace("-","")]="text"!==f.type&&f.value!==r;return u}();f.style.cssText="float:left;";u.cssFloat=!!f.style.cssFloat;f=null;u.stableSort=function(){for(var n=[{index:0,field:"b"}],t=1;t<513;t++)n.push({index:t,field:"a"});return n.sort(function(n,t){return n.field>t.field?1:n.field<t.field?-1:0}),1===n[0].index}();u.matchesSelector=s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector||s.matchesSelector||s.matches||function(t){for(var i=document.querySelectorAll?(this.parentNode||document).querySelectorAll(t)||[]:n(t),r=i.length;r--;)if(i[r]==this)return!0;return!1};u.pushState=t.history&&t.history.pushState;a=document.documentMode;u.hashChange="onhashchange"in t&&!(u.browser.msie&&(!a||a<=8));u.customElements="registerElement"in t.document;v=u.browser.chrome;u.msPointers=!v&&t.MSPointerEvent;u.pointers=!v&&t.PointerEvent;u.kineticScrollNeeded=r&&(u.touch||u.msPointers||u.pointers)}();ai={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}};y={};n.extend(y,{enabled:!0,Element:function(t){this.element=n(t)},promise:function(n,t){n.is(":visible")||n.css({display:n.data("olddisplay")||"block"}).css("display");t.hide&&n.data("olddisplay",n.css("display")).hide();t.init&&t.init();t.completeCallback&&t.completeCallback(n);n.dequeue()},disable:function(){this.enabled=!1;this.promise=this.promiseShim},enable:function(){this.enabled=!0;this.promise=this.animatedPromise}});y.promiseShim=y.promise;"kendoAnimate"in n.fn||h(n.fn,{kendoStop:function(n,t){return this.stop(n,t)},kendoAnimate:function(n,t,i,r){return ti(this,n,t,i,r)},kendoAddClass:function(n,t){return r.toggleClass(this,n,t,!0)},kendoRemoveClass:function(n,t){return r.toggleClass(this,n,t,!1)},kendoToggleClass:function(n,t,i){return r.toggleClass(this,n,t,i)}});vi=/&/g;yi=/</g;pi=/"/g;wi=/'/g;bi=/>/g;lt=function(n){return n.target};u.touch&&(lt=function(n){var t="originalEvent"in n?n.originalEvent.changedTouches:"changedTouches"in n?n.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):n.target},it(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(t,i){n.fn[i]=function(n){return this.bind(i,n)}}));u.touch?u.mobileOS?(u.mousedown="touchstart",u.mouseup="touchend",u.mousemove="touchmove",u.mousecancel="touchcancel",u.click="touchend",u.resize="orientationchange"):(u.mousedown="mousedown touchstart",u.mouseup="mouseup touchend",u.mousemove="mousemove touchmove",u.mousecancel="mouseleave touchcancel",u.click="click",u.resize="resize"):u.pointers?(u.mousemove="pointermove",u.mousedown="pointerdown",u.mouseup="pointerup",u.mousecancel="pointercancel",u.click="pointerup",u.resize="orientationchange resize"):u.msPointers?(u.mousemove="MSPointerMove",u.mousedown="MSPointerDown",u.mouseup="MSPointerUp",u.mousecancel="MSPointerCancel",u.click="MSPointerUp",u.resize="orientationchange resize"):(u.mousemove="mousemove",u.mousedown="mousedown",u.mouseup="mouseup",u.mousecancel="mouseleave",u.click="click",u.resize="resize");ki=function(n,t){for(var r,i,e=t||"d",f=1,u=0,o=n.length;u<o;u++)i=n[u],""!==i&&(r=i.indexOf("["),0!==r&&(r==-1?i="."+i:(f++,i="."+i.substring(0,r)+" || {})"+i.substring(r))),f++,e+=i+(u<o-1?" || {})":")"));return Array(f).join("(")+e};di=/^([a-z]+:)?\/\//i;h(r,{widgets:[],_widgetRegisteredCallbacks:[],ui:r.ui||{},fx:r.fx||dr,effects:r.effects||y,mobile:r.mobile||{},data:r.data||{},dataviz:r.dataviz||{},drawing:r.drawing||{},spreadsheet:{messages:{}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:r.support||u,animate:r.animate||ti,ns:"",attr:function(n){return"data-"+r.ns+n},getShadows:lr,wrap:ar,deepExtend:st,getComputedStyles:ni,webComponents:r.webComponents||[],isScrollable:yr,scrollLeft:pr,size:wr,toCamelCase:gt,toHyphens:vr,getOffset:r.getOffset||br,parseEffects:r.parseEffects||kr,toggleClass:r.toggleClass||nu,directions:r.directions||ai,Observable:nt,Class:g,Template:v,template:bt(v.compile,v),render:bt(v.render,v),stringify:bt(ut.stringify,ut),eventTarget:lt,htmlEncode:tu,isLocalUrl:function(n){return n&&!di.test(n)},expr:function(n,t,i){return n=n||"",typeof t==o&&(i=t,t=!1),i=i||"d",n&&"["!==n.charAt(0)&&(n="."+n),t?(n=n.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"'),n=n.replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'"),n=ki(n.split("."),i),n=n.replace(/_\$DOT\$_/g,".")):n=i+n,n},getter:function(n,t){var i=n+t;return sr[i]=sr[i]||Function("d","return "+r.expr(n,t))},setter:function(n){return hr[n]=hr[n]||Function("d,value",r.expr(n)+"=value")},accessor:function(n){return{get:r.getter(n),set:r.setter(n)}},guid:function(){for(var t,i="",n=0;n<32;n++)t=16*c.random()|0,8!=n&&12!=n&&16!=n&&20!=n||(i+="-"),i+=(12==n?4:16==n?3&t|8:t).toString(16);return i},roleSelector:function(n){return n.replace(/(\S+)/g,"["+r.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(n){var t,i=n.split(" ");if(i)for(t=0;t<i.length;t++)"view"!=i[t]&&(i[t]=i[t].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2"));return i.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(n){return/^(label|input|textarea|select)$/i.test(n.target.tagName)},onWidgetRegistered:function(n){for(var t=0,i=r.widgets.length;t<i;t++)n(r.widgets[t]);r._widgetRegisteredCallbacks.push(n)},logToConsole:function(n,u){var f=t.console;!r.suppressLog&&i!==f&&f.log&&f[u||"log"](n)}});p=nt.extend({init:function(n,t){var u,i=this;i.element=r.jQuery(n).handler(i);i.angular("init",t);nt.fn.init.call(i);u=t?t.dataSource:null;u&&(t=h({},t,{dataSource:{}}));t=i.options=h(!0,{},i.options,t);u&&(t.dataSource=u);i.element.attr(r.attr("role"))||i.element.attr(r.attr("role"),(t.name||"").toLowerCase());i.element.data("kendo"+t.prefix+t.name,i);i.bind(i.events,t)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(n){n=n||this.wrapper;var i=this.element,t="tabindex",r=n.attr(t)||i.attr(t);i.removeAttr(t);n.attr(t,isNaN(r)?0:r)},setOptions:function(t){this._setEvents(t);n.extend(this.options,t)},_setEvents:function(n){for(var i,t=this,r=0,u=t.events.length;r<u;r++)i=t.events[r],t.options[i]&&n[i]&&t.unbind(i,t.options[i]);t.bind(t.events,n)},resize:function(n){var t=this.getSize(),i=this._size;(n||(t.width>0||t.height>0)&&(!i||t.width!==i.width||t.height!==i.height))&&(this._size=t,this._resize(t,n),this.trigger("resize",t))},getSize:function(){return r.dimensions(this.element)},size:function(n){return n?(this.setSize(n),i):this.getSize()},setSize:n.noop,_resize:n.noop,destroy:function(){var n=this;n.element.removeData("kendo"+n.options.prefix+n.options.name);n.element.removeData("handler");n.unbind()},_destroy:function(){this.destroy()},angular:function(){},_muteAngularRebind:function(n){this._muteRebind=!0;n.call(this);this._muteRebind=!1}});at=p.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(t){var i=this;i.angular(t,function(){return{elements:i.items(),data:n.map(i.dataItems(),function(n){return{dataItem:n}})}})}});r.dimensions=function(n,t){var i=n[0];return t&&n.css(t),{width:i.offsetWidth,height:i.offsetHeight}};r.notify=rt;gi=/template$/i;nr=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/;tr=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]+\]$/;ir=/([A-Z])/g;r.initWidget=function(u,f,e){var h,p,s,v,d,c,w,l,b,g,y,k,a;if(e?e.roles&&(e=e.roles):e=r.ui.roles,u=u.nodeType?u:u[0],c=u.getAttribute("data-"+r.ns+"role")){b=c.indexOf(".")===-1;s=b?e[c]:r.getter(c)(t);y=n(u).data();k=s?"kendo"+s.fn.options.prefix+s.fn.options.name:"";g=b?RegExp("^kendo.*"+c+"$","i"):RegExp("^"+k+"$","i");for(a in y)if(a.match(g)){if(a!==k)return y[a];h=y[a]}if(s){for(l=ct(u,"dataSource"),f=n.extend({},ii(u,s.fn.options),f),l&&(f.dataSource=typeof l===o?r.getter(l)(t):l),v=0,d=s.fn.events.length;v<d;v++)p=s.fn.events[v],w=ct(u,p),w!==i&&(f[p]=r.getter(w)(t));return h?n.isEmptyObject(f)||h.setOptions(f):h=new s(u,f),h}}};r.rolesFromNamespaces=function(n){var t,i,u=[];for(n[0]||(n=[r.ui,r.dataviz.ui]),t=0,i=n.length;t<i;t++)u[t]=n[t].roles;return h.apply(null,[{}].concat(u.reverse()))};r.init=function(t){var i=r.rolesFromNamespaces(kt.call(arguments,1));n(t).find("[data-"+r.ns+"role]").addBack().each(function(){r.initWidget(this,{},i)})};r.destroy=function(t){n(t).find("[data-"+r.ns+"role]").addBack().each(function(){var t,i=n(this).data();for(t in i)0===t.indexOf("kendo")&&typeof i[t].destroy===l&&i[t].destroy()})};r.resize=function(t,i){var u,f=n(t).find("[data-"+r.ns+"role]").addBack().filter(ru);f.length&&(u=n.makeArray(f),u.sort(iu),n.each(u,function(){var t=r.widgetInstance(n(this));t&&t.resize(i)}))};r.parseOptions=ii;h(r.ui,{Widget:p,DataBoundWidget:at,roles:{},progress:function(t,i,u){var e,s,h,o,c,f=t.find(".k-loading-mask"),l=r.support,a=l.browser;u=n.extend({},{width:"100%",height:"100%",top:t.scrollTop(),opacity:!1},u);c=u.opacity?"k-loading-mask k-opaque":"k-loading-mask";i?f.length||(e=l.isRtl(t),s=e?"right":"left",o=t.scrollLeft(),h=a.webkit&&e?t[0].scrollWidth-t.width()-2*o:0,f=n(r.format("<div class='{0}'><span class='k-loading-text'>{1}<\/span><div class='k-loading-image'/><div class='k-loading-color'/><\/div>",c,r.ui.progress.messages.loading)).width(u.width).height(u.height).css("top",u.top).css(s,Math.abs(o)+h).prependTo(t)):f&&f.remove()},plugin:function(t,u,f){var c,h,s,a,e=t.fn.options.name;for(u=u||r.ui,f=f||"",u[e]=t,u.roles[e.toLowerCase()]=t,c="getKendo"+f+e,e="kendo"+f+e,h={name:e,widget:t,prefix:f||""},r.widgets.push(h),s=0,a=r._widgetRegisteredCallbacks.length;s<a;s++)r._widgetRegisteredCallbacks[s](h);n.fn[e]=function(u){var f,s=this;return typeof u===o?(f=kt.call(arguments,1),this.each(function(){var t,o,h=n.data(this,e);if(!h)throw Error(r.format("Cannot call method '{0}' of {1} before it is initialized",u,e));if(t=h[u],typeof t!==l)throw Error(r.format("Cannot find method '{0}' of {1}",u,e));if(o=t.apply(h,f),o!==i)return s=o,!1})):this.each(function(){return new t(this,u)}),s};n.fn[e].widget=t;n.fn[c]=function(){return this.data(e)}}});r.ui.progress.messages={loading:"Loading..."};vt={bind:function(){return this},nullObject:!0,options:{}};yt=p.extend({init:function(n,t){p.fn.init.call(this,n,t);this.element.autoApplyNS();this.wrapper=this.element;this.element.addClass("km-widget")},destroy:function(){p.fn.destroy.call(this);this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var n=this.element.closest(r.roleSelector("view splitview modalview drawer"));return r.widgetInstance(n,r.mobile.ui)||vt},viewHasNativeScrolling:function(){var n=this.view();return n&&n.options.useNativeScrolling},container:function(){var n=this.element.closest(r.roleSelector("view layout modalview drawer splitview"));return r.widgetInstance(n.eq(0),r.mobile.ui)||vt}});h(r.mobile,{init:function(n){r.init(n,r.mobile.ui,r.ui,r.dataviz.ui)},appLevelNativeScrolling:function(){return r.mobile.application&&r.mobile.application.options&&r.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:yt,DataBoundWidget:at.extend(yt.prototype),roles:{},plugin:function(n){r.ui.plugin(n,r.mobile.ui,"Mobile")}}});st(r.dataviz,{init:function(n){r.init(n,r.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(n){r.ui.plugin(n,r.dataviz.ui)}},roles:{}});r.touchScroller=function(t,i){return i||(i={}),i.useNative=!0,n(t).map(function(t,f){return f=n(f),!(!u.kineticScrollNeeded||!r.mobile.ui.Scroller||f.data("kendoMobileScroller"))&&(f.kendoMobileScroller(i),f.data("kendoMobileScroller"))})[0]};r.preventDefault=function(n){n.preventDefault()};r.widgetInstance=function(n,i){var f,o,s,h,u=n.data(r.ns+"role"),e=[];if(u){if("content"===u&&(u="scroller"),i)if(i[0])for(f=0,o=i.length;f<o;f++)e.push(i[f].roles[u]);else e.push(i.roles[u]);else e=[r.ui.roles[u],r.dataviz.ui.roles[u],r.mobile.ui.roles[u]];for(u.indexOf(".")>=0&&(e=[r.getter(u)(t)]),f=0,o=e.length;f<o;f++)if(s=e[f],s&&(h=n.data("kendo"+s.fn.options.prefix+s.fn.options.name)))return h}};r.onResize=function(i){var r=i;return u.mobileOS.android&&(r=function(){setTimeout(i,600)}),n(t).on(u.resize,r),r};r.unbindResize=function(i){n(t).off(u.resize,i)};r.attrValue=function(n,t){return n.data(r.ns+t)};r.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};n.extend(n.expr[":"],{kendoFocusable:function(t){var i=n.attr(t,"tabindex");return uu(t,!isNaN(i)&&i>-1)}});pt=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"];rr="label, input, [data-rel=external]";e={setupMouseMute:function(){var i,t=0,r=pt.length,f=document.documentElement;if(!e.mouseTrap&&u.eventCapture)for(e.mouseTrap=!0,e.bustClick=!1,e.captureMouse=!1,i=function(t){e.captureMouse&&("click"===t.type?e.bustClick&&!n(t.target).is(rr)&&(t.preventDefault(),t.stopPropagation()):t.stopPropagation())};t<r;t++)f.addEventListener(pt[t],i,!0)},muteMouse:function(n){e.captureMouse=!0;n.data.bustClick&&(e.bustClick=!0);clearTimeout(e.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(e.mouseTrapTimeoutID);e.mouseTrapTimeoutID=setTimeout(function(){e.captureMouse=!1;e.bustClick=!1},400)}};w={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};u.touch&&(u.mobileOS.ios||u.mobileOS.android)?w={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:u.pointers?w={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:u.msPointers&&(w={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"});!u.msPointers||"onmspointerenter"in t||n.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(t,i){n.event.special[t]={delegateType:i,bindType:i,handle:function(t){var u,f=this,r=t.relatedTarget,e=t.handleObj;return r&&(r===f||n.contains(f,r))||(t.type=e.origType,u=e.handler.apply(this,arguments),t.type=i),u}}});ur=function(n){return w[n]||n};wt=/([^ ]+)/g;r.applyEventMap=function(n,t){return n=n.replace(wt,ur),t&&(n=n.replace(wt,"$1."+t)),n};tt=n.fn.on;h(!0,s,n);s.fn=s.prototype=new n;s.fn.constructor=s;s.fn.init=function(t,i){return i&&i instanceof n&&!(i instanceof s)&&(i=s(i)),n.fn.init.call(this,t,i,fr)};s.fn.init.prototype=s.fn;fr=s(document);h(s.fn,{handler:function(n){return this.data("handler",n),this},autoApplyNS:function(n){return this.data("kendoNS",n||r.guid()),this},on:function(){var s,n,i,f,h,c,t=this,l=t.data("kendoNS");return 1===arguments.length?tt.call(t,arguments[0]):(s=t,n=kt.call(arguments),typeof n[n.length-1]===ot&&n.pop(),i=n[n.length-1],f=r.applyEventMap(n[0],l),u.mouseAndTouchPresent&&f.search(/mouse|click/)>-1&&this[0]!==document.documentElement&&(e.setupMouseMute(),h=2===n.length?null:n[1],c=f.indexOf("click")>-1&&f.indexOf("touchend")>-1,tt.call(this,{touchstart:e.muteMouse,touchend:e.unMuteMouse},h,{bustClick:c})),typeof i===o&&(s=t.data("handler"),i=s[i],n[n.length-1]=function(n){i.call(s,n)}),n[0]=f,tt.apply(t,n),t)},kendoDestroy:function(n){return n=n||this.data("kendoNS"),n&&this.off("."+n),this}});r.jQuery=s;r.eventMap=w;r.timezone=function(){function t(t,i){var r,o,s,c=i[3],e=i[4],f=i[5],h=i[8];return h||(i[8]=h={}),h[t]?h[t]:(isNaN(e)?0===e.indexOf("last")?(r=new Date(Date.UTC(t,n[c]+1,1,f[0]-24,f[1],f[2],0)),o=u[e.substr(4,3)],s=r.getUTCDay(),r.setUTCDate(r.getUTCDate()+o-s-(o>s?7:0))):e.indexOf(">=")>=0&&(r=new Date(Date.UTC(t,n[c],e.substr(5),f[0],f[1],f[2],0)),o=u[e.substr(0,3)],s=r.getUTCDay(),r.setUTCDate(r.getUTCDate()+o-s+(o<s?7:0))):r=new Date(Date.UTC(t,n[c],e,f[0],f[1],f[2],0)),h[t]=r)}function f(n,i,r){var f,e,u,o;return(i=i[r])?(u=new Date(n).getUTCFullYear(),i=jQuery.grep(i,function(n){var i=n[0],t=n[1];return i<=u&&(t>=u||i==u&&"only"==t||"max"==t)}),i.push(n),i.sort(function(n,i){return"number"!=typeof n&&(n=+t(u,n)),"number"!=typeof i&&(i=+t(u,i)),n-i}),o=i[jQuery.inArray(n,i)-1]||i[i.length-1],isNaN(o)?o:null):(f=r.split(":"),e=0,f.length>1&&(e=60*f[0]+ +f[1]),[-1e6,"max","-","Jan",1,[0,0,0],e,"-"])}function e(n,t,i){var u,f,e,r=t[i];if("string"==typeof r&&(r=t[r]),!r)throw Error('Timezone "'+i+'" is either incorrect, or kendo.timezones.min.js is not included.');for(u=r.length-1;u>=0&&(f=r[u][3],!(f&&n>f));u--);if(e=r[u+1],!e)throw Error('Timezone "'+i+'" not found on '+n+".");return e}function i(n,t,i,r){typeof n!=b&&(n=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));var u=e(n,t,r);return{zone:u,rule:f(n,i,u[1])}}function s(n,t){var u,f,e;return"Etc/UTC"==t||"Etc/GMT"==t?0:(u=i(n,this.zones,this.rules,t),f=u.zone,e=u.rule,r.parseFloat(e?f[0]-e[6]:f[0]))}function h(n,t){var f=i(n,this.zones,this.rules,t),e=f.zone,r=f.rule,u=e[2];return u.indexOf("/")>=0?u.split("/")[r&&+r[6]?1:0]:u.indexOf("%s")>=0?u.replace("%s",r&&"-"!=r[7]?r[7]:""):u}function c(n,t,i){var u,f,e,r=i;return typeof t==o&&(t=this.offset(n,t)),typeof i==o&&(i=this.offset(n,i)),f=n.getTimezoneOffset(),n=new Date(n.getTime()+6e4*(t-i)),e=n.getTimezoneOffset(),typeof r==o&&(r=this.offset(n,r)),u=e-f+(i-r),new Date(n.getTime()+6e4*u)}function l(n,t){return this.convert(n,n.getTimezoneOffset(),t)}function a(n,t){return this.convert(n,t,n.getTimezoneOffset())}function v(n){return this.apply(new Date(n),"Etc/UTC")}var n={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},u={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:s,convert:c,apply:l,remove:a,abbr:h,toLocalDate:v}}();r.date=function(){function u(n,t){return 0===t&&23===n.getHours()&&(n.setHours(n.getHours()+2),!0)}function c(n,t,i){var r=n.getHours();i=i||1;t=(t-n.getDay()+7*i)%7;n.setDate(n.getDate()+t);u(n,r)}function l(n,t,i){return n=new Date(n),c(n,t,i),n}function a(n){return new Date(n.getFullYear(),n.getMonth(),1)}function p(n){var t=new Date(n.getFullYear(),n.getMonth()+1,0),i=a(n),r=Math.abs(t.getTimezoneOffset()-i.getTimezoneOffset());return r&&t.setHours(i.getHours()+r/60),t}function w(t,i){return 1!==i?n(l(t,i,-1),4):n(t,4-(t.getDay()||7))}function o(n,i){var r=new Date(n.getFullYear(),0,1,-6),u=w(n,i),f=u.getTime()-r.getTime(),e=Math.floor(f/t);return 1+Math.floor(e/7)}function b(t,u){var e,s,f;return u===i&&(u=r.culture().calendar.firstDay),e=n(t,-7),s=n(t,7),f=o(t,u),0===f?o(e,u)+1:53===f&&o(s,u)>1?1:f}function f(n){return n=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0),u(n,0),n}function k(n){return Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}function e(n){return s(n).getTime()-f(s(n))}function d(n,i,r){var u,f=e(i),o=e(r);return!n||f==o||(i>=r&&(r+=t),u=e(n),f>u&&(u+=t),o<f&&(o+=t),u>=f&&u<=o)}function g(n,i,r){var u,e=i.getTime(),f=r.getTime();return e>=f&&(f+=t),u=n.getTime(),u>=e&&u<=f}function n(n,i){var r=n.getHours();return n=new Date(n),v(n,i*t),u(n,r),n}function v(n,t,i){var r,u=n.getTimezoneOffset();n.setTime(n.getTime()+t);i||(r=n.getTimezoneOffset()-u,n.setTime(n.getTime()+r*h))}function nt(n,t){return n=new Date(r.date.getDate(n).getTime()+r.date.getMilliseconds(t)),u(n,t.getHours()),n}function y(){return f(new Date)}function tt(n){return f(n).getTime()==y().getTime()}function s(n){var t=new Date(1980,1,1,0,0,0);return n&&t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}var h=6e4,t=864e5;return{adjustDST:u,dayOfWeek:l,setDayOfWeek:c,getDate:f,isInDateRange:g,isInTimeRange:d,isToday:tt,nextDay:function(t){return n(t,1)},previousDay:function(t){return n(t,-1)},toUtcTime:k,MS_PER_DAY:t,MS_PER_HOUR:60*h,MS_PER_MINUTE:h,setTime:v,setHours:nt,addDays:n,today:y,toInvariantTime:s,firstDayOfMonth:a,lastDayOfMonth:p,weekInYear:b,getMilliseconds:e}}();r.stripWhitespace=function(n){var t,u,i;if(document.createNodeIterator)for(t=document.createNodeIterator(n,NodeFilter.SHOW_TEXT,function(t){return t.parentNode==n?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);t.nextNode();)t.referenceNode&&!t.referenceNode.textContent.trim()&&t.referenceNode.parentNode.removeChild(t.referenceNode);else for(u=0;u<n.childNodes.length;u++)i=n.childNodes[u],3!=i.nodeType||/\S/.test(i.nodeValue)||(n.removeChild(i),u--),1==i.nodeType&&r.stripWhitespace(i)};er=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(n){setTimeout(n,1e3/60)};r.animationFrame=function(n){er.call(t,n)};a=[];r.queueAnimation=function(n){a[a.length]=n;1===a.length&&r.runNextAnimation()};r.runNextAnimation=function(){r.animationFrame(function(){a[0]&&(a.shift()(),a[0]&&r.runNextAnimation())})};r.parseQueryStringParams=function(n){for(var u=n.split("?")[1]||"",r={},i=u.split(/&|=/),f=i.length,t=0;t<f;t+=2)""!==i[t]&&(r[decodeURIComponent(i[t])]=decodeURIComponent(i[t+1]));return r};r.elementUnderCursor=function(n){if(i!==n.x.client)return document.elementFromPoint(n.x.client,n.y.client)};r.wheelDeltaY=function(n){var r,t=n.originalEvent,u=t.wheelDeltaY;return t.wheelDelta?(u===i||u)&&(r=t.wheelDelta):t.detail&&t.axis===t.VERTICAL_AXIS&&(r=10*-t.detail),r};r.throttle=function(n,t){var r,u,f=0;return!t||t<=0?n:(u=function(){function u(){n.apply(o,s);f=+new Date}var o=this,e=+new Date-f,s=arguments;return f?(r&&clearTimeout(r),e>t?u():r=setTimeout(u,t-e),i):u()},u.cancel=function(){clearTimeout(r)},u)};r.caret=function(t,r,f){var e,o,s,h,l,c=r!==i;if(f===i&&(f=r),t[0]&&(t=t[0]),!c||!t.disabled){try{t.selectionStart!==i?c?(t.focus(),o=u.mobileOS,o.wp||o.android?setTimeout(function(){t.setSelectionRange(r,f)},0):t.setSelectionRange(r,f)):r=[t.selectionStart,t.selectionEnd]:document.selection&&(n(t).is(":visible")&&t.focus(),e=t.createTextRange(),c?(e.collapse(!0),e.moveStart("character",r),e.moveEnd("character",f-r),e.select()):(s=e.duplicate(),e.moveToBookmark(document.selection.createRange().getBookmark()),s.setEndPoint("EndToStart",e),h=s.text.length,l=h+e.text.length,r=[h,l]))}catch(a){r=[]}return r}};r.compileMobileDirective=function(n,i){var u=t.angular;return n.attr("data-"+r.ns+"role",n[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-","")),u.element(n).injector().invoke(["$compile",function(t){t(n)(i);/^\$(digest|apply)$/.test(i.$$phase)||i.$digest()}]),r.widgetInstance(n,r.mobile.ui)};r.antiForgeryTokens=function(){var t={},r=n("meta[name=csrf-token],meta[name=_csrf]").attr("content"),u=n("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");return n("input[name^='__RequestVerificationToken']").each(function(){t[this.name]=this.value}),u!==i&&r!==i&&(t[u]=r),t};r.cycleForm=function(n){function t(n){var t=r.widgetInstance(n);t&&t.focus?t.focus():n.focus()}var i=n.find("input, .k-widget").first(),u=n.find("button, .k-button").last();u.on("keydown",function(n){n.keyCode!=r.keys.TAB||n.shiftKey||(n.preventDefault(),t(i))});i.on("keydown",function(n){n.keyCode==r.keys.TAB&&n.shiftKey&&(n.preventDefault(),t(u))})},function(){function u(t,i,u,f){var s,o,h=n("<form>").attr({action:u,method:"POST",target:f}),e=r.antiForgeryTokens();e.fileName=i;s=t.split(";base64,");e.contentType=s[0].replace("data:","");e.base64=s[1];for(o in e)e.hasOwnProperty(o)&&n("<input>").attr({value:e[o],name:o,type:"hidden"}).appendTo(h);h.appendTo("body").submit().remove()}function f(n,t){var u,e,r,f,i,o=n;if("string"==typeof n){for(u=n.split(";base64,"),e=u[0],r=atob(u[1]),f=new Uint8Array(r.length),i=0;i<r.length;i++)f[i]=r.charCodeAt(i);o=new Blob([f.buffer],{type:e})}navigator.msSaveBlob(o,t)}function e(n,r){t.Blob&&n instanceof Blob&&(n=URL.createObjectURL(n));i.download=r;i.href=n;var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null);i.dispatchEvent(u);setTimeout(function(){URL.revokeObjectURL(n)})}var i=document.createElement("a"),o="download"in i&&!r.support.browser.edge;r.saveAs=function(n){var t=u;n.forceProxy||(o?t=e:navigator.msSaveBlob&&(t=f));t(n.dataURI,n.fileName,n.proxyURL,n.proxyTarget)}}();r.proxyModelSetters=function(n){var t={};return Object.keys(n||{}).forEach(function(i){Object.defineProperty(t,i,{get:function(){return n[i]},set:function(t){n[i]=t;n.dirty=!0}})}),t}}(jQuery,window),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()});!function(n,t){t("kendo.data.min",["kendo.core.min","kendo.data.odata.min","kendo.data.xml.min"],n)}(function(){return function(n,t){function ni(n,t,i,u){return function(f){var o,e={};for(o in f)e[o]=f[o];e.field=u?i+"."+f.field:i;t==r&&n._notifyChange&&n._notifyChange(e);n.trigger(t,e)}}function wi(t,i){if(t===i)return!0;var u,r=n.type(t),f=n.type(i);if(r!==f)return!1;if("date"===r)return t.getTime()===i.getTime();if("object"!==r&&"array"!==r)return!1;for(u in t)if(!wi(t[u],i[u]))return!1;return!0}function iu(n,t){var i;for(var r in n)if((i=n[r],k(i)&&i.field&&i.field===t)||i===t)return i;return null}function u(n){this.data=n||[]}function ft(n,i){if(n){var r=typeof n===s?{field:n,dir:i}:n,u=c(r)?r:r!==t?[r]:[];return lu(u,function(n){return!!n.dir})}}function bi(n){var i,f,r,t,u=n.filters;if(u)for(i=0,f=u.length;i<f;i++)r=u[i],t=r.operator,t&&typeof t===s&&(r.operator=pr[t.toLowerCase()]||t),bi(r)}function nt(n){if(n&&!w(n))return!c(n)&&n.filters||(n={logic:"and",filters:c(n)?n:[n]}),bi(n),n}function ru(n,t){return!n.logic&&!t.logic&&n.field===t.field&&n.value===t.value&&n.operator===t.operator}function ki(n){return n=n||{},w(n)?{logic:"and",filters:[]}:nt(n)}function di(n,t){return t.logic||n.field>t.field?1:n.field<t.field?-1:0}function gi(n,t){var f,e,i,r,u;if((n=ki(n),t=ki(t),n.logic!==t.logic)||(i=(n.filters||[]).slice(),r=(t.filters||[]).slice(),i.length!==r.length))return!1;for(i=i.sort(di),r=r.sort(di),u=0;u<i.length;u++)if(f=i[u],e=r[u],f.logic&&e.logic){if(!gi(f,e))return!1}else if(!ru(f,e))return!1;return!0}function uu(n){return c(n)?n:[n]}function et(n,i){var r=typeof n===s?{field:n,dir:i}:n,u=c(r)?r:r!==t?[r]:[];return ui(u,function(n){return{field:n.field,dir:n.dir||"asc",aggregates:n.aggregates}})}function fu(n,t){return n&&n.getTime&&t&&t.getTime?n.getTime()===t.getTime():n===t}function eu(n,t,r,u,f,e){var h,c,s,l,o;for(t=t||[],l=t.length,h=0;h<l;h++)c=t[h],s=c.aggregate,o=c.field,n[o]=n[o]||{},e[o]=e[o]||{},e[o][s]=e[o][s]||{},n[o][s]=wr[s.toLowerCase()](n[o][s],r,i.accessor(o),u,f,e[o][s])}function v(n){return"number"==typeof n&&!isNaN(n)}function at(n){return n&&n.getTime}function vt(n){for(var i=n.length,r=Array(i),t=0;t<i;t++)r[t]=n[t].toJSON();return r}function ou(n,t,r,u,f){for(var s,o,e,h={},c=0,l=n.length;c<l;c++){s=n[c];for(o in t)e=f[o],e&&e!==o&&(h[e]||(h[e]=i.setter(e)),h[e](s,t[o](s)),delete s[o])}}function nr(n,t,i,r,u){for(var e,f,o,s=0,h=n.length;s<h;s++){e=n[s];for(f in t)e[f]=i._parse(f,t[f](e)),o=u[f],o&&o!==f&&delete e[o]}}function tr(n,t,i,r,u){for(var f,e,o=0,s=n.length;o<s;o++)f=n[o],e=r[f.field],e&&e!=f.field&&(f.field=e),f.value=i._parse(f.field,f.value),f.hasSubgroups?tr(f.items,t,i,r,u):nr(f.items,t,i,r,u)}function ti(n,t,i,r,u,f){return function(e){return e=n(e),e&&!w(r)&&("[object Array]"===gt.call(e)||e instanceof a||(e=[e]),i(e,r,new t,u,f)),e||[]}}function ii(n,t,i,r){for(var f,u,o,e=0;t.length&&r&&(f=t[e],u=f.items,o=u.length,n&&n.field===f.field&&n.value===f.value?(n.hasSubgroups&&n.items.length?ii(n.items[n.items.length-1],f.items,i,r):(u=u.slice(i,i+r),n.items=n.items.concat(u)),t.splice(e--,1)):f.hasSubgroups&&u.length?(ii(f,u,i,r),f.items.length||t.splice(e--,1)):(u=u.slice(i,i+r),f.items=u,f.items.length||t.splice(e--,1)),0===u.length?i-=o:(i=0,r-=u.length),!(++e>=t.length)););e<t.length&&t.splice(e,t.length-e)}function ri(n){for(var u,t,i,r=[],f=0,e=n.length;f<e;f++)if(i=n.at(f),i.hasSubgroups)r=r.concat(ri(i.items));else for(u=i.items,t=0;t<u.length;t++)r.push(u.at(t));return r}function ir(n,t){var r,u,i;if(t)for(r=0,u=n.length;r<u;r++)i=n.at(r),i.hasSubgroups?ir(i.items,t):i.items=new ot(i.items,t)}function rr(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i].hasSubgroups){if(rr(n[i].items,t))return!0}else if(t(n[i].items,n[i]))return!0}function su(n,t,i,r){for(var u=0;u<n.length&&n[u].data!==t&&!ur(n[u].data,i,r);u++);}function ur(n,t,i){for(var r=0,u=n.length;r<u;r++){if(n[r]&&n[r].hasSubgroups)return ur(n[r].items,t,i);if(n[r]===t||n[r]===i)return n[r]=i,!0}}function fr(n,i,r,u,f){for(var e,o,s=0,h=n.length;s<h;s++)if(e=n[s],e&&!(e instanceof u))if(e.hasSubgroups===t||f){for(o=0;o<i.length;o++)if(i[o]===e){n[s]=i.at(o);su(r,i,e,n[s]);break}}else fr(e.items,i,r,u,f)}function yt(n,i,r,u){for(var o,s=n.length,h=r||0,c=t!==u?f.min(h+u,s):s,e=h;e<c;e++)if(o=n.at(e),o.uid==i.uid)return n.splice(e,1),o}function er(n,t){return t?sr(n,function(n){return n.uid&&n.uid==t.uid||n[t.idField]===t.id&&t.id!==t._defaultId}):-1}function or(n,t){return t?sr(n,function(n){return n.uid==t.uid}):-1}function sr(n,t){for(var i=0,r=n.length;i<r;i++)if(t(n[i]))return i;return-1}function hr(n,t){var i,r;return n&&!w(n)?(i=n[t],r=k(i)?i.from||i.field||t:n[t]||t,l(r)?t:r):t}function cr(n,t){var r,f,u,i={};for(u in n)"filters"!==u&&(i[u]=n[u]);if(n.filters)for(i.filters=[],r=0,f=n.filters.length;r<f;r++)i.filters[r]=cr(n.filters[r],t);else i.field=hr(t.fields,i.field);return i}function pt(n,t){for(var i,r,u,e=[],f=0,o=n.length;f<o;f++){i={};r=n[f];for(u in r)i[u]=r[u];i.field=hr(t.fields,i.field);i.aggregates&&c(i.aggregates)&&(i.aggregates=pt(i.aggregates,t));e.push(i)}return e}function hu(t,i){var s,c,l,h,o,a,r,u,f,e;for(t=n(t)[0],s=t.options,c=i[0],l=i[1],h=[],o=0,a=s.length;o<a;o++)f={},u=s[o],r=u.parentNode,r===t&&(r=null),u.disabled||r&&r.disabled||(r&&(f.optgroup=r.label),f[c.field]=u.text,e=u.attributes.value,e=e&&e.specified?u.value:u.text,f[l.field]=e,h.push(f));return h}function cu(t,i){for(var r,s,u,f,e,h=n(t)[0].tBodies[0],c=h?h.rows:[],a=i.length,l=[],o=0,v=c.length;o<v;o++){for(u={},e=!0,s=c[o].cells,r=0;r<a;r++)f=s[r],"th"!==f.nodeName.toLowerCase()&&(e=!1,u[i[r].field]=f.innerHTML);e||l.push(u)}return l}function lr(n){return function(){var t=this._data,i=h.fn[n].apply(this,lt.call(arguments));return this._data!=t&&this._attachBubbleHandlers(),i}}function ar(t,i){function o(n,t){return n.filter(t).add(n.find(t))}for(var r,f,s,e,h,u,l=n(t).children(),a=[],w=i[0].field,v=i[1]&&i[1].field,y=i[2]&&i[2].field,p=i[3]&&i[3].field,c=0,b=l.length;c<b;c++)r={_loaded:!0},f=l.eq(c),e=f[0].firstChild,u=f.children(),t=u.filter("ul"),u=u.filter(":not(ul)"),s=f.attr("data-id"),s&&(r.id=s),e&&(r[w]=3==e.nodeType?e.nodeValue:u.text()),v&&(r[v]=o(u,"a").attr("href")),p&&(r[p]=o(u,"img").attr("src")),y&&(h=o(u,".k-sprite").prop("className"),r[y]=h&&n.trim(h.replace("k-sprite",""))),t.length&&(r.items=ar(t.eq(0),i)),"true"==f.attr("data-hasChildren")&&(r.hasChildren=!0),a.push(r);return a}var ui,ot,e,fi,vr,y,st,yr,ei,pr,wr,oi,si,rt,hi,h,ci,li,b,ai,br,o=n.extend,p=n.proxy,k=n.isPlainObject,w=n.isEmptyObject,c=n.isArray,lu=n.grep,vi=n.ajax,yi=n.each,d=n.noop,i=window.kendo,l=i.isFunction,g=i.Observable,wt=i.Class,s="string",pi="function",kr="create",dr="read",gr="update",nu="destroy",r="change",tu="sync",bt="get",tt="error",it="requestStart",ht="progress",ut="requestEnd",au=[kr,dr,gr,nu],ct=function(n){return n},kt=i.getter,dt=i.stringify,f=Math,vu=[].push,yu=[].join,pu=[].pop,wu=[].splice,bu=[].shift,lt=[].slice,ku=[].unshift,gt={}.toString,du=i.support.stableSort,gu=/^\/Date\((.*?)\)\/$/,a=g.extend({init:function(n,t){var i=this;i.type=t||e;g.fn.init.call(i);i.length=n.length;i.wrapAll(n,i)},at:function(n){return this[n]},toJSON:function(){for(var n,i=this.length,r=Array(i),t=0;t<i;t++)n=this[t],n instanceof e&&(n=n.toJSON()),r[t]=n;return r},parent:d,wrapAll:function(n,t){var i,r,u=this,f=function(){return u};for(t=t||[],i=0,r=n.length;i<r;i++)t[i]=u.wrap(n[i],f);return t},wrap:function(n,t){var u,i=this;return null!==n&&"[object Object]"===gt.call(n)&&(u=n instanceof i.type||n instanceof y,u||(n=n instanceof e?n.toJSON():n,n=new i.type(n)),n.parent=t,n.bind(r,function(n){i.trigger(r,{field:n.field,node:n.node,index:n.index,items:n.items||[this],action:n.node?n.action||"itemloaded":"itemchange"})})),n},push:function(){var n,i=this.length,t=this.wrapAll(arguments);return n=vu.apply(this,t),this.trigger(r,{action:"add",index:i,items:t}),n},slice:lt,sort:[].sort,join:yu,pop:function(){var n=this.length,t=pu.apply(this);return n&&this.trigger(r,{action:"remove",index:n-1,items:[t]}),t},splice:function(n,t,i){var u,f,e,o=this.wrapAll(lt.call(arguments,2));if(u=wu.apply(this,[n,t].concat(o)),u.length)for(this.trigger(r,{action:"remove",index:n,items:u}),f=0,e=u.length;f<e;f++)u[f]&&u[f].children&&u[f].unbind(r);return i&&this.trigger(r,{action:"add",index:n,items:o}),u},shift:function(){var t=this.length,n=bu.apply(this);return t&&this.trigger(r,{action:"remove",index:0,items:[n]}),n},unshift:function(){var n,t=this.wrapAll(arguments);return n=ku.apply(this,t),this.trigger(r,{action:"add",index:0,items:t}),n},indexOf:function(n){for(var i=this,t=0,r=i.length;t<r;t++)if(i[t]===n)return t;return-1},forEach:function(n){for(var t=0,i=this.length;t<i;t++)n(this[t],t,this)},map:function(n){for(var t=0,i=[],r=this.length;t<r;t++)i[t]=n(this[t],t,this);return i},reduce:function(n){var i,t=0,r=this.length;for(2==arguments.length?i=arguments[1]:t<r&&(i=this[t++]);t<r;t++)i=n(i,this[t],t,this);return i},reduceRight:function(n){var i,t=this.length-1;for(2==arguments.length?i=arguments[1]:t>0&&(i=this[t--]);t>=0;t--)i=n(i,this[t],t,this);return i},filter:function(n){for(var i,t=0,r=[],u=this.length;t<u;t++)i=this[t],n(i,t,this)&&(r[r.length]=i);return r},find:function(n){for(var i,t=0,r=this.length;t<r;t++)if(i=this[t],n(i,t,this))return i},every:function(n){for(var i,t=0,r=this.length;t<r;t++)if(i=this[t],!n(i,t,this))return!1;return!0},some:function(n){for(var i,t=0,r=this.length;t<r;t++)if(i=this[t],n(i,t,this))return!0;return!1},remove:function(n){var t=this.indexOf(n);t!==-1&&this.splice(t,1)},empty:function(){this.splice(0,this.length)}});"undefined"!=typeof Symbol&&Symbol.iterator&&!a.prototype[Symbol.iterator]&&(a.prototype[Symbol.iterator]=[][Symbol.iterator]);ot=a.extend({init:function(n,t){g.fn.init.call(this);this.type=t||e;for(var i=0;i<n.length;i++)this[i]=n[i];this.length=i;this._parent=p(function(){return this},this)},at:function(n){var t=this[n];return t instanceof this.type?t.parent=this._parent:t=this[n]=this.wrap(t,this._parent),t}});e=g.extend({init:function(n){var t,r,u=this,f=function(){return u};g.fn.init.call(this);this._handlers={};for(r in n)t=n[r],"object"==typeof t&&t&&!t.getTime&&"_"!=r.charAt(0)&&(t=u.wrap(t,r,f)),u[r]=t;u.uid=i.guid()},shouldSerialize:function(n){return this.hasOwnProperty(n)&&"_handlers"!==n&&"_events"!==n&&typeof this[n]!==pi&&"uid"!==n},forEach:function(n){for(var t in this)this.shouldSerialize(t)&&n(this[t],t)},toJSON:function(){var n,t,i={};for(t in this)this.shouldSerialize(t)&&(n=this[t],(n instanceof e||n instanceof a)&&(n=n.toJSON()),i[t]=n);return i},get:function(n){var r,t=this;return t.trigger(bt,{field:n}),r="this"===n?t:i.getter(n,!0)(t)},_set:function(n,t){var r,u,f,s=this,o=n.indexOf(".")>=0;if(o)for(r=n.split("."),u="";r.length>1;){if(u+=r.shift(),f=i.getter(u,!0)(s),f instanceof e)return f.set(r.join("."),t),o;u+="."}return i.setter(n)(s,t),o},set:function(n,t){var u=this,e=!1,o=n.indexOf(".")>=0,f=i.getter(n,!0)(u);return f!==t&&(f instanceof g&&this._handlers[n]&&(this._handlers[n].get&&f.unbind(bt,this._handlers[n].get),f.unbind(r,this._handlers[n].change)),e=u.trigger("set",{field:n,value:t}),e||(o||(t=u.wrap(t,n,function(){return u})),(!u._set(n,t)||n.indexOf("(")>=0||n.indexOf("[")>=0)&&u.trigger(r,{field:n}))),e},parent:d,wrap:function(n,t,i){var l,u,o,s,f=this,c=gt.call(n);return null==n||"[object Object]"!==c&&"[object Array]"!==c||(o=n instanceof a,s=n instanceof h,"[object Object]"!==c||s||o?("[object Array]"===c||o||s)&&(o||s||(n=new a(n)),u=ni(f,r,t,!1),n.bind(r,u),f._handlers[t]={change:u}):(n instanceof e||(n=new e(n)),l=ni(f,bt,t,!0),n.bind(bt,l),u=ni(f,r,t,!0),n.bind(r,u),f._handlers[t]={get:l,change:u}),n.parent=i),n}});fi={number:function(n){return i.parseFloat(n)},date:function(n){return i.parseDate(n)},boolean:function(n){return typeof n===s?"true"===n.toLowerCase():null!=n?!!n:n},string:function(n){return null!=n?n+"":n},"default":function(n){return n}};vr={string:"",number:0,date:new Date,boolean:!1,"default":""};y=e.extend({init:function(i){var u,f,r=this;if((!i||n.isEmptyObject(i))&&(i=n.extend({},r.defaults,i),r._initializers))for(u=0;u<r._initializers.length;u++)f=r._initializers[u],i[f]=r.defaults[f]();e.fn.init.call(r,i);r.dirty=!1;r.dirtyFields={};r.idField&&(r.id=r.get(r.idField),r.id===t&&(r.id=r._defaultId))},shouldSerialize:function(n){return e.fn.shouldSerialize.call(this,n)&&"uid"!==n&&!("id"!==this.idField&&"id"===n)&&"dirty"!==n&&"dirtyFields"!==n&&"_accessors"!==n},_parse:function(n,t){var i,u=this,f=n,r=u.fields||{};return n=r[n],n||(n=iu(r,f)),n&&(i=n.parse,!i&&n.type&&(i=fi[n.type.toLowerCase()])),i?i(t):t},_notifyChange:function(n){var t=n.action;"add"!=t&&"remove"!=t||(this.dirty=!0,this.dirtyFields[n.field]=!0)},editable:function(n){return n=(this.fields||{})[n],!n||n.editable!==!1},set:function(n,t,i){var r=this,u=r.dirty;r.editable(n)&&(t=r._parse(n,t),wi(t,r.get(n))||(r.dirty=!0,r.dirtyFields[n]=!0,e.fn.set.call(r,n,t,i)&&!u&&(r.dirty=u,r.dirty||(r.dirtyFields[n]=!1))))},accept:function(n){var i,r,t=this,u=function(){return t};for(i in n)r=n[i],"_"!=i.charAt(0)&&(r=t.wrap(n[i],i,u)),t._set(i,r);t.idField&&(t.id=t.get(t.idField));t.dirty=!1;t.dirtyFields={}},isNew:function(){return this.id===this._defaultId}});y.define=function(n,i){i===t&&(i=n,n=y);var e,f,u,v,h,l,b,c,r=o({defaults:{}},i),p={},a=r.id,w=[];if(a&&(r.idField=a),r.id&&delete r.id,a&&(r.defaults[a]=r._defaultId=""),"[object Array]"===gt.call(r.fields)){for(l=0,b=r.fields.length;l<b;l++)u=r.fields[l],typeof u===s?p[u]={}:u.field&&(p[u.field]=u);r.fields=p}for(f in r.fields)u=r.fields[f],v=u.type||"default",h=null,c=f,f=typeof u.field===s?u.field:f,u.nullable||(h=r.defaults[c!==f?c:f]=u.defaultValue!==t?u.defaultValue:vr[v.toLowerCase()],"function"==typeof h&&w.push(f)),i.id===f&&(r._defaultId=h),r.defaults[c!==f?c:f]=h,u.parse=u.parse||fi[v];return w.length>0&&(r._initializers=w),e=n.extend(r),e.define=function(n){return y.define(e,n)},r.fields&&(e.fields=r.fields,e.idField=r.idField),e};st={selector:function(n){return l(n)?n:kt(n)},compare:function(n){var t=this.selector(n);return function(n,i){return n=t(n),i=t(i),null==n&&null==i?0:null==n?-1:null==i?1:n.localeCompare?n.localeCompare(i):n>i?1:n<i?-1:0}},create:function(n){var t=n.compare||this.compare(n.field);return"desc"==n.dir?function(n,i){return t(i,n,!0)}:t},combine:function(n){return function(t,i){for(var r=n[0](t,i),u=1,f=n.length;u<f;u++)r=r||n[u](t,i);return r}}};yr=o({},st,{asc:function(n){var t=this.selector(n);return function(n,i){var r=t(n),u=t(i);return r&&r.getTime&&u&&u.getTime&&(r=r.getTime(),u=u.getTime()),r===u?n.__position-i.__position:null==r?-1:null==u?1:r.localeCompare?r.localeCompare(u):r>u?1:-1}},desc:function(n){var t=this.selector(n);return function(n,i){var u=t(n),r=t(i);return u&&u.getTime&&r&&r.getTime&&(u=u.getTime(),r=r.getTime()),u===r?n.__position-i.__position:null==u?1:null==r?-1:r.localeCompare?r.localeCompare(u):u<r?1:-1}},create:function(n){return this[n.dir](n.field)}});ui=function(n,t){for(var r=n.length,u=Array(r),i=0;i<r;i++)u[i]=t(n[i],i,n);return u};ei=function(){function i(n){return"string"==typeof n&&(n=n.replace(/[\r\n]+/g,"")),JSON.stringify(n)}function n(n){return function(t,r,u){return r+="",u&&(t="("+t+" || '').toLowerCase()",r=r.toLowerCase()),n(t,i(r),u)}}function t(n,t,r,u){if(null!=r){if(typeof r===s){var f=gu.exec(r);f?r=new Date(+f[1]):u?(r=i(r.toLowerCase()),t="(("+t+" || '')+'').toLowerCase()"):r=i(r)}r.getTime&&(t="("+t+"&&"+t+".getTime?"+t+".getTime():"+t+")",r=r.getTime())}return t+" "+n+" "+r}function r(n){var i,r,u,t;for(i="/^",r=!1,u=0;u<n.length;++u){if(t=n.charAt(u),r)i+="\\"+t;else{if("~"==t){r=!0;continue}i+="*"==t?".*":"?"==t?".":".+^$()[]{}|\\/\n\r\u2028\u2029".indexOf(t)>=0?"\\"+t:t}r=!1}return i+"$/"}return{quote:function(n){return n&&n.getTime?"new Date("+n.getTime()+")":i(n)},eq:function(n,i,r){return t("==",n,i,r)},neq:function(n,i,r){return t("!=",n,i,r)},gt:function(n,i,r){return t(">",n,i,r)},gte:function(n,i,r){return t(">=",n,i,r)},lt:function(n,i,r){return t("<",n,i,r)},lte:function(n,i,r){return t("<=",n,i,r)},startswith:n(function(n,t){return n+".lastIndexOf("+t+", 0) == 0"}),doesnotstartwith:n(function(n,t){return n+".lastIndexOf("+t+", 0) == -1"}),endswith:n(function(n,t){var i=t?t.length-2:0;return n+".indexOf("+t+", "+n+".length - "+i+") >= 0"}),doesnotendwith:n(function(n,t){var i=t?t.length-2:0;return n+".indexOf("+t+", "+n+".length - "+i+") < 0"}),contains:n(function(n,t){return n+".indexOf("+t+") >= 0"}),doesnotcontain:n(function(n,t){return n+".indexOf("+t+") == -1"}),matches:n(function(n,t){return t=t.substring(1,t.length-1),r(t)+".test("+n+")"}),doesnotmatch:n(function(n,t){return t=t.substring(1,t.length-1),"!"+r(t)+".test("+n+")"}),isempty:function(n){return n+" === ''"},isnotempty:function(n){return n+" !== ''"},isnull:function(n){return"("+n+" == null)"},isnotnull:function(n){return"("+n+" != null)"}}}();u.filterExpr=function(n){for(var r,f,s,h,l=[],e=[],o=[],a=n.filters,c=0,v=a.length;c<v;c++)r=a[c],s=r.field,h=r.operator,r.filters?(f=u.filterExpr(r),r=f.expression.replace(/__o\[(\d+)\]/g,function(n,t){return t=+t,"__o["+(o.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(n,t){return t=+t,"__f["+(e.length+t)+"]"}),o.push.apply(o,f.operators),e.push.apply(e,f.fields)):(typeof s===pi?(f="__f["+e.length+"](d)",e.push(s)):f=i.expr(s),typeof h===pi?(r="__o["+o.length+"]("+f+", "+ei.quote(r.value)+")",o.push(h)):r=ei[(h||"eq").toLowerCase()](f,r.value,r.ignoreCase===t||r.ignoreCase)),l.push(r);return{expression:"("+l.join({and:" && ",or:" || "}[n.logic])+")",fields:e,operators:o}};pr={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain",isnull:"isnull",isempty:"isempty",isnotempty:"isnotempty"};u.normalizeFilter=nt;u.compareFilters=gi;u.prototype={toArray:function(){return this.data},range:function(n,t){return new u(this.data.slice(n,n+t))},skip:function(n){return new u(this.data.slice(n))},take:function(n){return new u(this.data.slice(0,n))},select:function(n){return new u(ui(this.data,n))},order:function(n,t,i){var r={dir:t};return n&&(n.compare?r.compare=n.compare:r.field=n),new u(i?this.data.sort(st.create(r)):this.data.slice(0).sort(st.create(r)))},orderBy:function(n,t){return this.order(n,"asc",t)},orderByDescending:function(n,t){return this.order(n,"desc",t)},sort:function(n,t,i,r){var u,e,f=ft(n,t),o=[];if(i=i||st,f.length){for(u=0,e=f.length;u<e;u++)o.push(i.create(f[u]));return this.orderBy({compare:i.combine(o)},r)}return this},filter:function(n){var t,r,s,i,h,f,e,o,c=this.data,l=[];if(n=nt(n),!n||0===n.filters.length)return this;for(i=u.filterExpr(n),f=i.fields,e=i.operators,h=o=Function("d, __f, __o","return "+i.expression),(f.length||e.length)&&(o=function(n){return h(n,f,e)}),t=0,s=c.length;t<s;t++)r=c[t],o(r)&&l.push(r);return new u(l)},group:function(n,t){n=et(n||[]);t=t||this.data;var i,f=this,r=new u(f.data);return n.length>0&&(i=n[0],r=r.groupBy(i).select(function(r){var f=new u(t).filter([{field:r.field,operator:"eq",value:r.value,ignoreCase:!1}]);return{field:r.field,value:r.value,items:n.length>1?new u(r.items).group(n.slice(1),f.toArray()).toArray():r.items,hasSubgroups:n.length>1,aggregates:f.aggregate(i.aggregates)}})),r},groupBy:function(n){if(w(n)||!this.data.length)return new u([]);for(var e,o,t=n.field,s=this._sortForGrouping(t,n.dir||"asc"),c=i.accessor(t),r=c.get(s[0],t),f={field:t,value:r,items:[]},l=[f],h=0,a=s.length;h<a;h++)e=s[h],o=c.get(e,t),fu(r,o)||(r=o,f={field:t,value:r,items:[]},l.push(f)),f.items.push(e);return new u(l)},_sortForGrouping:function(n,t){var i,f,r=this.data;if(!du){for(i=0,f=r.length;i<f;i++)r[i].__position=i;for(r=new u(r).sort(n,t,yr).toArray(),i=0,f=r.length;i<f;i++)delete r[i].__position;return r}return this.sort(n,t).toArray()},aggregate:function(n){var t,i,r={},u={};if(n&&n.length)for(t=0,i=this.data.length;t<i;t++)eu(r,n,this.data[t],t,i,u);return r}};wr={sum:function(n,t,i){var r=i.get(t);return v(n)?v(r)&&(n+=r):n=r,n},count:function(n){return(n||0)+1},average:function(n,i,r,u,f,e){var o=r.get(i);return e.count===t&&(e.count=0),v(n)?v(o)&&(n+=o):n=o,v(o)&&e.count++,u==f-1&&v(n)&&(n/=e.count),n},max:function(n,t,i){var r=i.get(t);return v(n)||at(n)||(n=r),n<r&&(v(r)||at(r))&&(n=r),n},min:function(n,t,i){var r=i.get(t);return v(n)||at(n)||(n=r),n>r&&(v(r)||at(r))&&(n=r),n}};u.process=function(n,i,r){i=i||{};var s,f=new u(n),e=i.group,o=et(e||[]).concat(ft(i.sort||[])),h=i.filterCallback,c=i.filter,l=i.skip,a=i.take;return c&&(f=f.filter(c),h&&(f=h(f)),s=f.toArray().length),o&&(f=r?f.sort(o,t,t,r):f.sort(o),e&&(n=f.toArray())),l!==t&&a!==t&&(f=f.range(l,a)),e&&(f=f.group(e,n)),{total:s,data:f.toArray()}};oi=wt.extend({init:function(n){this.data=n.data},read:function(n){n.success(this.data)},update:function(n){n.success(n.data)},create:function(n){n.success(n.data)},destroy:function(n){n.success(n.data)}});si=wt.extend({init:function(n){var i,t=this;n=t.options=o({},t.options,n);yi(au,function(t,i){typeof n[i]===s&&(n[i]={url:n[i]})});t.cache=n.cache?rt.create(n.cache):{find:d,add:d};i=n.parameterMap;l(n.push)&&(t.push=n.push);t.push||(t.push=ct);t.parameterMap=l(i)?i:function(n){var t={};return yi(n,function(n,r){n in i&&(n=i[n],k(n)&&(r=n.value(r),n=n.key));t[n]=r}),t}},options:{parameterMap:ct},create:function(n){return vi(this.setup(n,kr))},read:function(i){var r,o,u,f=this,e=f.cache;i=f.setup(i,dr);r=i.success||d;o=i.error||d;u=e.find(i.data);u!==t?r(u):(i.success=function(n){e.add(i.data,n);r(n)},n.ajax(i))},update:function(n){return vi(this.setup(n,gr))},destroy:function(n){return vi(this.setup(n,nu))},setup:function(n,t){n=n||{};var r,u=this,i=u.options[t],f=l(i.data)?i.data(n.data):i.data;return n=o(!0,{},i,n),r=o(!0,{},f,n.data),n.data=u.parameterMap(r,t),l(n.url)&&(n.url=n.url(r)),n}});rt=wt.extend({init:function(){this._store={}},add:function(n,i){n!==t&&(this._store[dt(n)]=i)},find:function(n){return this._store[dt(n)]},clear:function(){this._store={}},remove:function(n){delete this._store[dt(n)]}});rt.create=function(n){var t={inmemory:function(){return new rt}};return k(n)&&l(n.find)?n:n===!0?new rt:t[n]()};hi=wt.extend({init:function(n){var l,e,i,v,o,w,b,u,h,a,f,c,r,t=this;n=n||{};for(l in n)e=n[l],t[l]=typeof e===s?kt(e):e;v=n.modelBase||y;k(t.model)&&(t.model=i=v.define(t.model));o=p(t.data,t);t._dataAccessFunction=o;t.model&&(w=p(t.groups,t),b=p(t.serialize,t),u={},h={},a={},f={},c=!1,i=t.model,i.fields&&(yi(i.fields,function(n,t){var i;r=n;k(t)&&t.field?r=t.field:typeof t===s&&(r=t);k(t)&&t.from&&(i=t.from);c=c||i&&i!==n||r!==n;h[n]=kt(i||r);a[n]=kt(n);u[i||r]=n;f[n]=i||r}),!n.serialize&&c&&(t.serialize=ti(b,i,ou,a,u,f))),t._dataAccessFunction=o,t.data=ti(o,i,nr,h,u,f),t.groups=ti(w,i,tr,h,u,f))},errors:function(n){return n?n.errors:null},parse:ct,data:ct,total:function(n){return n.length},groups:ct,aggregates:function(){return{}},serialize:function(n){return n}});h=g.extend({init:function(n){var s,e,f,u=this;n&&(e=n.data);n=u.options=o({},u.options,n);u._map={};u._prefetch={};u._data=[];u._pristineData=[];u._ranges=[];u._view=[];u._pristineTotal=0;u._destroyed=[];u._pageSize=n.pageSize;u._page=n.page||(n.pageSize?1:t);u._sort=ft(n.sort);u._filter=nt(n.filter);u._group=et(n.group);u._aggregate=n.aggregate;u._total=n.total;u._shouldDetachObservableParents=!0;g.fn.init.call(u);u.transport=ci.create(n,e,u);l(u.transport.push)&&u.transport.push({pushCreate:p(u._pushCreate,u),pushUpdate:p(u._pushUpdate,u),pushDestroy:p(u._pushDestroy,u)});null!=n.offlineStorage&&("string"==typeof n.offlineStorage?(f=n.offlineStorage,u._storage={getItem:function(){return JSON.parse(localStorage.getItem(f))},setItem:function(n){localStorage.setItem(f,dt(u.reader.serialize(n)))}}):u._storage=n.offlineStorage);u.reader=new i.data.readers[n.schema.type||"json"](n.schema);s=u.reader.model||{};u._detachObservableParents();u._data=u._observe(u._data);u._online=!0;u.bind(["push",tt,r,it,tu,ut,ht],n)},options:{data:null,schema:{modelBase:y},offlineStorage:null,serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1,inPlaceSort:!1},clone:function(){return this},online:function(i){return i!==t?this._online!=i&&(this._online=i,i)?this.sync():n.Deferred().resolve().promise():this._online},offlineData:function(n){return null==this.options.offlineStorage?null:n!==t?this._storage.setItem(n):this._storage.getItem()||[]},_isServerGrouped:function(){var n=this.group()||[];return this.options.serverGrouping&&n.length},_pushCreate:function(n){this._push(n,"pushCreate")},_pushUpdate:function(n){this._push(n,"pushUpdate")},_pushDestroy:function(n){this._push(n,"pushDestroy")},_push:function(n,t){var i=this._readData(n);i||(i=n);this[t](i)},_flatData:function(n,t){if(n){if(this._isServerGrouped())return ri(n);if(!t)for(var i=0;i<n.length;i++)n.at(i)}return n},parent:d,get:function(n){for(var i=this._flatData(this._data,this.options.useRanges),t=0,r=i.length;t<r;t++)if(i[t].id==n)return i[t]},getByUid:function(n){return this._getByUid(n,this._data)},_getByUid:function(n,t){var i,u,r=this._flatData(t,this.options.useRanges);if(r)for(i=0,u=r.length;i<u;i++)if(r[i].uid==n)return r[i]},indexOf:function(n){return or(this._data,n)},at:function(n){return this._data.at(n)},data:function(n){var r,i=this;if(n===t){if(i._data)for(r=0;r<i._data.length;r++)i._data.at(r);return i._data}i._detachObservableParents();i._data=this._observe(n);i._pristineData=n.slice(0);i._storeData();i._ranges=[];i.trigger("reset");i._addRange(i._data);i._total=i._data.length;i._pristineTotal=i._total;i._process(i._data)},view:function(n){return n===t?this._view:(this._view=this._observeView(n),t)},_observeView:function(n){var i,t=this;return fr(n,t._data,t._ranges,t.reader.model||e,t._isServerGrouped()),i=new ot(n,t.reader.model),i.parent=function(){return t.parent()},i},flatView:function(){var n=this.group()||[];return n.length?ri(this._view):this._view},add:function(n){return this.insert(this._data.length,n)},_createNewModel:function(n){return this.reader.model?new this.reader.model(n):n instanceof e?n:new e(n)},insert:function(n,t){return t||(t=n,n=0),t instanceof y||(t=this._createNewModel(t)),this._isServerGrouped()?this._data.splice(n,0,this._wrapInEmptyGroup(t)):this._data.splice(n,0,t),this._insertModelInRange(n,t),t},pushInsert:function(n,t){var i,e,r,o,f,u;t||(t=n,n=0);c(t)||(t=[t]);i=[];e=this.options.autoSync;this.options.autoSync=!1;try{for(r=0;r<t.length;r++)o=t[r],f=this.insert(n,o),i.push(f),u=f.toJSON(),this._isServerGrouped()&&(u=this._wrapInEmptyGroup(u)),this._pristineData.push(u),n++}finally{this.options.autoSync=e}i.length&&this.trigger("push",{type:"create",items:i})},pushCreate:function(n){this.pushInsert(this._data.length,n)},pushUpdate:function(n){var u,f,i,e,t;for(c(n)||(n=[n]),u=[],f=0;f<n.length;f++)i=n[f],e=this._createNewModel(i),t=this.get(e.id),t?(u.push(t),t.accept(i),t.trigger(r),this._updatePristineForModel(t,i)):this.pushCreate(i);u.length&&this.trigger("push",{type:"update",items:u})},pushDestroy:function(n){var t=this._removeItems(n);t.length&&this.trigger("push",{type:"destroy",items:t})},_removeItems:function(n){var i,f,t,e,r,u;c(n)||(n=[n]);i=[];f=this.options.autoSync;this.options.autoSync=!1;try{for(t=0;t<n.length;t++)e=n[t],r=this._createNewModel(e),u=!1,this._eachItem(this._data,function(n){for(var f,t=0;t<n.length;t++)if(f=n.at(t),f.id===r.id){i.push(f);n.splice(t,1);u=!0;break}}),u&&(this._removePristineForModel(r),this._destroyed.pop())}finally{this.options.autoSync=f}return i},remove:function(n){var i,t=this,r=t._isServerGrouped();return this._eachItem(t._data,function(u){if(i=t.options.useRanges&&!t.options.serverPaging?yt(u,n,t.currentRangeStart(),t.take()):yt(u,n),i&&r)return i.isNew&&i.isNew()||t._destroyed.push(i),!0}),this._removeModelFromRanges(n),n},destroyed:function(){return this._destroyed},created:function(){for(var i=[],t=this._flatData(this._data,this.options.useRanges),n=0,r=t.length;n<r;n++)t[n].isNew&&t[n].isNew()&&i.push(t[n]);return i},updated:function(){for(var i=[],t=this._flatData(this._data,this.options.useRanges),n=0,r=t.length;n<r;n++)t[n].isNew&&!t[n].isNew()&&t[n].dirty&&i.push(t[n]);return i},sync:function(){var i,t=this,r=[],u=[],e=t._destroyed,f=n.Deferred().resolve().promise();if(t.online()){if(!t.reader.model)return f;r=t.created();u=t.updated();i=[];t.options.batch&&t.transport.submit?i=t._sendSubmit(r,u,e):(i.push.apply(i,t._send("create",r)),i.push.apply(i,t._send("update",u)),i.push.apply(i,t._send("destroy",e)));f=n.when.apply(null,i).then(function(){for(var n=0,i=arguments.length;n<i;n++)arguments[n]&&t._accept(arguments[n]);t._storeData(!0);t._change({action:"sync"});t.trigger(tu)})}else t._storeData(!0),t._change({action:"sync"});return f},cancelChanges:function(n){var t=this;n instanceof i.data.Model?t._cancelModel(n):(t._destroyed=[],t._detachObservableParents(),t._data=t._observe(t._pristineData),t.options.serverPaging&&(t._total=t._pristineTotal),t._ranges=[],t._addRange(t._data,0),t._change(),t._markOfflineUpdatesAsDirty())},_markOfflineUpdatesAsDirty:function(){var n=this;null!=n.options.offlineStorage&&n._eachItem(n._data,function(n){for(var t,i=0;i<n.length;i++)t=n.at(i),"update"!=t.__state__&&"create"!=t.__state__||(t.dirty=!0)})},hasChanges:function(){var n,i,t=this._flatData(this._data,this.options.useRanges);if(this._destroyed.length)return!0;for(n=0,i=t.length;n<i;n++)if(t[n].isNew&&t[n].isNew()||t[n].dirty)return!0;return!1},_accept:function(t){var o,r=this,f=t.models,i=t.response,u=0,s=r._isServerGrouped(),h=r._pristineData,e=t.type;if(r.trigger(ut,{response:i,type:e}),i&&!w(i)){if(i=r.reader.parse(i),r._handleCustomErrors(i))return;i=r.reader.data(i);c(i)||(i=[i])}else i=n.map(f,function(n){return n.toJSON()});for("destroy"===e&&(r._destroyed=[]),u=0,o=f.length;u<o;u++)"destroy"!==e?(f[u].accept(i[u]),"create"===e?h.push(s?r._wrapInEmptyGroup(f[u]):i[u]):"update"===e&&r._updatePristineForModel(f[u],i[u])):r._removePristineForModel(f[u])},_updatePristineForModel:function(n,t){this._executeOnPristineForModel(n,function(n,r){i.deepExtend(r[n],t)})},_executeOnPristineForModel:function(n,t){this._eachPristineItem(function(i){var r=er(i,n);if(r>-1)return t(r,i),!0})},_removePristineForModel:function(n){this._executeOnPristineForModel(n,function(n,t){t.splice(n,1)})},_readData:function(n){var t=this._isServerGrouped()?this.reader.groups:this.reader.data;return t.call(this.reader,n)},_eachPristineItem:function(n){this._eachItem(this._pristineData,n)},_eachItem:function(n,t){n&&n.length&&(this._isServerGrouped()?rr(n,t):t(n))},_pristineForModel:function(n){var i,t,r=function(r){if(t=er(r,n),t>-1)return i=r[t],!0};return this._eachPristineItem(r),i},_cancelModel:function(n){var i=this,t=this._pristineForModel(n);this._eachItem(this._data,function(r){var u=or(r,n);u>=0&&(!t||n.isNew()&&!t.__state__?(r.splice(u,1),i._removeModelFromRanges(n)):(r[u].accept(t),"update"==t.__state__&&(r[u].dirty=!0)))})},_submit:function(t,i){var r=this;r.trigger(it,{type:"submit"});r.trigger(ht);r.transport.submit(o({success:function(i,r){var u=n.grep(t,function(n){return n.type==r})[0];u&&u.resolve({response:i,models:u.models,type:r})},error:function(n,i,u){for(var f=0;f<t.length;f++)t[f].reject(n);r.error(n,i,u)}},i))},_sendSubmit:function(t,i,r){var u=this,f=[];return u.options.batch&&(t.length&&f.push(n.Deferred(function(n){n.type="create";n.models=t})),i.length&&f.push(n.Deferred(function(n){n.type="update";n.models=i})),r.length&&f.push(n.Deferred(function(n){n.type="destroy";n.models=r})),u._submit(f,{data:{created:u.reader.serialize(vt(t)),updated:u.reader.serialize(vt(i)),destroyed:u.reader.serialize(vt(r))}})),f},_promise:function(t,i,r){var u=this;return n.Deferred(function(n){u.trigger(it,{type:r});u.trigger(ht);u.transport[r].call(u.transport,o({success:function(t){n.resolve({response:t,models:i,type:r})},error:function(t,i,r){n.reject(t);u.error(t,i,r)}},t))}).promise()},_send:function(n,t){var i,f,r=this,u=[],e=r.reader.serialize(vt(t));if(r.options.batch)t.length&&u.push(r._promise({data:{models:e}},t,n));else for(i=0,f=t.length;i<f;i++)u.push(r._promise({data:e[i]},[t[i]],n));return u},read:function(t){var i=this,u=i._params(t),r=n.Deferred();return i._queueRequest(u,function(){var n=i.trigger(it,{type:"read"});n?(i._dequeueRequest(),r.resolve(n)):(i.trigger(ht),i._ranges=[],i.trigger("reset"),i.online()?i.transport.read({data:u,success:function(n){i._ranges=[];i.success(n,u);r.resolve()},error:function(){var n=lt.call(arguments);i.error.apply(i,n);r.reject.apply(r,n)}}):null!=i.options.offlineStorage&&(i.success(i.offlineData(),u),r.resolve()))}),r.promise()},_readAggregates:function(n){return this.reader.aggregates(n)},success:function(n){var o,s,h,c,u,l,f,a,e,i=this,v=i.options;if(i.trigger(ut,{response:n,type:"read"}),i.online()){if(n=i.reader.parse(n),i._handleCustomErrors(n))return i._dequeueRequest(),t;i._total=i.reader.total(n);i._aggregate&&v.serverAggregates&&(i._aggregateResult=i._readAggregates(n));n=i._readData(n);i._destroyed=[]}else{for(n=i._readData(n),o=[],s={},h=i.reader.model,c=h?h.idField:"id",u=0;u<this._destroyed.length;u++)l=this._destroyed[u][c],s[l]=l;for(u=0;u<n.length;u++)f=n[u],a=f.__state__,"destroy"==a?s[f[c]]||this._destroyed.push(this._createNewModel(f)):o.push(f);n=o;i._total=n.length}if(i._pristineTotal=i._total,i._pristineData=n.slice(0),i._detachObservableParents(),i.options.endless){for(i._data.unbind(r,i._changeHandler),n=i._observe(n),e=0;e<n.length;e++)i._data.push(n[e]);i._data.bind(r,i._changeHandler)}else i._data=i._observe(n);i._markOfflineUpdatesAsDirty();i._storeData();i._addRange(i._data);i._process(i._data);i._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents)for(var n=0;n<this._data.length;n++)this._data[n].parent&&(this._data[n].parent=d)},_storeData:function(n){function f(n){for(var t,i,u=[],r=0;r<n.length;r++)t=n.at(r),i=t.toJSON(),e&&t.items?i.items=f(t.items):(i.uid=t.uid,o&&(t.isNew()?i.__state__="create":t.dirty&&(i.__state__="update"))),u.push(i);return u}var i,r,t,u,e=this._isServerGrouped(),o=this.reader.model;if(null!=this.options.offlineStorage){for(i=f(this._data),r=[],t=0;t<this._destroyed.length;t++)u=this._destroyed[t].toJSON(),u.__state__="destroy",r.push(u);this.offlineData(i.concat(r));n&&(this._pristineData=this._readData(i))}},_addRange:function(n,i){var r=this,u=t!==i?i:r._skip||0,f=u+r._flatData(n,!0).length;r._ranges.push({start:u,end:f,data:n,timestamp:(new Date).getTime()});r._ranges.sort(function(n,t){return n.start-t.start})},error:function(n,t,i){this._dequeueRequest();this.trigger(ut,{});this.trigger(tt,{xhr:n,status:t,errorThrown:i})},_params:function(n){var t=this,i=o({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate},n);return t.options.serverPaging||(delete i.take,delete i.skip,delete i.page,delete i.pageSize),t.options.serverGrouping?t.reader.model&&i.group&&(i.group=pt(i.group,t.reader.model)):delete i.group,t.options.serverFiltering?t.reader.model&&i.filter&&(i.filter=cr(i.filter,t.reader.model)):delete i.filter,t.options.serverSorting?t.reader.model&&i.sort&&(i.sort=pt(i.sort,t.reader.model)):delete i.sort,t.options.serverAggregates?t.reader.model&&i.aggregate&&(i.aggregate=pt(i.aggregate,t.reader.model)):delete i.aggregate,i},_queueRequest:function(n,i){var r=this;r._requestInProgress?r._pending={callback:p(i,r),options:n}:(r._requestInProgress=!0,r._pending=t,i())},_dequeueRequest:function(){var n=this;n._requestInProgress=!1;n._pending&&n._queueRequest(n._pending.options,n._pending.callback)},_handleCustomErrors:function(n){if(this.reader.errors){var t=this.reader.errors(n);if(t)return this.trigger(tt,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t}),!0}return!1},_shouldWrap:function(n){var t=this.reader.model;return!(!t||!n.length)&&!(n[0]instanceof t)},_observe:function(n){var i,t=this,u=t.reader.model;return t._shouldDetachObservableParents=!0,n instanceof a?(t._shouldDetachObservableParents=!1,t._shouldWrap(n)&&(n.type=t.reader.model,n.wrapAll(n,n))):(i=t.pageSize()&&!t.options.serverPaging?ot:a,n=new i(n,t.reader.model),n.parent=function(){return t.parent()}),t._isServerGrouped()&&ir(n,u),t._changeHandler&&t._data&&t._data instanceof a?t._data.unbind(r,t._changeHandler):t._changeHandler=p(t._change,t),n.bind(r,t._changeHandler)},_updateTotalForAction:function(n,t){var i=this,r=parseInt(i._total,10);v(i._total)||(r=parseInt(i._pristineTotal,10));"add"===n?r+=t.length:"remove"===n?r-=t.length:"itemchange"===n||"sync"===n||i.options.serverPaging?"sync"===n&&(r=i._pristineTotal=parseInt(i._total,10)):r=i._pristineTotal;i._total=r},_change:function(n){var i,f,u,t=this,r=n?n.action:"";if("remove"===r)for(i=0,f=n.items.length;i<f;i++)n.items[i].isNew&&n.items[i].isNew()||t._destroyed.push(n.items[i]);!t.options.autoSync||"add"!==r&&"remove"!==r&&"itemchange"!==r?(t._updateTotalForAction(r,n?n.items:[]),t._process(t._data,n)):(u=function(i){"sync"===i.action&&(t.unbind("change",u),t._updateTotalForAction(r,n.items))},t.first("change",u),t.sync())},_calculateAggregates:function(n,t){t=t||{};var i=new u(n),f=t.aggregate,r=t.filter;return r&&(i=i.filter(r)),i.aggregate(f)},_process:function(n,i){var e,u=this,f={};u.options.serverPaging!==!0&&(f.skip=u._skip,f.take=u._take||u._pageSize,f.skip===t&&u._page!==t&&u._pageSize!==t&&(f.skip=(u._page-1)*u._pageSize));u.options.serverSorting!==!0&&(f.sort=u._sort);u.options.serverFiltering!==!0&&(f.filter=u._filter);u.options.serverGrouping!==!0&&(f.group=u._group);u.options.serverAggregates!==!0&&(f.aggregate=u._aggregate,u._aggregateResult=u._calculateAggregates(n,f));e=u._queryProcess(n,f);u.view(e.data);e.total===t||u.options.serverFiltering||(u._total=e.total);i=i||{};i.items=i.items||u._view;u.trigger(r,i)},_queryProcess:function(n,t){return this.options.inPlaceSort?u.process(n,t,this.options.inPlaceSort):u.process(n,t)},_mergeState:function(n){var i=this;return n!==t&&(i._pageSize=n.pageSize,i._page=n.page,i._sort=n.sort,i._filter=n.filter,i._group=n.group,i._aggregate=n.aggregate,i._skip=i._currentRangeStart=n.skip,i._take=n.take,i._skip===t&&(i._skip=i._currentRangeStart=i.skip(),n.skip=i.skip()),i._take===t&&i._pageSize!==t&&(i._take=i._pageSize,n.take=i._take),n.sort&&(i._sort=n.sort=ft(n.sort)),n.filter&&(i._filter=n.filter=nt(n.filter)),n.group&&(i._group=n.group=et(n.group)),n.aggregate&&(i._aggregate=n.aggregate=uu(n.aggregate))),n},query:function(i){var u,f,e,o=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates;return o||(this._data===t||0===this._data.length)&&!this._destroyed.length?(this.options.endless&&(f=i.pageSize-this.pageSize(),f>0?(f=this.pageSize(),i.page=i.pageSize/f,i.pageSize=f):(i.page=1,this.options.endless=!1)),this.read(this._mergeState(i))):(e=this.trigger(it,{type:"read"}),e||(this.trigger(ht),u=this._queryProcess(this._data,this._mergeState(i)),this.options.serverFiltering||(this._total=u.total!==t?u.total:this._data.length),this._aggregateResult=this._calculateAggregates(this._data,i),this.view(u.data),this.trigger(ut,{type:"read"}),this.trigger(r,{items:u.data})),n.Deferred().resolve(e).promise())},fetch:function(n){var t=this,i=function(i){i!==!0&&l(n)&&n.call(t)};return this._query().then(i)},_query:function(n){var t=this;return t.query(o({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},n))},next:function(n){var t=this,i=t.page(),r=t.total();if(n=n||{},i&&!(r&&i+1>t.totalPages()))return t._skip=t._currentRangeStart=i*t.take(),i+=1,n.page=i,t._query(n),i},prev:function(n){var t=this,i=t.page();if(n=n||{},i&&1!==i)return t._skip=t._currentRangeStart=t._skip-t.take(),i-=1,n.page=i,t._query(n),i},page:function(n){var r,i=this;return n!==t?(n=f.max(f.min(f.max(n,1),i.totalPages()),1),i._query({page:n}),t):(r=i.skip(),r!==t?f.round((r||0)/(i.take()||1))+1:t)},pageSize:function(n){var i=this;return n!==t?(i._query(i.options.inPlaceSort?{pageSize:n,page:1,sort:{}}:{pageSize:n,page:1}),t):i.take()},sort:function(n){var i=this;return n!==t?(i._query({sort:n}),t):i._sort},filter:function(n){var i=this;return n===t?i._filter:(i.trigger("reset"),i._query({filter:n,page:1}),t)},group:function(n){var i=this;return n!==t?(i._query({group:n}),t):i._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(n){var i=this;return n!==t?(i._query({aggregate:n}),t):i._aggregate},aggregates:function(){var n=this._aggregateResult;return w(n)&&(n=this._emptyAggregates(this.aggregate())),n},_emptyAggregates:function(n){var i,t,r={};if(!w(n))for(i={},c(n)||(n=[n]),t=0;t<n.length;t++)i[n[t].aggregate]=0,r[n[t].field]=i;return r},_wrapInEmptyGroup:function(n){for(var t,i,u=this.group(),r=u.length-1;r>=0;r--)i=u[r],t={value:n.get(i.field),field:i.field,items:t?[t]:[n],hasSubgroups:!!t,aggregates:this._emptyAggregates(i.aggregates)};return t},totalPages:function(){var n=this,t=n.pageSize()||n.total();return f.ceil((n.total()||0)/t)},inRange:function(n,t){var i=this,r=f.min(n+t,i.total());return!i.options.serverPaging&&i._data.length>0||i._findRange(n,r).length>0},lastRange:function(){var n=this._ranges;return n[n.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var n=this._ranges;return n.length&&n[0].data.length&&n[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=!1},_timeStamp:function(){return(new Date).getTime()},range:function(n,i,r){var u,o,e,s,h,c,a,v;if(this._currentRequestTimeStamp=this._timeStamp(),this._skipRequestsInProgress=!0,n=f.min(n||0,this.total()),u=this,o=f.max(f.floor(n/i),0)*i,e=f.min(o+i,u.total()),s=u._findRange(n,f.min(n+i,u.total())),s.length){u._pending=t;u._skip=n>u.skip()?f.min(e,(u.totalPages()-1)*u.take()):o;u._currentRangeStart=n;u._take=i;h=u.options.serverPaging;c=u.options.serverSorting;a=u.options.serverFiltering;v=u.options.serverAggregates;try{u.options.serverPaging=!0;u._isServerGrouped()||u.group()&&u.group().length||(u.options.serverSorting=!0);u.options.serverFiltering=!0;u.options.serverPaging=!0;u.options.serverAggregates=!0;h&&(u._detachObservableParents(),u._data=s=u._observe(s));u._process(s)}finally{u.options.serverPaging=h;u.options.serverSorting=c;u.options.serverFiltering=a;u.options.serverAggregates=v}return l(r)&&r(),t}i!==t&&(u._rangeExists(o,e)?o<n&&u.prefetch(e,i,function(){u.range(n,i,r)}):u.prefetch(o,i,function(){n>o&&e<u.total()&&!u._rangeExists(e,f.min(e+i,u.total()))?u.prefetch(e,i,function(){u.range(n,i,r)}):u.range(n,i,r)}))},_findRange:function(n,i){for(var r,s,h,c,y,l,o,a,f,b,u=this,p=u._ranges,w=[],e=u.options,d=e.serverSorting||e.serverPaging||e.serverFiltering||e.serverGrouping||e.serverAggregates,v=0,k=p.length;v<k;v++)if(r=p[v],n>=r.start&&n<=r.end){for(f=0,s=v;s<k;s++)if(r=p[s],a=u._flatData(r.data,!0),a.length&&n+f>=r.start&&(y=r.data,l=r.end,d||(e.inPlaceSort?o=u._queryProcess(r.data,{filter:u.filter()}):(b=et(u.group()||[]).concat(ft(u.sort()||[])),o=u._queryProcess(r.data,{sort:b,filter:u.filter()})),a=y=o.data,o.total!==t&&(l=o.total)),h=0,n+f>r.start&&(h=n+f-r.start),c=a.length,l>i&&(c-=l-i),f+=c-h,w=u._mergeGroups(w,y,h,c),i<=r.end&&f==i-n))return w;break}return[]},_mergeGroups:function(n,t,i,r){if(this._isServerGrouped()){var u,f=t.toJSON();return n.length&&(u=n[n.length-1]),ii(u,f,i,r),n.concat(f)}return n.concat(t.slice(i,r))},skip:function(){var n=this;return n._skip===t?n._page!==t?(n._page-1)*(n.take()||1):t:n._skip},currentRangeStart:function(){return this._currentRangeStart||0},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(n,t,i,u){var f=this,e=f._timeStamp();return function(o){var h,l,c,a=!1,s={start:n,end:t,data:[],timestamp:f._timeStamp()};if(f._dequeueRequest(),f.trigger(ut,{response:o,type:"read"}),o=f.reader.parse(o),c=f._readData(o),c.length){for(h=0,l=f._ranges.length;h<l;h++)if(f._ranges[h].start===n){a=!0;s=f._ranges[h];break}a||f._ranges.push(s)}s.data=f._observe(c);s.end=s.start+f._flatData(s.data,!0).length;f._ranges.sort(function(n,t){return n.start-t.start});f._total=f.reader.total(o);(u||e>=f._currentRequestTimeStamp||!f._skipRequestsInProgress)&&(i&&c.length?i():f.trigger(r,{}))}},prefetch:function(n,t,i){var r=this,u=f.min(n+t,r.total()),e={take:t,skip:n,page:n/t+1,pageSize:t,sort:r._sort,filter:r._filter,group:r._group,aggregate:r._aggregate};r._rangeExists(n,u)?i&&i():(clearTimeout(r._timeout),r._timeout=setTimeout(function(){r._queueRequest(e,function(){r.trigger(it,{type:"read"})?r._dequeueRequest():r.transport.read({data:r._params(e),success:r._prefetchSuccessHandler(n,u,i),error:function(){var n=lt.call(arguments);r.error.apply(r,n)}})})},100))},_multiplePrefetch:function(n,t,i){var r=this,u=f.min(n+t,r.total()),e={take:t,skip:n,page:n/t+1,pageSize:t,sort:r._sort,filter:r._filter,group:r._group,aggregate:r._aggregate};r._rangeExists(n,u)?i&&i():r.trigger(it,{type:"read"})||r.transport.read({data:r._params(e),success:r._prefetchSuccessHandler(n,u,i,!0)})},_rangeExists:function(n,t){for(var u=this,r=u._ranges,i=0,f=r.length;i<f;i++)if(r[i].start<=n&&r[i].end>=t)return!0;return!1},_removeModelFromRanges:function(n){for(var r,u,f,t=this,i=0,e=this._ranges.length;i<e&&(f=this._ranges[i],this._eachItem(f.data,function(i){r=t.options.useRanges&&!t.options.serverPaging?yt(i,n,t.currentRangeStart(),t.take()):yt(i,n);r&&(u=!0)}),!u);i++);t._updateRangesLength()},_insertModelInRange:function(n,t){for(var i,r=this,f=r._ranges||[],e=f.length,u=0;u<e;u++)if(i=f[u],i.start<=n&&i.end>=n){r._getByUid(t.uid,i.data)||(r._isServerGrouped()?i.data.splice(n,0,r._wrapInEmptyGroup(t)):i.data.splice(n,0,t));break}r._updateRangesLength()},_updateRangesLength:function(){for(var n,e=this,o=e._ranges||[],s=o.length,i=!1,t=0,r=0,u=0;u<s;u++)n=o[u],r=e._flatData(n.data,!0).length-f.abs(n.end-n.start),i||0===r?i&&(n.start+=t,n.end+=t):(i=!0,t=r,n.end+=t)}});ci={};ci.create=function(t,r,u){var e,f=t.transport?n.extend({},t.transport):null;return f?(f.read=typeof f.read===s?{url:f.read}:f.read,"jsdo"===t.type&&(f.dataSource=u),t.type&&(i.data.transports=i.data.transports||{},i.data.schemas=i.data.schemas||{},i.data.transports[t.type]?k(i.data.transports[t.type])?f=o(!0,{},i.data.transports[t.type],f):e=new i.data.transports[t.type](o(f,{data:r})):i.logToConsole("Unknown DataSource transport type '"+t.type+"'.\nVerify that registration scripts for this type are included after Kendo UI on the page.","warn"),t.schema=o(!0,{},i.data.schemas[t.type],t.schema)),e||(e=l(f.read)?f:new si(f))):e=new oi({data:t.data||[]}),e};h.create=function(n){(c(n)||n instanceof a)&&(n={data:n});var e,p,s,r=n||{},u=r.data,f=r.fields,l=r.table,v=r.select,y={};if(u||!f||r.transport||(l?u=cu(l,f):v&&(u=hu(v,f),r.group===t&&u[0]&&u[0].optgroup!==t&&(r.group="optgroup"))),i.data.Model&&f&&(!r.schema||!r.schema.model)){for(e=0,p=f.length;e<p;e++)s=f[e],s.type&&(y[s.field]=s);w(y)||(r.schema=o(!0,r.schema,{model:{fields:y}}))}return r.data=u,v=null,r.select=null,l=null,r.table=null,r instanceof h?r:new h(r)};li=y.define({idField:"id",init:function(n){var f,t=this,r=t.hasChildren||n&&n.hasChildren,e="items",u={};i.data.Model.fn.init.call(t,n);typeof t.children===s&&(e=t.children);u={schema:{data:e,model:{hasChildren:r,id:t.idField,fields:t.fields}}};typeof t.children!==s&&o(u,t.children);u.data=n;r||(r=u.schema.data);typeof r===s&&(r=i.getter(r));l(r)&&(f=r.call(t,t),t.hasChildren=(!f||0!==f.length)&&!!f);t._childrenOptions=u;t.hasChildren&&t._initChildren();t._loaded=!(!n||!n._loaded)},_initChildren:function(){var t,i,u,n=this;n.children instanceof b||(t=n.children=new b(n._childrenOptions),i=t.transport,u=i.parameterMap,i.parameterMap=function(t,i){return t[n.idField||"id"]=n.id,u&&(t=u(t,i)),t},t.parent=function(){return n},t.bind(r,function(t){t.node=t.node||n;n.trigger(r,t)}),t.bind(tt,function(t){var i=n.parent();i&&(t.node=t.node||n,i.trigger(tt,t))}),n._updateChildrenField())},append:function(n){this._initChildren();this.loaded(!0);this.children.add(n)},hasChildren:!1,level:function(){for(var n=this.parentNode(),t=0;n&&n.parentNode;)t++,n=n.parentNode?n.parentNode():null;return t},_updateChildrenField:function(){var n=this._childrenOptions.schema.data;this[n||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0;this._updateChildrenField()},load:function(){var i,f,u={},e="_query";return this.hasChildren?(this._initChildren(),i=this.children,u[this.idField||"id"]=this.id,this._loaded||(i._data=t,e="read"),i.one(r,p(this._childrenLoaded,this)),this._matchFilter&&(u.filter={field:"_matchFilter",operator:"eq",value:!0}),f=i[e](u)):this.loaded(!0),f||n.Deferred().resolve().promise()},parentNode:function(){var n=this.parent();return n.parent()},loaded:function(n){return n===t?this._loaded:(this._loaded=n,t)},shouldSerialize:function(n){return y.fn.shouldSerialize.call(this,n)&&"children"!==n&&"_loaded"!==n&&"hasChildren"!==n&&"_childrenOptions"!==n}});b=h.extend({init:function(n){var t=li.define({children:n});n.filter&&!n.serverFiltering&&(this._hierarchicalFilter=n.filter,n.filter=null);h.fn.init.call(this,o(!0,{},{schema:{modelBase:t,model:t}},n));this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var n=this;n._data.bind(tt,function(t){n.trigger(tt,t)})},read:function(n){var t=h.fn.read.call(this,n);return this._hierarchicalFilter&&(this._data&&this._data.length>0?this.filter(this._hierarchicalFilter):(this.options.filter=this._hierarchicalFilter,this._filter=nt(this.options.filter),this._hierarchicalFilter=null)),t},remove:function(n){var r,t=n.parentNode(),i=this;return t&&t._initChildren&&(i=t.children),r=h.fn.remove.call(i,n),t&&!i.data().length&&(t.hasChildren=!1),r},success:lr("success"),data:lr("data"),insert:function(n,t){var i=this.parent();return i&&i._initChildren&&(i.hasChildren=!0,i._initChildren()),h.fn.insert.call(this,n,t)},filter:function(n){return n===t?this._filter:(!this.options.serverFiltering&&this._markHierarchicalQuery(n)&&(n={logic:"or",filters:[n,{field:"_matchFilter",operator:"equals",value:!0}]}),this.trigger("reset"),this._query({filter:n,page:1}),t)},_markHierarchicalQuery:function(n){var t,e,i,r,f;return n=nt(n),n&&0!==n.filters.length?(t=u.filterExpr(n),i=t.fields,r=t.operators,e=f=Function("d, __f, __o","return "+t.expression),(i.length||r.length)&&(f=function(n){return e(n,i,r)}),this._updateHierarchicalFilter(f),!0):(this._updateHierarchicalFilter(function(){return!0}),!1)},_updateHierarchicalFilter:function(n){for(var t,r=this._data,u=!1,i=0;i<r.length;i++)t=r[i],t.hasChildren?(t._matchFilter=t.children._updateHierarchicalFilter(n),t._matchFilter||(t._matchFilter=n(t))):t._matchFilter=n(t),t._matchFilter&&(u=!0);return u},_find:function(n,t){var i,e,r,f,u=this._data;if(u){if(r=h.fn[n].call(this,t))return r;for(u=this._flatData(this._data),i=0,e=u.length;i<e;i++)if(f=u[i].children,f instanceof b&&(r=f[n](t)))return r}},get:function(n){return this._find("get",n)},getByUid:function(n){return this._find("getByUid",n)}});b.create=function(n){n=n&&n.push?{data:n}:n;var t=n||{},i=t.data,r=t.fields,u=t.list;return i&&i._dataSource?i._dataSource:(i||!r||t.transport||u&&(i=ar(u,r)),t.data=i,t instanceof b?t:new b(t))};ai=i.Observable.extend({init:function(n,t,r){i.Observable.fn.init.call(this);this._prefetching=!1;this.dataSource=n;this.prefetch=!r;var u=this;n.bind("change",function(){u._change()});n.bind("reset",function(){u._reset()});this._syncWithDataSource();this.setViewSize(t)},setViewSize:function(n){this.viewSize=n;this._recalculate()},at:function(n){var i=this.pageSize,r=!0;return n>=this.total()?(this.trigger("endreached",{index:n}),null):this.useRanges?this.useRanges?((n<this.dataOffset||n>=this.skip+i)&&(r=this.range(Math.floor(n/i)*i)),n===this.prefetchThreshold&&this._prefetch(),n===this.midPageThreshold?this.range(this.nextMidRange,!0):n===this.nextPageThreshold?this.range(this.nextFullRange):n===this.pullBackThreshold&&this.range(this.offset===this.skip?this.previousMidRange:this.previousFullRange),r?this.dataSource.at(n-this.dataOffset):(this.trigger("endreached",{index:n}),null)):t:this.dataSource.view()[n]},indexOf:function(n){return this.dataSource.data().indexOf(n)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var n=this,t=n.pageSize,i=n.skip-n.viewSize+t,r=f.max(f.floor(i/t),0)*t;this.offset=i;this.dataSource.prefetch(r,t,function(){n._goToRange(i,!0)})},range:function(n,t){if(this.offset===n)return!0;var r=this,i=this.pageSize,u=f.max(f.floor(n/i),0)*i,e=this.dataSource;return t&&(u+=i),e.inRange(n,i)?(this.offset=n,this._recalculate(),this._goToRange(n),!0):!this.prefetch||(e.prefetch(u,i,function(){r.offset=n;r._recalculate();r._goToRange(n,!0)}),!1)},syncDataSource:function(){var n=this.offset;this.offset=null;this.range(n)},destroy:function(){this.unbind()},_prefetch:function(){var i=this,n=this.pageSize,t=this.skip+n,r=this.dataSource;r.inRange(t,n)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:t,take:n}),r.prefetch(t,n,function(){i._prefetching=!1;i.trigger("prefetched",{skip:t,take:n})}))},_goToRange:function(n,t){this.offset===n&&(this.dataOffset=n,this._expanding=t,this.dataSource.range(n,this.pageSize),this.dataSource.enableRequestsInProgress())},_reset:function(){this._syncPending=!0},_change:function(){var n=this.dataSource;this.length=this.useRanges?n.lastRange().end:n.view().length;this._syncPending&&(this._syncWithDataSource(),this._recalculate(),this._syncPending=!1,this.trigger("reset",{offset:this.offset}));this.trigger("resize");this._expanding&&this.trigger("expand");delete this._expanding},_syncWithDataSource:function(){var n=this.dataSource;this._firstItemUid=n.firstItemUid();this.dataOffset=this.offset=n.skip()||0;this.pageSize=n.pageSize();this.useRanges=n.options.serverPaging},_recalculate:function(){var t=this.pageSize,r=this.offset,i=this.viewSize,n=Math.ceil(r/t)*t;this.skip=n;this.midPageThreshold=n+t-1;this.nextPageThreshold=n+i-1;this.prefetchThreshold=n+Math.floor(t/3*2);this.pullBackThreshold=this.offset-1;this.nextMidRange=n+t-i;this.nextFullRange=n;this.previousMidRange=r-i;this.previousFullRange=n-t}});br=i.Observable.extend({init:function(n,t){var r=this;i.Observable.fn.init.call(r);this.dataSource=n;this.batchSize=t;this._total=0;this.buffer=new ai(n,3*t);this.buffer.bind({endreached:function(n){r.trigger("endreached",{index:n.index})},prefetching:function(n){r.trigger("prefetching",{skip:n.skip,take:n.take})},prefetched:function(n){r.trigger("prefetched",{skip:n.skip,take:n.take})},reset:function(){r._total=0;r.trigger("reset")},resize:function(){r._total=Math.ceil(this.length/r.batchSize);r.trigger("resize",{total:r.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(n){var r,t,i=this.buffer,u=n*this.batchSize,e=this.batchSize,f=[];for(i.offset>u&&i.at(i.offset-1),t=0;t<e&&(r=i.at(u+t),null!==r);t++)f.push(r);return f},total:function(){return this._total},destroy:function(){this.buffer.destroy();this.unbind()}});o(!0,i.data,{readers:{json:hi},Query:u,DataSource:h,HierarchicalDataSource:b,Node:li,ObservableObject:e,ObservableArray:a,LazyObservableArray:ot,LocalTransport:oi,RemoteTransport:si,Cache:rt,DataReader:hi,Model:y,Buffer:ai,BatchBuffer:br})}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()});!function(n,t){t("kendo.userevents.min",["kendo.core.min"],n)}(function(){return function(n){function c(n,t){var i=n.x.location,r=n.y.location,u=t.x.location,f=t.y.location,e=i-u,o=r-f;return{center:{x:(i+u)/2,y:(r+f)/2},distance:Math.sqrt(e*e+o*o)}}function e(n){var s,f,t,r=[],u=n.originalEvent,e=n.currentTarget,o=0;if(n.api)r.push({id:2,event:n,target:n.target,currentTarget:n.target,location:n,type:"api"});else if(n.type.match(/touch/))for(f=u?u.changedTouches:[],s=f.length;o<s;o++)t=f[o],r.push({location:t,event:n,target:t.target,currentTarget:e,id:t.identifier,type:"touch"});else r.push(i.pointers||i.msPointers?{location:u,event:n,target:n.target,currentTarget:e,id:u.pointerId,type:"pointer"}:{id:1,event:n,target:n.target,currentTarget:e,location:n,type:"mouse"});return r}function l(n){for(var r=t.eventMap.up.split(" "),i=0,u=r.length;i<u;i++)n(r[i])}var t=window.kendo,i=t.support,a=t.Class,v=t.Observable,u=n.now,f=n.extend,y=i.mobileOS,et=y&&y.android,p=800,w=i.browser.msie?5:0,b="press",k="hold",d="select",g="start",o="move",s="end",nt="cancel",h="tap",tt="release",ot="gesturestart",it="gesturechange",rt="gestureend",ut="gesturetap",st={api:0,touch:0,mouse:9,pointer:9},ht=!i.touch||i.mouseAndTouchPresent,ft=a.extend({init:function(n,t){var i=this;i.axis=n;i._updateLocationData(t);i.startLocation=i.location;i.velocity=i.delta=0;i.timeStamp=u()},move:function(n){var t=this,i=n["page"+t.axis],r=u(),f=r-t.timeStamp||1;!i&&et||(t.delta=i-t.location,t._updateLocationData(n),t.initialDelta=i-t.startLocation,t.velocity=t.delta/f,t.timeStamp=r)},_updateLocationData:function(n){var t=this,i=t.axis;t.location=n["page"+i];t.client=n["client"+i];t.screen=n["screen"+i]}}),ct=a.extend({init:function(n,t,i){f(this,{x:new ft("X",i.location),y:new ft("Y",i.location),type:i.type,useClickAsTap:n.useClickAsTap,threshold:n.threshold||st[i.type],userEvents:n,target:t,currentTarget:i.currentTarget,initialTouch:i.target,id:i.id,pressEvent:i,_moved:!1,_finished:!1})},press:function(){this._holdTimeout=setTimeout(n.proxy(this,"_hold"),this.userEvents.minHold);this._trigger(b,this.pressEvent)},_hold:function(){this._trigger(k,this.pressEvent)},move:function(n){var t=this;if(!t._finished){if(t.x.move(n.location),t.y.move(n.location),!t._moved){if(t._withinIgnoreThreshold())return;if(r.current&&r.current!==t.userEvents)return t.dispose();t._start(n)}t._finished||t._trigger(o,n)}},end:function(n){this.endTime=u();this._finished||(this._finished=!0,this._trigger(tt,n),this._moved?this._trigger(s,n):this.useClickAsTap||this._trigger(h,n),clearTimeout(this._holdTimeout),this.dispose())},dispose:function(){var i=this.userEvents,t=i.touches;this._finished=!0;this.pressEvent=null;clearTimeout(this._holdTimeout);t.splice(n.inArray(this,t),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(n){clearTimeout(this._holdTimeout);this.startTime=u();this._moved=!0;this._trigger(g,n)},_trigger:function(n,t){var i=this,r=t.event,u={touch:i,x:i.x,y:i.y,target:i.target,event:r};i.userEvents.notify(n,u)&&r.preventDefault()},_withinIgnoreThreshold:function(){var n=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(n*n+t*t)<=this.threshold}}),r=v.extend({init:function(r,u){var a,y,ft,e=this,c=t.guid();u=u||{};a=e.filter=u.filter;e.threshold=u.threshold||w;e.minHold=u.minHold||p;e.touches=[];e._maxTouches=u.multiTouch?2:1;e.allowSelection=u.allowSelection;e.captureUpIfMoved=u.captureUpIfMoved;e.useClickAsTap=!u.fastTap&&!i.delayedClick();e.eventNS=c;r=n(r).handler(e);v.fn.init.call(e);f(e,{element:r,surface:n(u.global&&ht?r[0].ownerDocument.documentElement:u.surface||r),stopPropagation:u.stopPropagation,pressed:!1});e.surface.handler(e).on(t.applyEventMap("move",c),"_move").on(t.applyEventMap("up cancel",c),"_end");r.on(t.applyEventMap("down",c),a,"_start");e.useClickAsTap&&r.on(t.applyEventMap("click",c),a,"_click");(i.pointers||i.msPointers)&&(i.browser.version<11?r.css("-ms-touch-action","pinch-zoom double-tap-zoom"):r.css("touch-action",u.touchAction||"none"));u.preventDragEvent&&r.on(t.applyEventMap("dragstart",c),t.preventDefault);r.on(t.applyEventMap("mousedown",c),a,{root:r},"_select");e.captureUpIfMoved&&i.eventCapture&&(y=e.surface[0],ft=n.proxy(e.preventIfMoving,e),l(function(n){y.addEventListener(n,ft,!0)}));e.bind([b,k,h,g,o,s,tt,nt,ot,it,rt,ut,d],u)},preventIfMoving:function(n){this._isMoved()&&n.preventDefault()},destroy:function(){var t,n=this;n._destroyed||(n._destroyed=!0,n.captureUpIfMoved&&i.eventCapture&&(t=n.surface[0],l(function(i){t.removeEventListener(i,n.preventIfMoving)})),n.element.kendoDestroy(n.eventNS),n.surface.kendoDestroy(n.eventNS),n.element.removeData("handler"),n.surface.removeData("handler"),n._disposeAll(),n.unbind(),delete n.surface,delete n.element,delete n.currentTarget)},capture:function(){r.current=this},cancel:function(){this._disposeAll();this.trigger(nt)},notify:function(n,t){var r=this,i=r.touches;if(this._isMultiTouch()){switch(n){case o:n=it;break;case s:n=rt;break;case h:n=ut}f(t,{touches:i},c(i[0],i[1]))}return this.trigger(n,f(t,{type:n}))},press:function(n,t,i){this._apiCall("_start",n,t,i)},move:function(n,t){this._apiCall("_move",n,t)},end:function(n,t){this._apiCall("_end",n,t)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){for(var n=this.touches;n.length>0;)n.pop().dispose()},_isMoved:function(){return n.grep(this.touches,function(n){return n.isMoved()}).length},_select:function(n){this.allowSelection&&!this.trigger(d,{event:n})||n.preventDefault()},_start:function(t){var f,u,i=this,o=0,c=i.filter,s=e(t),l=s.length,h=t.which;if(!(h&&h>1||i._maxTouchesReached()))for(r.current=null,i.currentTarget=t.currentTarget,i.stopPropagation&&t.stopPropagation();o<l&&!i._maxTouchesReached();o++)u=s[o],f=c?n(u.currentTarget):i.element,f.length&&(u=new ct(i,f,u),i.touches.push(u),u.press(),i._isMultiTouch()&&i.notify("gesturestart",{}))},_move:function(n){this._eachTouch("move",n)},_end:function(n){this._eachTouch("end",n)},_click:function(t){var i={touch:{initialTouch:t.target,target:n(t.currentTarget),endTime:u(),x:{location:t.pageX,client:t.clientX},y:{location:t.pageY,client:t.clientY}},x:t.pageX,y:t.pageY,target:n(t.currentTarget),event:t,type:"tap"};this.trigger("tap",i)&&t.preventDefault()},_eachTouch:function(n,t){for(var r,u,f,c=this,o={},s=e(t),h=c.touches,i=0;i<h.length;i++)r=h[i],o[r.id]=r;for(i=0;i<s.length;i++)u=s[i],f=o[u.id],f&&f[n](u)},_apiCall:function(t,i,r,u){this[t]({api:!0,pageX:i,pageY:r,clientX:i,clientY:r,target:n(u||this.element)[0],stopPropagation:n.noop,preventDefault:n.noop})}});r.defaultThreshold=function(n){w=n};r.minHold=function(n){p=n};t.getTouches=e;t.touchDelta=c;t.UserEvents=r}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()});!function(n,t){t("kendo.columnsorter.min",["kendo.core.min"],n)}(function(){return function(n,t){var i=window.kendo,s=i.ui,f=s.Widget,u="dir",r="asc",h="single",c="field",e="desc",l=".kendoColumnSorter",a=".k-link",o="aria-sort",v=n.proxy,y=f.extend({init:function(n,t){var u,i=this;f.fn.init.call(i,n,t);i._refreshHandler=v(i.refresh,i);i.dataSource=i.options.dataSource.bind("change",i._refreshHandler);i.directions=i.options.initialDirection===r?[r,e]:[e,r];u=i.element.find(a);u[0]||(u=i.element.wrapInner('<a class="k-link" href="#"/>').find(a));i.link=u;i.element.on("click"+l,v(i._click,i))},options:{name:"ColumnSorter",mode:h,allowUnsort:!0,compare:null,filter:"",initialDirection:r,showIndexes:!1},events:["change"],destroy:function(){var n=this;f.fn.destroy.call(n);n.element.off(l);n.dataSource.unbind("change",n._refreshHandler);n._refreshHandler=n.element=n.link=n.dataSource=null},refresh:function(){var l,w,v,a,y,s,h=this,p=h.dataSource.sort()||[],f=h.element,b=f.attr(i.attr(c));for(f.removeAttr(i.attr(u)),f.removeAttr(o),l=0,w=p.length;l<w;l++)v=p[l],b==v.field&&(f.attr(i.attr(u),v.dir),y=l+1);a=f.attr(i.attr(u));f.is("th")&&(s=f.closest("table"),s.parent().hasClass("k-grid-header-wrap")?s=s.closest(".k-grid").find(".k-grid-content > table"):s.parent().hasClass("k-grid")||(s=null),s&&(f.toggleClass("k-sorted",a!==t),s.children("colgroup").children().eq(f.index()).toggleClass("k-sorted",a!==t)));f.find(".k-i-sort-asc-sm,.k-i-sort-desc-sm,.k-sort-order").remove();a===r?(n('<span class="k-icon k-i-sort-asc-sm" />').appendTo(h.link),f.attr(o,"ascending")):a===e&&(n('<span class="k-icon k-i-sort-desc-sm" />').appendTo(h.link),f.attr(o,"descending"));h.options.showIndexes&&p.length>1&&y&&n('<span class="k-sort-order" />').html(y).appendTo(h.link)},_toggleSortDirection:function(n){var i=this.directions;return n===i[i.length-1]&&this.options.allowUnsort?t:i[0]===n?i[1]:i[0]},_click:function(n){var e,y,r=this,s=r.element,l=s.attr(i.attr(c)),o=s.attr(i.attr(u)),a=r.options,v=null===r.options.compare?t:r.options.compare,f=r.dataSource.sort()||[];if(n.preventDefault(),(!a.filter||s.is(a.filter))&&(o=this._toggleSortDirection(o),!this.trigger("change",{sort:{field:l,dir:o,compare:v}}))){if(a.mode===h)f=[{field:l,dir:o,compare:v}];else if("multiple"===a.mode){for(e=0,y=f.length;e<y;e++)if(f[e].field===l){f.splice(e,1);break}f.push({field:l,dir:o,compare:v})}this.dataSource.options.endless&&(this.dataSource.options.endless=null,s.closest(".k-grid").getKendoGrid()._endlessPageSize=r.dataSource.options.pageSize,this.dataSource.pageSize(r.dataSource.options.pageSize));this.dataSource.sort(f)}}});s.plugin(y)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()});!function(n,t){t("kendo.pager.min",["kendo.data.min"],n)}(function(){return function(n,t){function h(n,t,r,u,f){return n({idx:t,text:r,ns:i.ns,numeric:u,title:f||""})}function e(n,t,i){return rt({className:n.substring(1),text:t,wrapClassName:i||""})}function o(n,t,r,u){n.find(t).parent().attr(i.attr("page"),r).attr("tabindex",-1).toggleClass("k-state-disabled",u)}function w(n,t){o(n,l,1,t<=1)}function b(n,t){o(n,v,Math.max(1,t-1),t<=1)}function k(n,t,i){o(n,y,Math.min(i,t+1),t>=i)}function d(n,t,i){o(n,a,i,t>=i)}var i=window.kendo,g=i.ui,c=g.Widget,u=n.proxy,l=".k-i-seek-w",a=".k-i-seek-e",v=".k-i-arrow-w",y=".k-i-arrow-e",r="change",f=".kendoPager",p="click",nt="keydown",tt="disabled",it="down",s=n(document.documentElement),rt=i.template('<a href="\\#" aria-label="#=text#" title="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #"><\/span><\/a>'),ut=c.extend({init:function(t,o){var g,h,tt,rt,s=this;c.fn.init.call(s,t,o);o=s.options;s.dataSource=i.data.DataSource.create(o.dataSource);s.linkTemplate=i.template(s.options.linkTemplate);s.selectTemplate=i.template(s.options.selectTemplate);s.currentPageTemplate=i.template(s.options.currentPageTemplate);g=s.page();h=s.totalPages();s._refreshHandler=u(s.refresh,s);s.dataSource.bind(r,s._refreshHandler);s.downEvent=i.applyEventMap(it,i.guid());o.previousNext&&(s.element.find(l).length||(s.element.append(e(l,o.messages.first,"k-pager-first")),w(s.element,g,h)),s.element.find(v).length||(s.element.append(e(v,o.messages.previous)),b(s.element,g,h)));o.numeric&&(s.list=s.element.find(".k-pager-numbers"),s.list.length||(s.list=n('<ul class="k-pager-numbers k-reset" />').appendTo(s.element)));o.input&&(s.element.find(".k-pager-input").length||s.element.append('<span class="k-pager-input k-label">'+o.messages.page+'<input class="k-textbox">'+i.format(o.messages.of,h)+"<\/span>"),s.element.on(nt+f,".k-pager-input input",u(s._keydown,s)));o.previousNext&&(s.element.find(y).length||(s.element.append(e(y,o.messages.next)),k(s.element,g,h)),s.element.find(a).length||(s.element.append(e(a,o.messages.last,"k-pager-last")),d(s.element,g,h)));o.pageSizes&&(s.element.find(".k-pager-sizes").length||(tt=o.pageSizes.length?o.pageSizes:["all",5,10,20],rt=n.map(tt,function(n){return n.toLowerCase&&"all"===n.toLowerCase()?"<option value='all'>"+o.messages.allPages+"<\/option>":"<option>"+n+"<\/option>"}),n('<span class="k-pager-sizes k-label"><select/>'+o.messages.itemsPerPage+"<\/span>").appendTo(s.element).find("select").html(rt.join("")).end().appendTo(s.element)),s.element.find(".k-pager-sizes select").val(s.pageSize()),i.ui.DropDownList&&s.element.find(".k-pager-sizes select").show().kendoDropDownList(),s.element.on(r+f,".k-pager-sizes select",u(s._change,s)));o.refresh&&(s.element.find(".k-pager-refresh").length||s.element.append('<a href="#" class="k-pager-refresh k-link" title="'+o.messages.refresh+'" aria-label="'+o.messages.refresh+'"><span class="k-icon k-i-reload"><\/span><\/a>'),s.element.on(p+f,".k-pager-refresh",u(s._refreshClick,s)));o.info&&(s.element.find(".k-pager-info").length||s.element.append('<span class="k-pager-info k-label" />'));s.element.on(p+f,"a",u(s._click,s)).addClass("k-pager-wrap k-widget k-floatwrap");s.element.on(p+f,".k-current-page",u(s._toggleActive,s));o.autoBind&&s.refresh();i.notify(s)},destroy:function(){var n=this;c.fn.destroy.call(n);n.element.off(f);n.dataSource.unbind(r,n._refreshHandler);n._refreshHandler=null;i.destroy(n.element);n.element=n.list=null},events:[r],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#<\/span><\/li>',currentPageTemplate:'<li class="k-current-page"><span class="k-link k-pager-nav">#=text#<\/span><\/li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#" #if (title !== "") {# title="#=title#" #}#>#=text#<\/a><\/li>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{allPages:"All",display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh",morePages:"More pages"}},setDataSource:function(n){var t=this;t.dataSource.unbind(r,t._refreshHandler);t.dataSource=t.options.dataSource=n;n.bind(r,t._refreshHandler);t.options.autoBind&&n.fetch()},refresh:function(t){var c,p,g,rt,ut,nt,r=this,v=1,u=r.page(),e="",f=r.options,o=r.pageSize(),a=r.dataSource.total(),l=r.totalPages(),it=r.linkTemplate,y=f.buttonCount;if(s.unbind(r.downEvent,n.proxy(r._hideList,r)),!t||"itemchange"!=t.action){if(f.numeric){for(u>y&&(g=u%y,v=0===g?u-y+1:u-g+1),p=Math.min(v+y-1,l),v>1&&(e+=h(it,v-1,"...",!1,f.messages.morePages)),c=v;c<=p;c++)e+=h(c==u?r.selectTemplate:it,c,c,!0);p<l&&(e+=h(it,c,"...",!1,f.messages.morePages));""===e&&(e=r.selectTemplate({text:0}));e=this.currentPageTemplate({text:u})+e;r.list.removeClass("k-state-expanded").html(e)}f.info&&(e=a>0?i.format(f.messages.display,r.dataSource.options.endless?1:Math.min((u-1)*o+1,a),Math.min(u*o,a),a):f.messages.empty,r.element.find(".k-pager-info").html(e));f.input&&r.element.find(".k-pager-input").html(r.options.messages.page+'<input class="k-textbox" aria-label="'+u+'">'+i.format(f.messages.of,l)).find("input").val(u).attr(tt,a<1).toggleClass("k-state-disabled",a<1);f.previousNext&&(w(r.element,u,l),b(r.element,u,l),k(r.element,u,l),d(r.element,u,l));f.pageSizes&&(rt=r.element.find(".k-pager-sizes option[value='all']").length>0,ut=rt&&o===this.dataSource.total(),nt=o,ut&&(o="all",nt=f.messages.allPages),r.element.find(".k-pager-sizes select").val(o).attr("aria-label",o).filter("["+i.attr("role")+"=dropdownlist]").kendoDropDownList("value",o).kendoDropDownList("text",nt))}},_keydown:function(n){if(n.keyCode===i.keys.ENTER){var r=this.element.find(".k-pager-input").find("input"),t=parseInt(r.val(),10);(isNaN(t)||t<1||t>this.totalPages())&&(t=this.page());r.val(t);this.page(t)}},_refreshClick:function(n){n.preventDefault();this.dataSource.read()},_change:function(n){var i=n.currentTarget.value,r=parseInt(i,10),t=this.dataSource;isNaN(r)?"all"==(i+"").toLowerCase()&&t.pageSize(t.total()):t.pageSize(r)},_toggleActive:function(){var t=this;t.list.hasClass("k-state-expanded")?s.unbind(t.downEvent,n.proxy(t._hideList,t)):s.bind(t.downEvent,n.proxy(t._hideList,t));t.list.toggleClass("k-state-expanded")},_hideList:function(t){var r=this,u=i.eventTarget(t);n.contains(r.list[0],u)||(s.unbind(r.downEvent,n.proxy(r._hideList,r)),r.list.removeClass("k-state-expanded"))},_click:function(t){var r=n(t.currentTarget);t.preventDefault();r.is(".k-state-disabled")||this.page(r.attr(i.attr("page")))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/(this.pageSize()||1))},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(n){return n===t?this.dataSource.total()>0?this.dataSource.page():0:(this.trigger("pageChange",{index:n})||(this.dataSource.page(n),this.trigger(r,{index:n})),t)}});g.plugin(ut)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()});!function(n,t){t("kendo.selectable.min",["kendo.core.min","kendo.userevents.min"],n)}(function(){return function(n,t){function w(n,t){if(!n.is(":visible"))return!1;var i=r.getOffset(n),u=t.left+t.width,f=t.top+t.height;return i.right=i.left+r._outerWidth(n),i.bottom=i.top+r._outerHeight(n),!(i.left>u||i.right<t.left||i.top>f||i.bottom<t.top)}var c,r=window.kendo,l=r.ui.Widget,f=n.proxy,a=Math.abs,v="aria-selected",i="k-state-selected",e="k-state-selecting",o="k-selectable",s="change",b=".kendoSelectable",u="k-state-unselecting",h="input,a,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up",y=r.support.browser.msie,p=!1;!function(n){!function(){n('<div class="parent"><span /><\/div>').on("click",">*",function(){p=!0}).find("span").click().end().off()}()}(n);c=l.extend({init:function(t,i){var e,u=this;l.fn.init.call(u,t,i);u._marquee=n("<div class='k-marquee'><div class='k-marquee-color'><\/div><\/div>");u._lastActive=null;u.element.addClass(o);u.relatedTarget=u.options.relatedTarget;e=u.options.multiple;h=u.options.inputSelectors;this.options.aria&&e&&u.element.attr("aria-multiselectable",!0);u.userEvents=new r.UserEvents(u.element,{global:!0,allowSelection:!0,filter:(p?"":"."+o+" ")+u.options.filter,tap:f(u._tap,u)});e&&u.userEvents.bind("start",f(u._start,u)).bind("move",f(u._move,u)).bind("end",f(u._end,u)).bind("select",f(u._select,u))},events:[s],options:{name:"Selectable",filter:">*",inputSelectors:h,multiple:!1,relatedTarget:n.noop},_isElement:function(n){var t,i=this.element,u=i.length,r=!1;for(n=n[0],t=0;t<u;t++)if(i[t]===n){r=!0;break}return r},_tap:function(t){var f,u=n(t.target),r=this,e=t.event.ctrlKey||t.event.metaKey,h=r.options.multiple,a=h&&t.event.shiftKey,c=t.event.which,l=t.event.button;!r._isElement(u.closest("."+o))||c&&3==c||l&&2==l||this._allowSelection(t.event.target)&&(f=u.hasClass(i),h&&e||r.clear(),u=u.add(r.relatedTarget(u)),a?r.selectRange(r._firstSelectee(),u,t):(f&&e?(r._unselect(u),r._notify(s,t)):r.value(u,t),r._lastActive=r._downTarget=u))},_start:function(r){var s,f=this,e=n(r.target),c=e.hasClass(i),h=r.event.ctrlKey||r.event.metaKey;if(this._allowSelection(r.event.target)){if(f._downTarget=e,!f._isElement(e.closest("."+o)))return f.userEvents.cancel(),t;f.options.useAllItems?f._items=f.element.find(f.options.filter):(s=e.closest(f.element),f._items=s.find(f.options.filter));r.sender.capture();f._marquee.appendTo(document.body).css({left:r.x.client+1,top:r.y.client+1,width:0,height:0});h||f.clear();e=e.add(f.relatedTarget(e));c&&(f._selectElement(e,!0),h&&e.addClass(u))}},_move:function(n){var t=this,i={left:n.x.startLocation>n.x.location?n.x.location:n.x.startLocation,top:n.y.startLocation>n.y.location?n.y.location:n.y.startLocation,width:a(n.x.initialDelta),height:a(n.y.initialDelta)};t._marquee.css(i);t._invalidateSelectables(i,n.event.ctrlKey||n.event.metaKey);n.preventDefault()},_end:function(n){var i,t=this;t._marquee.remove();t._unselect(t.element.find(t.options.filter+"."+u)).removeClass(u);i=t.element.find(t.options.filter+"."+e);i=i.add(t.relatedTarget(i));t.value(i,n);t._lastActive=t._downTarget;t._items=null},_invalidateSelectables:function(n,t){for(var f,r,h=this._downTarget[0],s=this._items,o=0,c=s.length;o<c;o++)r=s.eq(o),f=r.add(this.relatedTarget(r)),w(r,n)?r.hasClass(i)?t&&h!==r[0]&&f.removeClass(i).addClass(u):r.hasClass(e)||r.hasClass(u)||f.addClass(e):r.hasClass(e)?f.removeClass(e):t&&r.hasClass(u)&&f.removeClass(u).addClass(i)},value:function(n,r){var u=this,e=f(u._selectElement,u);return n?(n.each(function(){e(this)}),u._notify(s,r),t):u.element.find(u.options.filter+"."+i)},_firstSelectee:function(){var t,n=this;return null!==n._lastActive?n._lastActive:(t=n.value(),t.length>0?t[0]:n.element.find(n.options.filter)[0])},_selectElement:function(t,r){var u=n(t),f=!r&&this._notify("select",{element:t});u.removeClass(e);f||(u.addClass(i),this.options.aria&&u.attr(v,!0))},_notify:function(n,t){return t=t||{},this.trigger(n,t)},_unselect:function(n){return n.removeClass(i),this.options.aria&&n.attr(v,!1),n},_select:function(t){this._allowSelection(t.event.target)&&(!y||y&&!n(r._activeElement()).is(h))&&t.preventDefault()},_allowSelection:function(t){return!n(t).is(h)||(this.userEvents.cancel(),this._downTarget=null,!1)},resetTouchEvents:function(){this.userEvents.cancel()},clear:function(){var n=this.element.find(this.options.filter+"."+i);this._unselect(n)},selectRange:function(t,i,r){var e,o,f,u=this;for(u.clear(),u.element.length>1&&(f=u.options.continuousItems()),f&&f.length||(f=u.element.find(u.options.filter)),t=n.inArray(n(t)[0],f),i=n.inArray(n(i)[0],f),t>i&&(o=t,t=i,i=o),u.options.useAllItems||(i+=u.element.length-1),e=t;e<=i;e++)u._selectElement(f[e]);u._notify(s,r)},destroy:function(){var n=this;l.fn.destroy.call(n);n.element.off(b);n.userEvents.destroy();n._marquee=n._lastActive=n.element=n.userEvents=null}});c.parseOptions=function(n){var t="string"==typeof n&&n.toLowerCase();return{multiple:t&&t.indexOf("multiple")>-1,cell:t&&t.indexOf("cell")>-1}};r.ui.plugin(c)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()});!function(n,t){t("kendo.sortable.min",["kendo.draganddrop.min"],n)}(function(){return function(n,t){function w(t,i){try{return n.contains(t,i)||t==i}catch(r){return!1}}function b(n){return n.clone()}function k(n){return n.clone().removeAttr("id").css("visibility","hidden")}var i=window.kendo,u=i.ui.Widget,o=i._outerWidth,s=i._outerHeight,h="start",c="beforeMove",l="move",r="end",f="change",a="cancel",v="sort",y="remove",p="receive",e=-1,d=u.extend({init:function(n,t){var i=this;u.fn.init.call(i,n,t);i.options.placeholder||(i.options.placeholder=k);i.options.hint||(i.options.hint=b);i.draggable=i._createDraggable()},events:[h,c,l,r,f,a],options:{name:"Sortable",hint:null,placeholder:null,filter:">*",holdToDrag:!1,disabled:null,container:null,connectWith:null,handler:null,cursorOffset:null,axis:null,ignore:null,autoScroll:!1,cursor:"auto",moveOnDragEnter:!1},destroy:function(){this.draggable.destroy();u.fn.destroy.call(this)},_createDraggable:function(){var r=this,u=r.element,t=r.options;return new i.ui.Draggable(u,{filter:t.filter,hint:i.isFunction(t.hint)?t.hint:n(t.hint),holdToDrag:t.holdToDrag,container:t.container?n(t.container):null,cursorOffset:t.cursorOffset,axis:t.axis,ignore:t.ignore,autoScroll:t.autoScroll,dragstart:n.proxy(r._dragstart,r),dragcancel:n.proxy(r._dragcancel,r),drag:n.proxy(r._drag,r),dragend:n.proxy(r._dragend,r)})},_dragstart:function(t){var r=this.draggedElement=t.currentTarget,f=this.options.disabled,e=this.options.handler,u=this.options.placeholder,o=this.placeholder=n(i.isFunction(u)?u.call(this,r):u);f&&r.is(f)?t.preventDefault():e&&!n(t.initialTarget).is(e)?t.preventDefault():this.trigger(h,{item:r,draggableEvent:t})?t.preventDefault():(r.css("display","none"),r.before(o),this._setCursor())},_dragcancel:function(){this._cancel();this.trigger(a,{item:this.draggedElement});this._resetCursor()},_drag:function(i){var l,o,f,e,a,y=this.draggedElement,r=this._findTarget(i),v={left:i.x.location,top:i.y.location},s={x:i.x.delta,y:i.y.delta},c=this.options.axis,u=this.options.moveOnDragEnter,h={item:y,list:this,draggableEvent:i};if("x"===c||"y"===c)return this._movementByAxis(c,v,s[c],h),t;if(r){if(l=this._getElementCenter(r.element),o={left:Math.round(v.left-l.left),top:Math.round(v.top-l.top)},n.extend(h,{target:r.element}),r.appendToBottom)return this._movePlaceholder(r,null,h),t;if(r.appendAfterHidden&&this._movePlaceholder(r,"next",h),this._isFloating(r.element)?s.x<0&&u||!u&&o.left<0?f="prev":(s.x>0&&u||!u&&o.left>0)&&(f="next"):s.y<0&&u||!u&&o.top<0?f="prev":(s.y>0&&u||!u&&o.top>0)&&(f="next"),f){for(a="prev"===f?jQuery.fn.prev:jQuery.fn.next,e=a.call(r.element);e.length&&!e.is(":visible");)e=a.call(e);e[0]!=this.placeholder[0]&&this._movePlaceholder(r,f,h)}}},_dragend:function(i){var s,l,u,h,c=this.placeholder,o=this.draggedElement,a=this.indexOf(o),w=this.indexOf(c),b=this.options.connectWith;return this._resetCursor(),u={action:v,item:o,oldIndex:a,newIndex:w,draggableEvent:i},w>=0?l=this.trigger(r,u):(s=c.parents(b).getKendoSortable(),u.action=y,h=n.extend({},u,{action:p,oldIndex:e,newIndex:s.indexOf(c)}),l=!(!this.trigger(r,u)&&!s.trigger(r,h))),l||w===a?(this._cancel(),t):(c.replaceWith(o),o.show(),this.draggable.dropped=!0,u={action:this.indexOf(o)!=e?v:y,item:o,oldIndex:a,newIndex:this.indexOf(o),draggableEvent:i},this.trigger(f,u),s&&(h=n.extend({},u,{action:p,oldIndex:e,newIndex:s.indexOf(o)}),s.trigger(f,h)),t)},_findTarget:function(i){var f,u,r=this._findElementUnderCursor(i),e=this.options.connectWith;return n.contains(this.element[0],r)?(f=this.items(),u=f.filter(r)[0]||f.has(r)[0],u?{element:n(u),sortable:this}:null):this.element[0]==r&&this._isEmpty()?{element:this.element,sortable:this,appendToBottom:!0}:this.element[0]==r&&this._isLastHidden()?(u=this.items().eq(0),{element:u,sortable:this,appendAfterHidden:!0}):e?this._searchConnectedTargets(r,i):t},_findElementUnderCursor:function(n){var t=i.elementUnderCursor(n),r=n.sender;return w(r.hint[0],t)&&(r.hint.hide(),t=i.elementUnderCursor(n),t||(t=i.elementUnderCursor(n)),r.hint.show()),t},_searchConnectedTargets:function(t,i){for(var r,o,f,e=n(this.options.connectWith),u=0;u<e.length;u++)if(r=e.eq(u).getKendoSortable(),n.contains(e[u],t)){if(r)return o=r.items(),f=o.filter(t)[0]||o.has(t)[0],f?(r.placeholder=this.placeholder,{element:n(f),sortable:r}):null}else if(e[u]==t){if(r&&r._isEmpty())return{element:e.eq(u),sortable:r,appendToBottom:!0};if(this._isCursorAfterLast(r,i))return f=r.items().last(),{element:f,sortable:r}}},_isCursorAfterLast:function(n,t){var r,f,u=n.items().last(),e={left:t.x.location,top:t.y.location};return r=i.getOffset(u),r.top+=s(u),r.left+=o(u),f=this._isFloating(u)?r.left-e.left:r.top-e.top,f<0},_movementByAxis:function(t,i,r,u){var e,o="x"===t?i.left:i.top,f=r<0?this.placeholder.prev():this.placeholder.next();f.length&&!f.is(":visible")&&(f=r<0?f.prev():f.next());n.extend(u,{target:f});e=this._getElementCenter(f);e&&(e="x"===t?e.left:e.top);f.length&&r<0&&o-e<0?this._movePlaceholder({element:f,sortable:this},"prev",u):f.length&&r>0&&o-e>0&&this._movePlaceholder({element:f,sortable:this},"next",u)},_movePlaceholder:function(n,t,i){var r=this.placeholder;n.sortable.trigger(c,i)||(t?"prev"===t?n.element.before(r):"next"===t&&n.element.after(r):n.element.append(r),n.sortable.trigger(l,i))},_setCursor:function(){var t,i=this.options.cursor;i&&"auto"!==i&&(t=n(document.body),this._originalCursorType=t.css("cursor"),t.css({cursor:i}),this._cursorStylesheet||(this._cursorStylesheet=n("<style>* { cursor: "+i+" !important; }<\/style>")),this._cursorStylesheet.appendTo(t))},_resetCursor:function(){this._originalCursorType&&(n(document.body).css("cursor",this._originalCursorType),this._originalCursorType=null,this._cursorStylesheet.remove())},_getElementCenter:function(n){var t=n.length?i.getOffset(n):null;return t&&(t.top+=s(n)/2,t.left+=o(n)/2),t},_isFloating:function(n){return/left|right/.test(n.css("float"))||/inline|table-cell/.test(n.css("display"))},_cancel:function(){this.draggedElement.show();this.placeholder.remove()},_items:function(){var n=this.options.filter;return n?this.element.find(n):this.element.children()},indexOf:function(n){var i=this._items(),t=this.placeholder,r=this.draggedElement;return t&&n[0]==t[0]?i.not(r).index(n):i.not(t).index(n)},items:function(){var t=this.placeholder,n=this._items();return t&&(n=n.not(t)),n},_isEmpty:function(){return!this.items().length},_isLastHidden:function(){return 1===this.items().length&&this.items().is(":hidden")}});i.ui.plugin(d)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()});!function(n,t){t("kendo.tabstrip.min",["kendo.data.min"],n)}(function(){return function(n,t){function et(t){t.children(ct).addClass(pt);t.children("a").addClass(o).children(ct).addClass(pt);t.filter(":not([disabled]):not([class*=k-state-disabled])").addClass(l);t.filter("li[disabled]").addClass(h).removeAttr("disabled");t.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(r+" "+s);t.attr("role","tab");t.filter("."+r).attr("aria-selected",!0);t.each(function(){var t=n(this);t.children("."+o).length||t.contents().filter(function(){return!(this.nodeName.match(ui)||3==this.nodeType&&!ht(this.nodeValue))}).wrapAll("<span UNSELECTABLE='on' class='"+o+"'/>")})}function p(n){var t=n.children(".k-item");t.filter(".k-first:not(:first-child)").removeClass(wt);t.filter(".k-last:not(:last-child)").removeClass(vt);t.filter(":first-child").addClass(wt);t.filter(":last-child").addClass(vt)}function ot(n,t){return"<span class='k-button k-button-icon k-bare k-tabstrip-"+n+"' unselectable='on'><span class='k-icon "+t+"'><\/span><\/span>"}var i=window.kendo,ii=i.ui,e=i.keys,st=n.map,g=n.each,ht=n.trim,u=n.extend,ri=i.isFunction,c=i.template,w=i._outerWidth,nt=i._outerHeight,b=ii.Widget,ui=/^(a|div)$/i,f=".kendoTabStrip",ct="img",lt="href",k="prev",tt="next",at="show",o="k-link",vt="k-last",yt="click",fi=":empty",pt="k-image",wt="k-first",it="select",bt="activate",rt="k-content",y="contentUrl",kt="mouseenter",ei="mouseleave",dt="contentLoad",h="k-state-disabled",l="k-state-default",r="k-state-active",a="k-state-focused",ut="k-state-hover",s="k-tab-on-top",ft=".k-item:not(."+h+")",gt=".k-item",oi=".k-tabstrip-items > "+ft+":not(."+r+")",ni=200,v={content:c("<div class='k-content'#= contentAttributes(data) # role='tabpanel'>#= content(item) #<\/div>"),itemWrapper:c("<#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) #<\/#= tag(item) #>"),item:c("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>#= itemWrapper(data) #<\/li>"),image:c("<img class='k-image' alt='' src='#= imageUrl #' />"),sprite:c("<span class='k-sprite #= spriteCssClass #'><\/span>"),empty:c("")},ti={wrapperCssClass:function(n,t){var i="k-item",r=t.index;return i+=t.enabled===!1?" k-state-disabled":" k-state-default",0===r&&(i+=" k-first"),r==n.length-1&&(i+=" k-last"),i},textAttributes:function(n){return n.url?" href='"+n.url+"'":""},text:function(n){return n.encoded===!1?n.text:i.htmlEncode(n.text)},tag:function(n){return n.url?"a":"span"},contentAttributes:function(n){return n.active!==!0?" style='display:none' aria-hidden='true' aria-expanded='false'":""},content:function(n){return n.content?n.content:n.contentUrl?"":"&nbsp;"},contentUrl:function(n){return n.contentUrl?i.attr("content-url")+'="'+n.contentUrl+'"':""}},d=b.extend({init:function(t,u){var c,s,h,e=this;b.fn.init.call(e,t,u);e._animations(e.options);u=e.options;e._contentUrls=u.contentUrls||[];e._wrapper();e._isRtl=i.support.isRtl(e.wrapper);e._tabindex();e._updateClasses();e._dataSource();u.dataSource&&e.dataSource.fetch();e._tabPosition();e._scrollable();e._contentUrls.length?e.wrapper.find(".k-tabstrip-items > .k-item").each(function(t,i){var r=e._contentUrls[t];"string"==typeof r&&n(i).find(">."+o).data(y,r)}):e._contentUrls.length=e.tabGroup.find("li.k-item").length;e.wrapper.on(kt+f+" "+ei+f,oi,e._toggleHover).on("focus"+f,n.proxy(e._active,e)).on("blur"+f,function(){e._current(null)});e._keyDownProxy=n.proxy(e._keydown,e);u.navigatable&&e.wrapper.on("keydown"+f,e._keyDownProxy);e.options.value&&(c=e.options.value);e.wrapper.children(".k-tabstrip-items").on(yt+f,".k-state-disabled .k-link",!1).on(yt+f," > "+ft,function(t){var u,r=e.wrapper[0];if(r!==document.activeElement)if(u=i.support.browser.msie)try{r.setActive()}catch(f){r.focus()}else r.focus();e._click(n(t.currentTarget))&&t.preventDefault()});s=e.tabGroup.children("li."+r);h=e.contentHolder(s.index());s[0]&&h.length>0&&0===h[0].childNodes.length&&e.activateTab(s.eq(0));e.element.attr("role","tablist");e.element[0].id&&(e._ariaId=e.element[0].id+"_ts_active");e.value(c);i.notify(e)},_active:function(){var n=this.tabGroup.children().filter("."+r);n=n[0]?n:this._endItem("first");n[0]&&this._current(n)},_endItem:function(n){return this.tabGroup.children(ft)[n]()},_getItem:function(n){return this.tabGroup.children(gt)[n]()},_item:function(n,t){var i;return i=t===k?"last":"first",n?(n=n[t](),n[0]||(n=this.tabGroup.children(gt)[i]()),n.hasClass(h)&&n.addClass(a),(n.hasClass(h)||n.hasClass(r))&&(this._focused=n),n):this._endItem(i)},_current:function(n){var u=this,f=u._focused,i=u._ariaId;return n===t?f:(f&&(f[0].id===i&&f.removeAttr("id"),f.removeClass(a)),n&&(n.hasClass(r)||n.addClass(a),u.element.removeAttr("aria-activedescendant"),i=n[0].id||i,i&&(n.attr("id",i),u.element.attr("aria-activedescendant",i))),u._focused=n,t)},_keydown:function(n){var u,i=this,r=n.keyCode,o=i._current(),s=i._isRtl,f=/top|bottom/.test(i.options.tabPosition);if(n.target==n.currentTarget){if(r!==e.DOWN||f)if(r!==e.UP||f)if(r===e.RIGHT&&f)u=s?k:tt;else if(r===e.LEFT&&f)u=s?tt:k;else if(r==e.ENTER||r==e.SPACEBAR)i._click(o),n.preventDefault();else{if(r==e.HOME)return i._click(i._getItem("first")),n.preventDefault(),t;if(r==e.END)return i._click(i._getItem("last")),n.preventDefault(),t}else u=k;else u=tt;u&&(i._click(i._item(o,u)),n.preventDefault())}},_dataSource:function(){var t=this;t.dataSource&&t._refreshHandler?t.dataSource.unbind("change",t._refreshHandler):t._refreshHandler=n.proxy(t.refresh,t);t.dataSource=i.data.DataSource.create(t.options.dataSource).bind("change",t._refreshHandler)},setDataSource:function(n){var t=this;t.options.dataSource=n;t._dataSource();t.dataSource.fetch()},_animations:function(n){n&&"animation"in n&&!n.animation&&(n.animation={open:{effects:{}},close:{effects:{}}})},refresh:function(n){var t,e,s,h,r=this,u=r.options,c=i.getter(u.dataTextField),l=i.getter(u.dataContentField),a=i.getter(u.dataContentUrlField),v=i.getter(u.dataImageUrlField),y=i.getter(u.dataUrlField),p=i.getter(u.dataSpriteCssClass),o=[],f=r.dataSource.view();for(n=n||{},s=n.action,s&&(f=n.items),t=0,h=f.length;t<h;t++)e={text:c(f[t])},u.dataContentField&&(e.content=l(f[t])),u.dataContentUrlField&&(e.contentUrl=a(f[t])),u.dataUrlField&&(e.url=y(f[t])),u.dataImageUrlField&&(e.imageUrl=v(f[t])),u.dataSpriteCssClass&&(e.spriteCssClass=p(f[t])),o[t]=e;if("add"==n.action)n.index<r.tabGroup.children().length?r.insertBefore(o,r.tabGroup.children().eq(n.index)):r.append(o);else if("remove"==n.action)for(t=0;t<f.length;t++)r.remove(n.index);else"itemchange"==n.action?(t=r.dataSource.view().indexOf(f[0]),n.field===u.dataTextField&&r.tabGroup.children().eq(t).find(".k-link").text(f[0].get(n.field)),n.field===u.dataUrlField&&(r._contentUrls[t]=f[0].get(n.field))):(r.trigger("dataBinding"),r.remove("li"),r._contentUrls=[],r.append(o),r.trigger("dataBound"))},value:function(i){var r=this;return i===t?r.select().text():(i!=r.value()&&r.tabGroup.children().each(function(){n.trim(n(this).text())==i&&r.select(this)}),t)},items:function(){return this.tabGroup[0].children},setOptions:function(n){var t=this,i=t.options.animation;t._animations(n);n.contentUrls&&(t._contentUrls=n.contentUrls);n.animation=u(!0,i,n.animation);n.navigatable?t.wrapper.on("keydown"+f,t._keyDownProxy):t.wrapper.off("keydown"+f,t._keyDownProxy);b.fn.setOptions.call(t,n)},events:[it,bt,at,"error",dt,"change","dataBinding","dataBound"],options:{name:"TabStrip",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",tabPosition:"top",animation:{open:{effects:"expand:vertical fadeIn",duration:200},close:{duration:200}},collapsible:!1,navigatable:!0,contentUrls:!1,scrollable:{distance:ni}},destroy:function(){var n=this,t=n.scrollWrap;b.fn.destroy.call(n);n._refreshHandler&&n.dataSource.unbind("change",n._refreshHandler);n.wrapper.off(f);n.wrapper.children(".k-tabstrip-items").off(f);n._scrollableModeActive&&(n._scrollPrevButton.off().remove(),n._scrollNextButton.off().remove());i.destroy(n.wrapper);t.children(".k-tabstrip").unwrap()},select:function(t){var i=this;return 0===arguments.length?i.tabGroup.children("li."+r):(isNaN(t)||(t=i.tabGroup.children().get(t)),t=i.tabGroup.find(t),n(t).each(function(t,u){u=n(u);u.hasClass(r)||i.trigger(it,{item:u[0],contentElement:i.contentHolder(u.index())[0]})||i.activateTab(u)}),i)},enable:function(n,t){return this._toggleDisabled(n,t!==!1),this},disable:function(n){return this._toggleDisabled(n,!1),this},reload:function(t){var i,r;return t=this.tabGroup.find(t),i=this,r=i._contentUrls,t.each(function(){var t=n(this),u=t.find("."+o).data(y)||r[t.index()],f=i.contentHolder(t.index());u&&i.ajaxRequest(t,f,null,u)}),i},append:function(n){var t=this,i=t._create(n);return g(i.tabs,function(n){var r=i.contents[n];t.tabGroup.append(this);"bottom"==t.options.tabPosition?t.tabGroup.before(r):t._scrollableModeActive?t._scrollPrevButton.before(r):t.wrapper.append(r);t.angular("compile",function(){return{elements:[r]}})}),p(t.tabGroup),t._updateContentElements(),t.resize(!0),t},_appendUrlItem:function(n){this._contentUrls.push(n)},_moveUrlItem:function(n,t){this._contentUrls.splice(t,0,this._contentUrls.splice(n,1)[0])},_removeUrlItem:function(n){this._contentUrls.splice(n,1)},insertBefore:function(t,i){i=n(t).is(n(i))?this.tabGroup.find(i).next():this.tabGroup.find(i);var r=this,u=r._create(t),f=r.element.find("[id='"+i.attr("aria-controls")+"']");return g(u.tabs,function(t){var e=u.contents[t],o=u.newTabsCreated?r._contentUrls.length-(u.tabs.length-t):n(e).index()-1;i.before(this);f.before(e);r._moveUrlItem(o,n(this).index());r.angular("compile",function(){return{elements:[e]}})}),p(r.tabGroup),r._updateContentElements(u.newTabsCreated),r.resize(!0),r},insertAfter:function(t,i){i=n(t).is(n(i))?this.tabGroup.find(i).prev():this.tabGroup.find(i);var r=this,u=r._create(t),f=r.element.find("[id='"+i.attr("aria-controls")+"']");return g(u.tabs,function(t){var e=u.contents[t],o=u.newTabsCreated?r._contentUrls.length-(u.tabs.length-t):n(e).index()-1;i.after(this);f.after(e);r._moveUrlItem(o,n(this).index());r.angular("compile",function(){return{elements:[e]}})}),p(r.tabGroup),r._updateContentElements(u.newTabsCreated),r.resize(!0),r},remove:function(t){var u,r=this,f=typeof t;return"string"===f?t=r.tabGroup.find(t):"number"===f&&(t=r.tabGroup.children().eq(t)),u=t.map(function(){var t=n(this).index(),u=r.contentElement(t);return i.destroy(u),r._removeUrlItem(t),u}),t.remove(),u.empty(),u.remove(),r._updateContentElements(),r.resize(!0),r},_create:function(t){var r,f,o,e=this,s=!1;return t=t instanceof i.data.ObservableArray?t.toJSON():t,n.isPlainObject(t)||n.isArray(t)?(t=n.isArray(t)?t:[t],s=!0,r=st(t,function(i,r){return e._appendUrlItem(t[r].contentUrl||null),n(d.renderItem({group:e.tabGroup,item:u(i,{index:r})}))}),f=st(t,function(t,i){if("string"==typeof t.content||t.contentUrl)return n(d.renderContent({item:u(t,{index:i})}))})):(r="string"==typeof t&&"<"!=t[0]?e.element.find(t):n(t),f=n(),r.each(function(){if(/k-tabstrip-items/.test(this.parentNode.className)){var t=e.element.find("[id='"+this.getAttribute("aria-controls")+"']");o=t}else o=n("<div class='"+rt+"'/>");f=f.add(o)}),et(r)),{tabs:r,contents:f,newTabsCreated:s}},_toggleDisabled:function(t,i){t=this.tabGroup.find(t);t.each(function(){n(this).toggleClass(l,i).toggleClass(h,!i)})},_updateClasses:function(){var u,f,e,i=this;i.wrapper.addClass("k-widget k-header k-tabstrip");i.tabGroup=i.wrapper.children("ul").addClass("k-tabstrip-items k-reset");i.tabGroup[0]||(i.tabGroup=n("<ul class='k-tabstrip-items k-reset'/>").appendTo(i.wrapper));u=i.tabGroup.find("li").addClass("k-item");u.length&&(f=u.filter("."+r).index(),e=f>=0?f:t,i.tabGroup.contents().filter(function(){return 3==this.nodeType&&!ht(this.nodeValue)}).remove());f>=0&&u.eq(f).addClass(s);i.contentElements=i.wrapper.children("div");i.contentElements.addClass(rt).eq(e).addClass(r).css({display:"block"});u.length&&(et(u),p(i.tabGroup),i._updateContentElements(!0))},_elementId:function(n,t){var u,r=n.attr("id"),f=this.element.attr("id");return!r||r.indexOf(f+"-")>-1?(u=(f||i.guid())+"-",u+(t+1)):r},_updateContentElements:function(t){var u=this,o=u._contentUrls,f=u.tabGroup.children(".k-item"),e=u.wrapper.children("div"),s=u._elementId.bind(u);e.length&&f.length>e.length?e.each(function(i){var u=s(n(this),i),r=f.filter("[aria-controls="+(this.id||0)+"]")[0];!r&&t&&(r=f[i]);r&&r.setAttribute("aria-controls",u);this.setAttribute("id",u)}):f.each(function(t){var i=e.eq(t),f=s(i,t);this.setAttribute("aria-controls",f);!i.length&&o[t]?n("<div class='"+rt+"'/>").appendTo(u.wrapper).attr("id",f):(i.attr("id",f),n(this).children(".k-loading")[0]||o[t]||n("<span class='k-loading k-complete'/>").prependTo(this));i.attr("role","tabpanel");i.filter(":not(."+r+")").attr("aria-hidden",!0).attr("aria-expanded",!1);i.filter("."+r).attr("aria-expanded",!0)});u.contentElements=u.contentAnimators=u.wrapper.children("div");u.tabsHeight=nt(u.tabGroup)+parseInt(u.wrapper.css("border-top-width"),10)+parseInt(u.wrapper.css("border-bottom-width"),10);i.kineticScrollNeeded&&i.mobile.ui.Scroller&&(i.touchScroller(u.contentElements),u.contentElements=u.contentElements.children(".km-scroll-container"))},_wrapper:function(){var n=this;n.wrapper=n.element.is("ul")?n.element.wrapAll("<div />").parent():n.element;n.scrollWrap=n.wrapper.parent(".k-tabstrip-wrapper");n.scrollWrap[0]||(n.scrollWrap=n.wrapper.wrapAll("<div class='k-tabstrip-wrapper' />").parent())},_tabPosition:function(){var n=this,t=n.options.tabPosition;n.wrapper.addClass("k-floatwrap k-tabstrip-"+t);"bottom"==t&&n.tabGroup.appendTo(n.wrapper);n.resize(!0)},_setContentElementsDimensions:function(){var t,n,f,i,e,o,r=this,u=r.options.tabPosition;"left"!=u&&"right"!=u||(t=r.wrapper.children(".k-content"),n=t.filter(":visible"),f="margin-"+u,i=r.tabGroup,e=w(i),o=Math.ceil(i.height())-parseInt(n.css("padding-top"),10)-parseInt(n.css("padding-bottom"),10)-parseInt(n.css("border-top-width"),10)-parseInt(n.css("border-bottom-width"),10),setTimeout(function(){t.css(f,e).css("min-height",o)}))},_resize:function(){this._setContentElementsDimensions();this._scrollable()},_sizeScrollWrap:function(n){var t,i;n.is(":visible")&&(t=this.options.tabPosition,i=Math.floor(nt(n,!0))+("left"===t||"right"===t?2:this.tabsHeight),this.scrollWrap.css("height",i).css("height"))},_toggleHover:function(t){n(t.currentTarget).toggleClass(ut,t.type==kt)},_click:function(n){var i,f,t=this,e=n.find("."+o),u=e.attr(lt),s=t.options.collapsible,c=n.index(),l=t.contentHolder(c),v=n.parent().children(),p=v.filter("."+a);if(n.closest(".k-widget")[0]==t.wrapper[0]){if(n.is("."+h+(s?"":",."+r)))return p.removeClass(a),t._focused=n,n.is("."+h)&&n.addClass(a),t._scrollableModeActive&&t._scrollTabsToItem(n),!0;if(f=e.data(y)||t._contentUrls[c]||u&&("#"==u.charAt(u.length-1)||u.indexOf("#"+t.element[0].id+"-")!=-1),i=!u||f,t.tabGroup.children("[data-animating]").length)return i;if(t.trigger(it,{item:n[0],contentElement:l[0]}))return!0;if(i!==!1)return s&&n.is("."+r)?(t.deactivateTab(n),!0):(t.activateTab(n)&&(i=!0),i)}},_scrollable:function(){var u,e,t,r,o,s,n=this,h=n.options;n._scrollableAllowed()&&(n.wrapper.addClass("k-tabstrip-scrollable"),u=n.wrapper[0].offsetWidth,e=n.tabGroup[0].scrollWidth,e>u&&!n._scrollableModeActive?(n._nowScrollingTabs=!1,n._isRtl=i.support.isRtl(n.element),o=i.support.mobileOS?"touchstart":"mousedown",s=i.support.mobileOS?"touchend":"mouseup",n.wrapper.append(ot("prev","k-i-arrow-60-left")+ot("next","k-i-arrow-60-right")),t=n._scrollPrevButton=n.wrapper.children(".k-tabstrip-prev"),r=n._scrollNextButton=n.wrapper.children(".k-tabstrip-next"),n.tabGroup.css({marginLeft:w(t)+9,marginRight:w(r)+12}),t.on(o+f,function(){n._nowScrollingTabs=!0;n._scrollTabsByDelta(h.scrollable.distance*(n._isRtl?1:-1))}),r.on(o+f,function(){n._nowScrollingTabs=!0;n._scrollTabsByDelta(h.scrollable.distance*(n._isRtl?-1:1))}),t.add(r).on(s+f,function(){n._nowScrollingTabs=!1}),n._scrollableModeActive=!0,n._toggleScrollButtons()):n._scrollableModeActive&&e<=u?(n._scrollableModeActive=!1,n.wrapper.removeClass("k-tabstrip-scrollable"),n._scrollPrevButton.off().remove(),n._scrollNextButton.off().remove(),n.tabGroup.css({marginLeft:"",marginRight:""})):n._scrollableModeActive?n._toggleScrollButtons():n.wrapper.removeClass("k-tabstrip-scrollable"))},_scrollableAllowed:function(){var n=this.options;return n.scrollable&&!n.scrollable.distance&&(n.scrollable={distance:ni}),n.scrollable&&!isNaN(n.scrollable.distance)&&("top"==n.tabPosition||"bottom"==n.tabPosition)},_scrollTabsToItem:function(n){var i,f=this,r=f.tabGroup,u=r.scrollLeft(),e=w(n),t=f._isRtl?n.position().left:n.position().left-r.children().first().position().left,o=r[0].offsetWidth,s=Math.ceil(parseFloat(r.css("padding-left")));f._isRtl?t<0?i=u+t-(o-u)-s:t+e>o&&(i=u+t-e+2*s):u+o<t+e?i=t+e-o+2*s:u>t&&(i=t-s);r.finish().animate({scrollLeft:i},"fast","linear",function(){f._toggleScrollButtons()})},_scrollTabsByDelta:function(n){var t=this,i=t.tabGroup,r=i.scrollLeft();i.finish().animate({scrollLeft:r+n},"fast","linear",function(){t._nowScrollingTabs&&!jQuery.fx.off?t._scrollTabsByDelta(n):t._toggleScrollButtons()})},_toggleScrollButtons:function(){var n=this,t=n.tabGroup,i=t.scrollLeft();n._scrollPrevButton.toggle(n._isRtl?i<t[0].scrollWidth-t[0].offsetWidth-1:0!==i);n._scrollNextButton.toggle(n._isRtl?0!==i:i<t[0].scrollWidth-t[0].offsetWidth-1)},deactivateTab:function(n){var e=this,o=e.options.animation,f=o.open,t=u({},o.close),s=t&&"effects"in t;n=e.tabGroup.find(n);t=u(s?t:u({reverse:!0},f),{hide:!0});i.size(f.effects)?(n.kendoAddClass(l,{duration:f.duration}),n.kendoRemoveClass(r,{duration:f.duration})):(n.addClass(l),n.removeClass(r));n.removeAttr("aria-selected");e.contentAnimators.filter("."+r).kendoStop(!0,!0).kendoAnimate(t).removeClass(r).attr("aria-hidden",!0)},activateTab:function(n){var t,v,c,e,tt,p,a,w,b,h,f,k,it,d,g;if(!this.tabGroup.children("[data-animating]").length)return n=this.tabGroup.find(n),t=this,v=t.options.animation,c=v.open,e=u({},v.close),tt=e&&"effects"in e,p=n.parent().children(),a=p.filter("."+r),w=p.index(n),e=u(tt?e:u({reverse:!0},c),{hide:!0}),i.size(c.effects)?(a.kendoRemoveClass(r,{duration:e.duration}),n.kendoRemoveClass(ut,{duration:e.duration})):(a.removeClass(r),n.removeClass(ut)),b=t.contentAnimators,t.inRequest&&(t.xhr.abort(),t.inRequest=!1),0===b.length?(t.tabGroup.find("."+s).removeClass(s),n.addClass(s).css("z-index"),n.addClass(r),t._current(n),t.trigger("change"),t._scrollableModeActive&&t._scrollTabsToItem(n),!1):(h=b.filter("."+r),f=t.contentHolder(w),k=f.closest(".k-content"),t.tabsHeight=nt(t.tabGroup)+parseInt(t.wrapper.css("border-top-width"),10)+parseInt(t.wrapper.css("border-bottom-width"),10),t._sizeScrollWrap(h),0===f.length?(h.removeClass(r).attr("aria-hidden",!0).kendoStop(!0,!0).kendoAnimate(e),!1):(n.attr("data-animating",!0),it=(n.children("."+o).data(y)||t._contentUrls[w]||!1)&&f.is(fi),d=function(){a.removeAttr("aria-selected");n.attr("aria-selected",!0);t._current(n);t._sizeScrollWrap(k);k.addClass(r).removeAttr("aria-hidden").kendoStop(!0,!0).attr("aria-expanded",!0).kendoAnimate(u({init:function(){t.trigger(at,{item:n[0],contentElement:f[0]});i.resize(f)}},c,{complete:function(){n.removeAttr("data-animating");t.trigger(bt,{item:n[0],contentElement:f[0]});i.resize(f);t.scrollWrap.css("height","").css("height");(i.support.browser.msie||i.support.browser.edge)&&f.finish().animate({opacity:.9},"fast","linear",function(){f.finish().animate({opacity:1},"fast","linear")})}}))},g=function(){it?(n.removeAttr("data-animating"),t.ajaxRequest(n,f,function(){n.attr("data-animating",!0);d();t.trigger("change")})):(d(),t.trigger("change"));t._scrollableModeActive&&t._scrollTabsToItem(n)},h.removeClass(r),t.tabGroup.find("."+s).removeClass(s),n.addClass(s).css("z-index"),i.size(c.effects)?(a.kendoAddClass(l,{duration:c.duration}),n.kendoAddClass(r,{duration:c.duration})):(a.addClass(l),n.addClass(r)),h.attr("aria-hidden",!0),h.attr("aria-expanded",!1),h.length?h.kendoStop(!0,!0).kendoAnimate(u({complete:g},e)):g(),!0))},contentElement:function(r){var u,e,f,o;if(isNaN(+r))return t;if(u=this.contentElements&&this.contentElements[0]&&!i.kineticScrollNeeded?this.contentElements:this.contentAnimators,e=n(this.tabGroup.children()[r]).attr("aria-controls"),u)for(f=0,o=u.length;f<o;f++)if(u.eq(f).closest(".k-content")[0].id==e)return u[f];return t},contentHolder:function(t){var r=n(this.contentElement(t)),u=r.children(".km-scroll-container");return i.support.touch&&u[0]?u:r},ajaxRequest:function(t,r,u,f){var s,p,c,w,l,a,e,b,v,h;t=this.tabGroup.find(t);s=this;p=n.ajaxSettings.xhr;c=t.find("."+o);w={};l=t.width()/2;a=!1;e=t.find(".k-loading").removeClass("k-complete");e[0]||(e=n("<span class='k-loading'/>").prependTo(t));b=2*l-e.width();v=function(){e.animate({marginLeft:(parseInt(e.css("marginLeft"),10)||0)<l?b:0},500,v)};i.support.browser.msie&&i.support.browser.version<10&&setTimeout(v,40);f=f||c.data(y)||s._contentUrls[t.index()]||c.attr(lt);s.inRequest=!0;h={type:"GET",cache:!1,url:f,dataType:"html",data:w,xhr:function(){var t=this,i=p(),r=t.progressUpload?"progressUpload":!!t.progress&&"progress";return i&&n.each([i,i.upload],function(){this.addEventListener&&this.addEventListener("progress",function(n){r&&t[r](n)},!1)}),t.noProgress=!(window.XMLHttpRequest&&"upload"in new XMLHttpRequest),i},progress:function(n){if(n.lengthComputable){var t=parseInt(n.loaded/n.total*100,10)+"%";e.stop(!0).addClass("k-progress").css({width:t,marginLeft:0})}},error:function(n,t){s.trigger("error",{xhr:n,status:t})&&this.complete()},stopProgress:function(){clearInterval(a);e.stop(!0).addClass("k-progress")[0].style.cssText=""},complete:function(n){s.inRequest=!1;this.noProgress?setTimeout(this.stopProgress,500):this.stopProgress();"abort"==n.statusText&&e.remove()},success:function(n){var c,o,h;e.addClass("k-complete");try{c=this;o=10;c.noProgress&&(e.width(o+"%"),a=setInterval(function(){c.progress({lengthComputable:!0,loaded:Math.min(o,100),total:100});o+=10},40));s.angular("cleanup",function(){return{elements:r.get()}});i.destroy(r);r.html(n)}catch(l){h=window.console;h&&h.error&&h.error(l.name+": "+l.message+" in "+f);this.error(this.xhr,"error")}u&&u.call(s,r);s.angular("compile",function(){return{elements:r.get()}});s.trigger(dt,{item:t[0],contentElement:r[0]})}};"object"==typeof f&&(h=n.extend(!0,{},h,f),ri(h.url)&&(h.url=h.url()));s.xhr=n.ajax(h)}});u(d,{renderItem:function(n){n=u({tabStrip:{},group:{}},n);var t=v.empty,i=n.item;return v.item(u(n,{image:i.imageUrl?v.image:t,sprite:i.spriteCssClass?v.sprite:t,itemWrapper:v.itemWrapper},ti))},renderContent:function(n){return v.content(u(n,ti))}});i.ui.plugin(d)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()});!function(n,t){t("util/text-metrics.min",["kendo.core.min"],n)}(function(){!function(n){function u(n){return(n+"").replace(s,h)}function f(n){var t,i=[];for(t in n)i.push(t+n[t]);return i.sort().join("")}function e(n){for(var t=2166136261,i=0;i<n.length;++i)t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24),t^=n.charCodeAt(i);return t>>>0}function o(){return{width:0,height:0,baseline:0}}function l(n,i,r){return t.current.measure(n,i,r)}var i,s,h,c,r,t;window.kendo.util=window.kendo.util||{};i=kendo.Class.extend({init:function(n){this._size=n;this._length=0;this._map={}},put:function(n,t){var r=this._map,i={key:n,value:t};r[n]=i;this._head?(this._tail.newer=i,i.older=this._tail,this._tail=i):this._head=this._tail=i;this._length>=this._size?(r[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++},get:function(n){var t=this._map[n];if(t)return t===this._head&&t!==this._tail&&(this._head=t.newer,this._head.older=null),t!==this._tail&&(t.older&&(t.older.newer=t.newer,t.newer.older=t.older),t.older=this._tail,t.newer=null,this._tail.newer=t,this._tail=t),t.value}});s=/\r?\n|\r|\t/g;h=" ";c={baselineMarkerSize:1};"undefined"!=typeof document&&(r=document.createElement("div"),r.style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");t=kendo.Class.extend({init:function(t){this._cache=new i(1e3);this.options=n.extend({},c,t)},measure:function(n,t,i){var p,c,w,h,s,l,a,v,y;if(void 0===i&&(i={}),!n)return o();if(p=f(t),c=e(n+p),w=this._cache.get(c))return w;h=o();s=i.box||r;l=this._baselineMarker().cloneNode(!1);for(a in t)v=t[a],void 0!==v&&(s.style[a]=v);return y=i.normalizeText!==!1?u(n):n+"",s.textContent=y,s.appendChild(l),document.body.appendChild(s),y.length&&(h.width=s.offsetWidth-this.options.baselineMarkerSize,h.height=s.offsetHeight,h.baseline=l.offsetTop+this.options.baselineMarkerSize),h.width>0&&h.height>0&&this._cache.put(c,h),s.parentNode.removeChild(s),h},_baselineMarker:function(){var n=document.createElement("div");return n.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",n}});t.current=new t;kendo.deepExtend(kendo.util,{LRUCache:i,TextMetrics:t,measureText:l,objectKey:f,hashKey:e,normalizeText:u})}(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()}),function(n,t){t("kendo.grid.min",["kendo.data.min","kendo.columnsorter.min","kendo.editable.min","kendo.window.min","kendo.filtermenu.min","kendo.columnmenu.min","kendo.groupable.min","kendo.pager.min","kendo.selectable.min","kendo.sortable.min","kendo.reorderable.min","kendo.resizable.min","kendo.mobile.actionsheet.min","kendo.mobile.pane.min","kendo.ooxml.min","kendo.excel.min","kendo.progressbar.min","kendo.pdf.min"],n)}(function(){return function(n,t){function ur(n,t){return"["+i.attr(n)+"="+t+"]"}function wi(n){return Array(n+1).join('<td class="k-group-cell">&nbsp;<\/td>')}function bt(n){var t,i=" ";if(n){if(typeof n===p)return n;for(t in n)i+=t+'="'+n[t]+'"'}return i}function fr(t,i){n("th, th .k-grid-filter, th .k-link",t).add(document.body).css("cursor",i)}function pt(t,i,r,u,f){var e,o=i;for(i=n(),f=f||1,e=0;e<f;e++)i=i.add(t.eq(o+e));"number"==typeof r?i[u?"insertBefore":"insertAfter"](t.eq(r)):i.appendTo(r)}function tt(t,i,r){return n(t).add(i).find(r)}function we(n,t,i){var f,s,u,o;for(i=ni(i)?i:[i],f=0,s=i.length;f<s;f++)u=i[f],v(u)&&u.click&&(o=u.name||u.text,t.on(a+r,"a.k-grid-"+(o||"").replace(/\s/g,""),{commandName:o},e(u.click,n)))}function vu(n,t,r){return ci(n,function(n){var u,e;return n=typeof n===p?{field:n}:n,ft(n)&&!r||(n.attributes=gi(n.attributes),n.footerAttributes=gi(n.footerAttributes),n.headerAttributes=gi(n.headerAttributes),u=!0),n.columns&&(n.columns=vu(n.columns,t,u)),e=i.guid(),n.headerAttributes=f({id:e},n.headerAttributes),f({encoded:t,hidden:u},n)})}function er(n,t){var i=[];return or(n,t,i),i[i.length-1]}function or(n,t,i){var r,u;for(i=i||[],r=0;r<t.length;r++){if(n===t[r])return!0;if(t[r].columns){if(u=i.length,i.push(t[r]),or(n,t[r].columns,i))return!0;i.splice(u,i.length-u)}}return!1}function ui(n,t){var i=t?to:gi;n.hidden=!t;n.attributes=i(n.attributes);n.footerAttributes=i(n.footerAttributes);n.headerAttributes=i(n.headerAttributes)}function fi(){return"none"!==this.style.display}function ft(n){return k([n]).length>0}function k(n){return y(n,function(n){var t=!n.hidden;return t&&n.columns&&(t=k(n.columns).length>0),t})}function be(t){return n(t).map(function(){return this.toArray()})}function ke(n,t,i){var r=ei(s(t)),u=ei(at(t)),f=n.rowSpan;n.rowSpan=i?r>u?f-(r-u)||1:f+(u-r):r>u?f+(r-u):f-(u-r)||1}function yu(t,i,r,u,f,e,o){var c,l,s=ei(t),h=ei([i]);s>h&&(c=Array(o+1).join('<th class="k-group-cell k-header" scope="col">&nbsp;<\/th>'),l=e.children(":not(.k-filter-row)"),n(Array(s-h+1).join("<tr>"+c+"<\/tr>")).insertAfter(l.last()));no(e,s-h);wu(r,u,f,e)}function pu(t,r,f){var e,h,c,s,l,a,o,v;for(f=f||0,c=r,r=u(r),s={},l=t.find(">tr:not(.k-filter-row)"),a=function(){var t=n(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell")},o=0,v=r.length;o<v;o++)e=kt(r[o],c),s[e.row]||(s[e.row]=l.eq(e.row).find(".k-header").filter(a)),h=s[e.row].eq(e.cell),h.attr(i.attr("index"),f+o);return r.length}function ei(n){for(var i,r=0,t=0;t<n.length;t++)n[t].columns&&(i=ei(n[t].columns),i>r&&(r=i));return 1+r}function wu(t,i,r,u){for(var e,o=sr(t[0],i),h=r.find(">tr:not(.k-filter-row):eq("+o.row+")>th.k-header"),s=n(),c=o.cell,f=0;f<t.length;f++)s=s.add(h.eq(c+f));for(u.find(">tr:not(.k-filter-row)").eq(o.row).append(s),e=[],f=0;f<t.length;f++)t[f].columns&&(e=e.concat(t[f].columns));e.length&&wu(e,i,r,u)}function kt(n,t,i,r){var f,u;for(i=i||0,r=r||{},r[i]=r[i]||0,u=0;u<t.length;u++){if(t[u]==n){f={cell:r[i],row:i};break}if(t[u].columns&&(f=kt(n,t[u].columns,i+1,r)))break;r[i]++}return f}function de(n,t,i,r){var u,f=i.locked;do u=n[t],t+=r?1:-1;while(u&&t>-1&&t<n.length&&u!=i&&!u.columns&&u.locked==f);return u}function bu(n,t,i,r){var e,f,u,o;return t.columns?(t=t.columns,t[r?0:t.length-1]):(e=er(t,n),f=e?e.columns:n,u=l(t,f),0===u&&r?u++:u!=f.length-1||r?(u>0||0===u&&!r)&&(u+=r?-1:1):u--,o=l(i,f),t=de(f,u,i,o>u),t&&t!=i&&t.columns?bu(n,t,i,r):null)}function sr(n,t,i,r){var f,u;for(i=i||0,r=r||{},r[i]=r[i]||0,u=0;u<t.length;u++){if(t[u]==n){f={cell:r[i],row:i};break}if(t[u].columns&&(f=sr(n,t[u].columns,i+1,r)))break;t[u].hidden||r[i]++}return f}function bi(n){var t=et(s(n));return t.concat(et(at(n)))}function ki(n,t,i,r){var f=n[i],e=n[r],u=er(f,t);return t=u?u.columns:t,l(e,t)}function et(n){for(var i=[],r=[],t=0;t<n.length;t++)i.push(n[t]),n[t].columns&&(r=r.concat(n[t].columns));return r.length&&(i=i.concat(et(r))),i}function dt(n){for(var t,i=0,r=0;r<n.length;r++)t=n[r],t.columns?i+=dt(t.columns):t.hidden&&i++;return i}function ku(n){for(var t,r=0,i=0,u=n.length;i<u;i++)t=n[i].style.width,t&&t.indexOf("%")==-1&&(r+=parseInt(t,10));return r}function ge(n,t){for(var r,u=n.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)"),i=0;i<u.length;i++)r=u[i].rowSpan,r>1&&(u[i].rowSpan=r-t||1)}function no(n,t){for(var r=n.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)"),i=0;i<r.length;i++)r[i].rowSpan+=t}function hr(t){for(var r=t.find("tr:not(.k-filter-row)"),f=r.filter(function(){return!n(this).children().length}).remove().length,u=r.find("th:not(.k-group-cell,.k-hierarchy-cell)"),i=0;i<u.length;i++)u[i].rowSpan>1&&(u[i].rowSpan-=f);return r.length-f}function di(n,t,i,r,u){for(var o,e=[],f=0,s=n.length;f<s;f++)o=i[r]||[],o.push(t.eq(u+f)),i[r]=o,n[f].columns&&(e=e.concat(n[f].columns));e.length&&di(e,t,i,r+1,u+n.length)}function s(n){return y(n,function(n){return n.locked})}function at(n){return y(n,function(n){return!n.locked})}function du(n){return y(n,function(n){return!n.locked&&ft(n)})}function cr(n){return y(n,function(n){return n.locked&&ft(n)})}function it(n){for(var i=[],t=0;t<n.length;t++)n[t].hidden||(n[t].columns?i=i.concat(it(n[t].columns)):i.push(n[t]));return i}function u(n){for(var i=[],t=0;t<n.length;t++)n[t].columns?i=i.concat(u(n[t].columns)):i.push(n[t]);return i}function g(r){var f,e=r.find(">tr:not(.k-filter-row)"),o=function(){var t=n(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell")},u=n();return e.length>1&&(u=e.find("th").filter(o).filter(function(){return this.rowSpan>1})),u=u.add(e.last().find("th").filter(o)),f=i.attr("index"),u.sort(function(i,r){var u,e;return i=n(i),r=n(r),u=i.attr(f),e=r.attr(f),u===t&&(u=n(i).index()),e===t&&(e=n(r).index()),u=parseInt(u,10),e=parseInt(e,10),u>e?1:u<e?-1:0}),u}function gu(t){var h,e,r,u,o,i,f,v=t.closest("table"),s=n().add(t),c=t.closest("tr"),l=v.find("tr:not(.k-filter-row)"),a=l.index(c);if(a>0){for(h=l.eq(a-1),e=h.find("th:not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return!n(this).attr("rowspan")}),r=0,u=c.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(t),o=t.prevAll(":not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return this.colSpan>1}),i=0;i<o.length;i++)r+=o[i].colSpan||1;for(u+=Math.max(r-1,0),r=0,i=0;i<e.length;i++)if(f=e.eq(i),r+=f.attr("data-colspan")?f[0].getAttribute("data-colspan"):1,u>=i&&u<r){s=gu(f).add(s);break}}return s}function oi(t){var u,f,r,e,l,o,s,y=t.closest("thead"),h=n().add(t),a=t.closest("tr"),v=y.find("tr:not(.k-filter-row)"),p=v.index(a)+t[0].rowSpan,c=i.attr("colspan");if(p<=v.length-1){for(u=a.next(),f=t.prevAll(":not(.k-group-cell,.k-hierarchy-cell)"),f=f.filter(function(){return!this.rowSpan||1===this.rowSpan}),e=0,r=0;r<f.length;r++)e+=parseInt(f.eq(r).attr(c),10)||1;for(l=u.find("th:not(.k-group-cell,.k-hierarchy-cell)"),o=parseInt(t.attr(c),10)||1,r=0;r<o;)u=l.eq(r+e),h=h.add(oi(u)),s=parseInt(u.attr(c),10),s>1&&(o-=s-1),r++}return h}function nf(t,i,r,u){var f,e=t;return u&&t.empty(),oo?t[0].innerHTML=r:(f=document.createElement("div"),f.innerHTML="<table><tbody>"+r+"<\/tbody><\/table>",t=f.firstChild.firstChild,i[0].replaceChild(t,e[0]),t=n(t)),t}function gi(n){n=n||{};var t=n.style;return t?(t=t.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none"),t===n.style&&(t=t.replace(/(.*)?/i,"display:none;$1"))):t="display:none",f({},n,{style:t})}function to(n){n=n||{};var t=n.style;return t&&(n.style=t.replace(/(display\s*:\s*none\s*;?)*/gi,"")),n}function gt(t,r,u,f){var s,e=t.find(">colgroup"),h=ci(r,function(n){return s=n.width,s&&0!==parseInt(s,10)?i.format('<col style="width:{0}"/>',typeof s===p?s:s+"px"):"<col />"});(u||e.find(".k-hierarchy-col").length)&&h.splice(0,0,'<col class="k-hierarchy-col" />');e.length&&e.remove();e=n(Array(f+1).join('<col class="k-group-col">')+h.join(""));e.is("colgroup")||(e=n("<colgroup/>").append(e));t.prepend(e);o.msie&&8==o.version&&(t.css("display","inline-table"),window.setTimeout(function(){t.css("display","")},1))}function io(n,t){for(var u=0,r=n.find("th:not(.k-group-cell)"),i=0,f=t.length;i<f;i++)t[i].locked&&(r.eq(i).insertBefore(r.eq(u)),r=n.find("th:not(.k-group-cell)"),u++)}function tf(n){for(var t,r={},i=0,u=n.length;i<u;i++)t=n[i],r[t.value]=t.text;return r}function ro(n,t,r,u){var e=r&&r.length&&v(r[0])&&"value"in r[0],f=e?tf(r)[n]:n;return f=null!=f?f:"",t?i.format(t,f):u===!1?f:i.htmlEncode(f)}function vt(n,t,i){for(var u,f=0,r=n[f];r;){if(u=!!i||"none"!==r.style.display,u&&!yo.test(r.className)&&--t<0){r.style.display=i?"":"none";break}r=n[++f]}}function rf(t,i){for(var r,u,f=0,e=t.length;f<e;f+=1)u=t.eq(f),u.is(".k-grouping-row,.k-detail-row")?(r=u.children(":not(.k-group-cell):first,.k-detail-cell").last(),r.attr("colspan",parseInt(r.attr("colspan"),10)-1)):(u.hasClass("k-grid-edit-row")&&(r=u.children(".k-edit-container")[0])&&(r=n(r),r.attr("colspan",parseInt(r.attr("colspan"),10)-1),r.find("col").eq(i).remove(),u=r.find("tr:first")),vt(u[0].cells,i,!1))}function lr(n){for(var t,i=[],r=0;r<n.length&&(t=n[r],"field"in t&&"value"in t&&"items"in t);r++)i.push(t),t.hasSubgroups&&(i=i.concat(lr(t.items)));return i}function uf(n){for(var t,i=[],r=0;r<n.length&&(t=n[r],"field"in t&&"value"in t&&"items"in t);r++)t.hasSubgroups&&(i=i.concat(uf(t.items))),i.push(t.aggregates);return i}function ff(t,i){for(var r,u,e,f=0,o=t.length;f<o;f+=1)u=t.eq(f),u.is(".k-grouping-row,.k-detail-row")?(r=u.children(":not(.k-group-cell):first,.k-detail-cell").last(),r.attr("colspan",parseInt(r.attr("colspan"),10)+1)):(u.hasClass("k-grid-edit-row")&&(r=u.children(".k-edit-container")[0])&&(r=n(r),r.attr("colspan",parseInt(r.attr("colspan"),10)+1),gt(r.find(">form>table"),k(e),!1,0),u=r.find("tr:first")),vt(u[0].cells,i,!0))}function ef(n,t,i){i=i||1;for(var r,u=0,f=n.length;u<f;u++)r=n.eq(u).children().last(),r.attr("colspan",parseInt(r.attr("colspan"),10)+i),r=t.eq(u).children().last(),r.attr("colspan",parseInt(r.attr("colspan"),10)-i)}function of(n){for(var i=0,r=n.find(">colgroup>col"),t=0,u=r.length;t<u;t+=1)i+=parseInt(r[t].style.width,10);return i}function uo(n,t){var r,u,i,f;n=n[0];t=t[0];n.rows.length!==t.rows.length&&(r=n.offsetHeight,u=t.offsetHeight,r>u?(i=t.rows[t.rows.length-1],ye.test(i.className)&&(i=t.rows[t.rows.length-2]),f=r-u):(i=n.rows[n.rows.length-1],ye.test(i.className)&&(i=n.rows[n.rows.length-2]),f=u-r),i.style.height=i.offsetHeight+f+"px")}function si(n,t){var i,r=n.offsetHeight,u=t.offsetHeight;r>u?i=r+"px":r<u&&(i=u+"px");i&&(n.style.height=t.style.height=i)}function ar(n,t){var r,u,i;if(typeof n===p&&n===t||v(n)&&n.name===t)return n;if(ni(n))for(r=0,u=n.length;r<u;r++)if(i=n[r],typeof i===p&&i===t||i.name===t)return i;return null}function w(t,i){var r,u,f=o.msie||o.edge;if(i===!0){if(t=n(t),r=t.parent().scrollTop(),u=t.parent().scrollLeft(),f)try{t[0].setActive()}catch(e){t[0].focus()}else t[0].focus();t.parent().scrollTop(r).scrollLeft(u)}else n(t).one("focusin",function(n){n.preventDefault()}).focus()}function vr(n,t){return!(!n.field||n.selectable)&&!(t.editable&&!t.editable(n.field))&&!(n.editable&&!n.editable(t))}function sf(t){return n(t).is(":button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap,.k-tool-icon")}function hf(r){var f=n(r.currentTarget),e=f.is("th"),o=this.table.add(this.lockedTable),s=this.thead.parent().add(n(">table",this.lockedHeader)),h=sf(r.target),u=f.closest("table")[0];if(!i.support.touch)return h&&f.find(i.roleSelector("filtercell")).length?(this._setCurrent(f),t):(u!==o[0]&&u!==o[1]&&u!==s[0]&&u!==s[1]||n(r.target).is("a.k-i-expand, a.k-i-collapse")||(this.options.navigatable&&this._setCurrent(f),!e&&h||setTimeout(function(){ko&&n(i._activeElement()).hasClass("k-widget")||sf(i._activeElement())&&n.contains(u,i._activeElement())||w(u,!0)}),e&&r.preventDefault()),t)}function fo(n){return n&&(n.hasClass("k-edit-cell")||n.parent().hasClass("k-grid-edit-row"))}function cf(n,t,i){return'<tr role="row" class="k-grouping-row">'+wi(t)+'<td colspan="'+n+'" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1" '+vi+'="'+lu+'"><\/a>'+i+"<\/p><\/td><\/tr>"}function eo(n){return'<tr role="row" class="k-grouping-row"><td colspan="'+n+'" aria-expanded="true"><p class="k-reset">&nbsp;<\/p><\/td><\/tr>'}var i=window.kendo,ot=i.ui,lf=i.data.DataSource,af=i.data.ObservableObject,oo=i.support.tbodyInnerHtml,st=i._activeElement,hi=ot.Widget,rt=i._outerWidth,ht=i._outerHeight,h=i.keys,v=n.isPlainObject,f=n.extend,ci=n.map,y=n.grep,ni=n.isArray,l=n.inArray,vf=Array.prototype.push,e=n.proxy,yr=i.isFunction,yf=n.isEmptyObject,pr=n.contains,nt=Math,wr="progress",br="error",c=":not(.k-group-cell):not(.k-hierarchy-cell):visible",so="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",ct="tr:not(.k-footer-template):visible",lt=":not(.k-group-cell):not(.k-hierarchy-cell):visible",yt="tr:not(.k-grouping-row):not(.k-detail-row):not(.k-footer-template):not(.k-group-footer):visible",pf=yt+":first",ho=yt+":last",wf=ct+":first>"+lt+":first",kr="th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)",r=".kendoGrid",nr="edit",tr="beforeEdit",dr="save",gr="remove",nu="detailInit",bf="filterMenuInit",kf="columnMenuInit",df="filterMenuOpen",gf="columnMenuOpen",ne="cellClose",b="change",tu="columnHide",iu="columnShow",te="saveChanges",ru="dataBound",ie="detailExpand",re="detailCollapse",uu="itemchange",fu="page",eu="paging",ue="scroll",ir="sync",li="k-state-focused",fe=":kendoFocusable",ti="k-state-selected",ou="k-checkbox",wt="input[data-role='checkbox']."+ou,ee="k-grid-norecords",su="columnResize",oe="columnReorder",se="columnLock",he="columnUnlock",ce="navigate",a="click",hu="height",ai="tabIndex",ii="function",p="string",le="bottom",cu="container-for",ae="field",co="input",ve="incell",lo="inline",ao="uid",lu="Collapse",au="Expand",vi="aria-label",vo=/(\}|\#)/gi,yi=/#/gi,rr="[\\x20\\t\\r\\n\\f]",yo=RegExp("(^|"+rr+")(k-group-cell|k-hierarchy-cell)("+rr+"|$)"),ye=RegExp("(^|"+rr+")(k-filter-row)("+rr+"|$)"),po='# if (iconClass) {#<a role="button" class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass#"><\/span>#=text#<\/a># } else { #<a role="button" class="k-button k-button-icontext #=className#" #=attr# href="\\#">#=text#<\/a># } #',wo='<input class="'+ou+'" data-role="checkbox" aria-label="Select row" aria-checked="false" type="checkbox"><label class="k-checkbox-label k-no-text">&\\#8203;<\/label>',bo='<input class="'+ou+'" data-role="checkbox" aria-label="Select all rows" aria-checked="false" type="checkbox"><label class="k-checkbox-label k-no-text">&#8203;<\/label>',ut=!1,o=i.support.browser,pi=o.msie&&7==o.version,ko=o.msie&&8==o.version,pe=hi.extend({init:function(n,t){var i=this;hi.fn.init.call(i,n,t);i._refreshHandler=e(i.refresh,i);i.setDataSource(t.dataSource);i.wrap()},setDataSource:function(n){var t=this;t.dataSource&&t.dataSource.unbind(b,t._refreshHandler);t.dataSource=n;t.dataSource.bind(b,t._refreshHandler);t.dataSource.options.useRanges=!0},options:{name:"VirtualScrollable",itemHeight:n.noop,prefetch:!0,maxScrollHeight:25e4},events:[eu,fu,ue],destroy:function(){var n=this;hi.fn.destroy.call(n);n.dataSource.unbind(b,n._refreshHandler);n.wrapper.add(n.verticalScrollbar).off(r);n.drag&&(n.drag.destroy(),n.drag=null);n.wrapper=n.element=n.verticalScrollbar=null;n._refreshHandler=null},wrap:function(){var u,t=this,o=i.support.scrollbar()+1,f=t.element;f.css({width:"auto",overflow:"hidden"}).css(ut?"padding-left":"padding-right",o);t.content=f.children().first();u=t.wrapper=t.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+r+" mousewheel"+r,e(t._wheelScroll,t));i.support.kineticScrollNeeded&&(t.drag=new i.UserEvents(t.wrapper,{global:!0,allowSelection:!0,start:function(n){n.sender.capture()},move:function(n){t.verticalScrollbar.scrollTop(t.verticalScrollbar.scrollTop()-n.y.delta);u.scrollLeft(u.scrollLeft()-n.x.delta);n.preventDefault()}}));t.verticalScrollbar=n('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:o}).appendTo(f).bind("scroll"+r,e(t._scroll,t))},_wheelScroll:function(n){if(!n.ctrlKey){var r=this.verticalScrollbar,u=r.scrollTop(),t=i.wheelDeltaY(n);!t||t>0&&0===u||t<0&&u+r[0].clientHeight==r[0].scrollHeight||(n.preventDefault(),this.verticalScrollbar.scrollTop(u+-t))}},_scroll:function(n){var i=this,f=!i.options.prefetch,r=n.currentTarget.scrollTop,o=i.dataSource,u=i.itemHeight,s=o.skip()||0,h=i._rangeStart||s,c=i.element.innerHeight(),l=!!(i._scrollbarTop&&i._scrollbarTop>r),e=nt.max(nt.floor(r/u),0),a=nt.max(e+nt.ceil(c/u),0);return i._preventScroll?(i._preventScroll=!1,t):(i._scrollTop=r-h*u,i._scrollbarTop=r,i._scrolling=f,i._fetch(e,a,l)||(i.wrapper[0].scrollTop=i._scrollTop),i.trigger(ue),f&&(i._scrollingTimeout&&clearTimeout(i._scrollingTimeout),i._scrollingTimeout=setTimeout(function(){i._scrolling=!1;i._page(i._rangeStart,i.dataSource.take())},100)),t)},scrollToTop:function(){this._scrollTo(0)},scrollToBottom:function(){var n=this.verticalScrollbar;this._scrollTo(n[0].scrollHeight-n.height())},_scrollWrapperToTop:function(){this.wrapper.scrollTop(0)},_scrollWrapperToBottom:function(){this.wrapper.scrollTop(this.wrapper[0].scrollHeight)},_scrollTo:function(n){var t=this,i=t.verticalScrollbar;i.scrollTop()!==n&&(t._preventScroll=!0);t.wrapper.scrollTop(n);t._scrollTop=t.wrapper.scrollTop();i.scrollTop(n);t._scrollbarTop=i.scrollTop()},_isScrolledToTop:function(){return 0===this.verticalScrollbar.scrollTop()},_isScrolledToBottom:function(){var n=this.verticalScrollbar,t=n.scrollTop();return t>0&&t>=parseInt(n[0].scrollHeight-n.height(),10)},itemIndex:function(n){var t=this._rangeStart||this.dataSource.skip()||0;return t+n},_isElementVisible:function(n){return this._isElementVisibleInWrapper(n)},_isElementVisibleInWrapper:function(t){var i,r,f=this,u=f.wrapper;return t=n(t),!!(t[0]&&pr(u[0],t[0])&&(i=parseInt(t.position().top,10),r=t.outerHeight()/2,(i>=0||nt.abs(i)<=r)&&i+r<=u.height()))},position:function(n){var t,i=this._rangeStart||this.dataSource.skip()||0,r=this.dataSource.pageSize();return t=n>i?n-i+1:i-n-1,t>r?r:t},scrollIntoView:function(n){var i=this.wrapper[0],t=i.clientHeight,r=i.scrollTop,u=n[0].offsetTop,f=n[0].offsetHeight;r>u?this.verticalScrollbar[0].scrollTop-=t/2:u+f>=r+t&&(this.verticalScrollbar[0].scrollTop+=t/2)},_fetch:function(t,i,r){var f=this,s=f.dataSource,a=f.itemHeight,u=s.take(),e=f._rangeStart||s.skip()||0,h=nt.floor(t/u)*u,l=!1,v=.33,c=f.verticalScrollbar,y=o.webkit?1:0;return t<e?(l=!0,e=nt.max(0,i-u),f._scrollTop=c.scrollTop()-e*a,f._page(e,u)):i>=e+u&&!r?(l=!0,e=nt.min(t,s.total()-u),f._scrollTop=c.scrollTop()>=c[0].scrollHeight-c.height()-y?f.wrapper[0].scrollHeight-f.wrapper.height():a,f._page(e,u)):!f._fetching&&f.options.prefetch&&(t<h+u-u*v&&t>u&&s.prefetch(h-u,u,n.noop),i>h+u*v&&s.prefetch(h+u,u,n.noop)),l},fetching:function(){return this._fetching},_page:function(t,r,u){var f=this,o=!f.options.prefetch,e=f.dataSource;u=yr(u)?u:n.noop;f.trigger(eu,{skip:t,take:r})||(clearTimeout(f._timeout),f._fetching=!0,f._rangeStart=t,e.inRange(t,r)?(i.ui.progress(n(f.wrapper).parent(),!0),e.range(t,r,function(){i.ui.progress(n(f.wrapper).parent(),!1);u();f.trigger(fu)})):(o||i.ui.progress(f.wrapper.parent(),!0),f._timeout=setTimeout(function(){f._scrolling||(o&&i.ui.progress(f.wrapper.parent(),!0),e.range(t,r,function(){i.ui.progress(f.wrapper.parent(),!1);u();f.trigger(fu)}))},100)))},repaintScrollbar:function(n){for(var r=this,f="",u=r.options.maxScrollHeight,h=r.dataSource,c=i.support.kineticScrollNeeded?0:i.support.scrollbar(),e=r.wrapper[0],l=r._isScrolledToBottom(),a=r.itemHeight=r.options.itemHeight()||0,v=e.scrollWidth>e.offsetWidth?c:0,o=h.total()*a+v,s=0;s<nt.floor(o/u);s++)f+='<div style="width:1px;height:'+u+'px"><\/div>';o%u&&(f+='<div style="width:1px;height:'+o%u+'px"><\/div>');r.verticalScrollbar.html(f);l&&!r._isScrolledToBottom()&&r.scrollToBottom();t!==r._scrollTop&&n&&(e.scrollTop=r._scrollTop)},refresh:function(n){var r=this,f=r.dataSource,e=r._rangeStart,u=(n||{}).action,o=r._isScrolledToBottom()||!u||u!==uu&&u!==gr&&u!==ir;i.ui.progress(r.wrapper.parent(),!1);clearTimeout(r._timeout);r.repaintScrollbar(o);r.drag&&r.drag.cancel();t===e||r._fetching||((!u||u!==ir&&u!==uu)&&(r._rangeStart=f.skip()),1!==f.page()||u&&(u===ir||u===uu)||(r.verticalScrollbar[0].scrollTop=0));r._fetching=!1}}),d={create:{text:"Add new record",className:"k-grid-add",iconClass:"k-icon k-i-plus"},cancel:{text:"Cancel changes",className:"k-grid-cancel-changes",iconClass:"k-icon k-i-cancel"},save:{text:"Save changes",className:"k-grid-save-changes",iconClass:"k-icon k-i-check"},destroy:{text:"Delete",className:"k-grid-delete",iconClass:"k-icon k-i-close"},edit:{text:"Edit",className:"k-grid-edit",iconClass:"k-icon k-i-edit"},update:{text:"Update",className:"k-primary k-grid-update",iconClass:"k-icon k-i-check"},canceledit:{text:"Cancel",className:"k-grid-cancel",iconClass:"k-icon k-i-cancel"},excel:{text:"Export to Excel",className:"k-grid-excel",iconClass:"k-icon k-i-file-excel"},pdf:{text:"Export to PDF",className:"k-grid-pdf",iconClass:"k-icon k-i-file-pdf"}},ri=i.ui.DataBoundWidget.extend({init:function(t,u,f){var e=this;u=ni(u)?{dataSource:u}:u;hi.fn.init.call(e,t,u);f&&(e._events=f);ut=i.support.isRtl(t);e._element();e._aria();e._columns(e.options.columns);e._dataSource();e._tbody();e._pageable();e._thead();e._groupable();e._toolbar();e._setContentHeight();e._templates();e._navigatable();e._selectable();e._clipboard();e._details();e._editable();e._attachCustomCommandsEvent();e._minScreenSupport();e.options.autoBind?e.dataSource.fetch():(e._group=e._groups()>0,e._footer());e.lockedContent&&(e.wrapper.addClass("k-grid-lockedcolumns"),e._resizeHandler=function(){e.resize()},n(window).on("resize"+r,e._resizeHandler));i.notify(e)},events:[b,"dataBinding","cancel",ru,ie,re,nu,bf,df,kf,gf,nr,tr,dr,gr,te,ne,su,oe,iu,tu,se,he,ce,"page","sort","filter","group","groupExpand","groupCollapse"],setDataSource:function(n){var t=this,i=t.options.scrollable;t.options.dataSource=n;t._dataSource();t._pageable();t._thead();i&&(i.virtual?t.content.find(">.k-virtual-scrollable-wrap").scrollLeft(0):t.content.scrollLeft(0));t.options.groupable&&t._groupable();t.virtualScrollable&&t.virtualScrollable.setDataSource(t.options.dataSource);t.options.navigatable&&t._navigatable();t.options.selectable&&t._selectable();t.options.autoBind&&n.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,allowCopy:!1,navigatable:!1,pageable:!1,persistSelection:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",noRecords:!1,dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null,columnResizeHandleWidth:3,mobile:"",messages:{editable:{cancelDelete:"Cancel",confirmation:"Are you sure you want to delete this record?",confirmDelete:"Delete"},commands:{create:d.create.text,cancel:d.cancel.text,save:d.save.text,destroy:d.destroy.text,edit:d.edit.text,update:d.update.text,canceledit:d.canceledit.text,excel:d.excel.text,pdf:d.pdf.text},noRecords:"No records available.",expandCollapseColumnHeader:""}},destroy:function(){var u,t=this;t._angularItems("cleanup");t._destroyColumnAttachments();hi.fn.destroy.call(t);this._navigatableTables=null;t._resizeHandler&&n(window).off("resize"+r,t._resizeHandler);t.pager&&t.pager.element&&t.pager.destroy();t.pager=null;t.groupable&&t.groupable.element&&t.groupable.element.kendoGroupable("destroy");t.groupable=null;t.options.reorderable&&t.wrapper.data("kendoReorderable").destroy();t.selectable&&t.selectable.element&&(t.selectable.destroy(),t.clearArea(),t.options.persistSelection===!0&&(t._selectedIds=null),t.copyHandler&&(t.wrapper.off("keydown",t.copyHandler),t.unbind(t.copyHandler)),t.updateClipBoardState&&(t.unbind(t.updateClipBoardState),t.updateClipBoardState=null),t.clearAreaHandler&&t.wrapper.off("keyup",t.clearAreaHandler));t.selectable=null;t.resizable&&(t.resizable.destroy(),t._resizeUserEvents&&(t._resizeHandleDocumentClickHandler&&n(document).off("click",t._resizeHandleDocumentClickHandler),t._resizeUserEvents.destroy(),t._resizeUserEvents=null),t.resizable=null);t._destroyVirtualScrollable();t._destroyEditable();t.dataSource&&(t.dataSource.unbind(b,t._refreshHandler).unbind(wr,t._progressHandler).unbind(br,t._errorHandler),t._refreshHandler=t._progressHandler=t._errorHandler=null);u=t.element.add(t.wrapper).add(t.table).add(t.thead).add(t.wrapper.find(">.k-grid-toolbar"));t.content&&(u=u.add(t.content).add(t.content.find(">.k-virtual-scrollable-wrap")));t.lockedHeader&&t._removeLockedContainers();t.pane&&t.pane.destroy();t.minScreenResizeHandler&&n(window).off("resize",t.minScreenResizeHandler);t._draggableInstance&&t._draggableInstance.element&&t._draggableInstance.destroy();t._draggableInstance=null;u.off(r);i.destroy(t.wrapper);t.rowTemplate=t.altRowTemplate=t.lockedRowTemplate=t.lockedAltRowTemplate=t.detailTemplate=t.footerTemplate=t.groupFooterTemplate=t.lockedGroupFooterTemplate=t.noRecordsTemplate=null;t.scrollables=t.thead=t.tbody=t.element=t.table=t.content=t.footer=t.wrapper=t.lockedTable=t.lockedContent=t.lockedHeader=t.lockedFooter=t._groupableClickHandler=t._groupRows=t._setContentWidthHandler=null},getOptions:function(){var r,u,e,o=this.options;return o.dataSource=null,r=f(!0,{},this.options),r.columns=i.deepExtend([],this.columns),u=this.dataSource,e=u.options.data&&u._data,u.options.data=null,r.dataSource=n.extend(!0,{},u.options),u.options.data=e,r.dataSource.data=e,r.dataSource.page=u.page(),r.dataSource.filter=u.filter(),r.dataSource.pageSize=u.pageSize(),r.dataSource.sort=u.sort(),r.dataSource.group=u.group(),r.dataSource.aggregate=u.aggregate(),r.dataSource.transport&&(r.dataSource.transport.dataSource=null),r.pageable&&r.pageable.pageSize&&(r.pageable.pageSize=u.pageSize()),r.$angular=t,r},setOptions:function(n){var t,e,r,f,u=this.getOptions();i.deepExtend(u,n);n.dataSource||(u.dataSource=this.dataSource);t=this.wrapper;e=this._events;r=this.element;this.destroy();this.options=null;this._isMobile&&(f=t.closest(i.roleSelector("pane")).parent(),f.after(t),f.remove(),t.removeClass("k-grid-mobile"));t[0]!==r[0]&&(t.before(r),t.remove());r.empty();this.init(r,u,e);this._setEvents(u)},items:function(){return this.lockedContent?this._items(this.tbody).add(this._items(this.lockedTable.children("tbody"))):this._items(this.tbody)},_items:function(t){return t.children().filter(function(){var t=n(this);return!t.hasClass("k-grouping-row")&&!t.hasClass("k-detail-row")&&!t.hasClass("k-group-footer")})},dataItems:function(){var t,r,n,u=i.ui.DataBoundWidget.fn.dataItems.call(this);if(this.lockedContent){for(t=u.length,r=Array(2*t),n=t;--n>=0;)r[n]=r[n+t]=u[n];u=r}return u},_destroyColumnAttachments:function(){var t=this;t.resizeHandle=null;t.thead&&(this.angular("cleanup",function(){return{elements:t.thead.get()}}),t.thead.add(t.lockedHeader).find("th").each(function(){var t=n(this),i=t.data("kendoFilterMenu"),r=t.data("kendoColumnSorter"),u=t.data("kendoColumnMenu");i&&i.destroy();r&&r.destroy();u&&u.destroy()}))},_attachCustomCommandsEvent:function(){for(var n,t=this,r=u(t.columns||[]),i=0,f=r.length;i<f;i++)n=r[i].command,n&&we(t,t.wrapper,n)},_aria:function(){var n=this.element.attr("id")||"aria";n&&(this._cellId=n+"_active_cell")},_element:function(){var t=this,i=t.element;i.is("table")||(i=t.options.scrollable?t.element.find("> .k-grid-content > table"):t.element.children("table"),i.length||(i=n("<table />").appendTo(t.element)));pi&&i.attr("cellspacing",0);t.table=i.attr("role",t._hasDetails()?"treegrid":"grid");t._wrapper()},_createResizeHandle:function(t,i){var e,c,h,u,l,a,v,s=this,y=s.options.columnResizeHandleWidth,w=s.options.scrollable,f=s.resizeHandle,p=this._groups();if(f&&s.lockedContent&&f.data("th")[0]!==i[0]&&(f.off(r).remove(),f=null),f||(f=s.resizeHandle=n('<div class="k-resize-handle"><div class="k-resize-handle-inner"><\/div><\/div>'),t.append(f)),ut)e=i.position().left,w&&(u=i.closest(".k-grid-header-wrap, .k-grid-header-locked"),l=o.msie?u.scrollLeft():0,a=o.webkit?u[0].scrollWidth-u[0].offsetWidth-u.scrollLeft():0,v=o.mozilla?u[0].scrollWidth-u[0].offsetWidth-(u[0].scrollWidth-u[0].offsetWidth-u.scrollLeft()):0,e-=a-v+l);else{for(e=i[0].offsetWidth,c=g(i.closest("thead")).filter(":visible"),h=0;h<c.length&&c[h]!=i[0];h++)e+=c[h].offsetWidth;p>0&&(e+=rt(t.find(".k-group-cell:first"))*p);s._hasDetails()&&(e+=rt(t.find(".k-hierarchy-cell:first")))}f.css({top:i.position().top,left:e-y,height:ht(i),width:3*y}).data("th",i).show();f.off("dblclick"+r).on("dblclick"+r,function(){s._autoFitLeafColumn(i.data("index"))})},_positionColumnResizeHandle:function(){var t=this,i=t.options.columnResizeHandleWidth,u=t.lockedHeader?t.lockedHeader.find("thead:first"):n();t.thead.add(u).on("mousemove"+r,"th",function(r){function s(){var t,i=parseFloat(n(document.documentElement).css("zoom"));return isNaN(i)&&(i=1),t=parseFloat(n(document.body).css("zoom")),isNaN(t)&&(t=1),i*t}var f,e,o,u=n(this);u.hasClass("k-group-cell")||u.hasClass("k-hierarchy-cell")||(f=r.clientX/s(),e=n(window).scrollLeft(),o=u.offset().left+(ut?0:this.offsetWidth),f+e>o-i&&f+e<o+i?t._createResizeHandle(u.closest("div"),u):t.resizeHandle?t.resizeHandle.hide():fr(t.wrapper,""))})},_resizeHandleDocumentClick:function(t){n(t.target).closest(".k-column-active").length||(n(document).off(t),this._hideResizeHandle())},_hideResizeHandle:function(){this.resizeHandle&&(this.resizeHandle.data("th").removeClass("k-column-active"),this.lockedContent&&!this._isMobile?(this.resizeHandle.off(r).remove(),this.resizeHandle=null):this.resizeHandle.hide())},_positionColumnResizeHandleTouch:function(){var t=this,r=t.lockedHeader?t.lockedHeader.find("thead:first"):n();t._resizeUserEvents=new i.UserEvents(r.add(t.thead),{filter:"th:not(.k-group-cell):not(.k-hierarchy-cell)",threshold:10,hold:function(i){var r=n(i.target);i.preventDefault();r.addClass("k-column-active");t._createResizeHandle(r.closest("div"),r);t._resizeHandleDocumentClickHandler||(t._resizeHandleDocumentClickHandler=e(t._resizeHandleDocumentClick,t));n(document).on("click",t._resizeHandleDocumentClickHandler)}})},_resizable:function(){var c,l,e,a,s,f,v,r,t=this,h=t.options,p=this._isMobile,y=i.support.mobileOS?0:i.support.scrollbar();h.resizable&&(c=h.scrollable?t.wrapper.find(".k-grid-header-wrap:first"):t.wrapper,p?t._positionColumnResizeHandleTouch(c):t._positionColumnResizeHandle(c),t.resizable&&t.resizable.destroy(),t.resizable=new ot.Resizable(c.add(t.lockedHeader),{handle:(h.scrollable?"":">")+".k-resize-handle",hint:function(i){return n('<div class="k-grid-resize-indicator" />').css({height:ht(i.data("th"))+t.tbody.attr("clientHeight")})},start:function(i){var w,c,y,b;r=n(i.currentTarget).data("th");p&&t._hideResizeHandle();w=r.closest("table");c=n.inArray(r[0],g(r.closest("thead")).filter(":visible"));f=w.parent().hasClass("k-grid-header-locked");y=f?t.lockedTable:t.table;b=t.footer||n();t.footer&&t.lockedContent&&(b=t.footer.children(f?".k-grid-footer-locked":".k-grid-footer-wrap"));fr(t.wrapper,"col-resize");v=h.scrollable?w.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+c+")").add(y.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+c+")")).add(b.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+c+")")):y.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+c+")");l=i.x.location;e=rt(r);a=u(t.columns)[c].minResizableWidth||10;s=rt(f?y.children("tbody"):t.tbody);o.webkit&&t.wrapper.addClass("k-grid-column-resizing")},resize:function(i){var o,k,d,b,p,u,w=ut?-1:1,c=e+i.x.location*w-l*w;h.scrollable?(f&&t.lockedFooter?o=t.lockedFooter.children("table"):t.footer&&(o=t.footer.find(">.k-grid-footer-wrap>table")),o&&o[0]||(o=n()),k=r.closest("table"),d=f?t.lockedTable:t.table,b=!1,p=t.wrapper.width()-y,u=c,f&&s-e+u>p&&(u=e+(p-s-2*y),u<0&&(u=c),b=!0),u>10&&u>=a&&(v.css("width",u),s&&(u=b?p-2*y:s+i.x.location*w-l*w,d.add(k).add(o).css("width",u),f||(t._footerWidth=u)))):c>10&&c>=a&&v.css("width",c)},resizeend:function(){var f,h,n,s=rt(r);fr(t.wrapper,"");o.webkit&&t.wrapper.removeClass("k-grid-column-resizing");e!=s&&(h=t.lockedHeader?t.lockedHeader.find("thead:first tr:first").add(t.thead.find("tr:first")):r.parent(),n=r.attr(i.attr("index")),n||(n=h.find("th:not(.k-group-cell):not(.k-hierarchy-cell)").index(r)),f=u(t.columns)[n],f.width=s,t.trigger(su,{column:f,oldWidth:e,newWidth:s}),t._applyLockedContainersWidth(),t._syncLockedContentHeight(),t._syncLockedHeaderHeight());t._hideResizeHandle();r=null}}))},_draggable:function(){var u,t=this;t.options.reorderable&&(t._draggableInstance&&t._draggableInstance.destroy(),u=t.wrapper.children(".k-grid-header"),t._draggableInstance=t.wrapper.kendoDraggable({group:i.guid(),autoScroll:!0,filter:t.content?".k-grid-header:first "+kr:"table:first>.k-grid-header "+kr,dragstart:function(){u.children(".k-grid-header-wrap").unbind("scroll"+r+"scrolling").bind("scroll"+r+"scrolling",function(n){t.virtualScrollable?t.content.find(">.k-virtual-scrollable-wrap").scrollLeft(this.scrollLeft):t.scrollables.not(n.currentTarget).scrollLeft(this.scrollLeft)})},dragend:function(){u.children(".k-grid-header-wrap").unbind("scroll"+r+"scrolling")},drag:function(){t._hideResizeHandle()},hint:function(t){var r=t.attr(i.attr("title"));return r&&(r=i.htmlEncode(r)),n('<div class="k-header k-drag-clue" />').css({width:t.width(),paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight"),lineHeight:t.height()+"px",paddingTop:t.css("paddingTop"),paddingBottom:t.css("paddingBottom")}).html(r||t.attr(i.attr("field"))||t.text()).prepend('<span class="k-icon k-drag-status k-i-cancel" />')}}).data("kendoDraggable"))},_reorderable:function(){var t=this;t.options.reorderable&&(t.wrapper.data("kendoReorderable")&&t.wrapper.data("kendoReorderable").destroy(),t.wrapper.kendoReorderable({draggable:t._draggableInstance,dragOverContainers:function(n,i){var r=bi(t.columns);return r[n].lockable!==!1&&ki(r,t.columns,n,i)>-1},inSameContainer:function(i){return n(i.source).parent()[0]===n(i.target).parent()[0]&&ki(bi(t.columns),t.columns,i.sourceIndex,i.targetIndex)>-1},change:function(n){var i=bi(t.columns),r=i[n.oldIndex],u=ki(i,t.columns,n.oldIndex,n.newIndex);t.trigger(oe,{newIndex:u,oldIndex:l(r,i),column:r});t.reorderColumn(u,r,"before"===n.position)}}))},_reorderHeader:function(n,t,i){for(var c,f,o,r=this,e=kt(n[0],r.columns),l=kt(t,r.columns),u=[],h=0;h<n.length;h++)n[h].columns&&(u=u.concat(n[h].columns));c=tt(r.lockedHeader,r.thead,"tr:eq("+e.row+")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)");f=s(n).length;o=s([t]).length;u.length?(f>0&&0===o?yu(n,t,u,r.columns,r.lockedHeader.find("thead"),r.thead,this._groups()):0===f&&o>0&&yu(n,t,u,r.columns,r.thead,r.lockedHeader.find("thead"),this._groups()),(t.columns||e.cell-l.cell>1||l.cell-e.cell>1)&&(t=bu(r.columns,t,n[0],i),t&&r._reorderHeader(u,t,i))):f!==o&&ke(c[e.cell],r.columns,f);pt(c,e.cell,l.cell,i,n.length)},_reorderContent:function(t,i,r){var c,y,e,g,f=this,nt=n(),rt=t[0],p=k(t),o=l(rt,u(f.columns)),a=l(i,u(f.columns)),w=l(rt,it(f.columns)),v=l(i,it(f.columns)),b=s(f.columns).length,ut=!!i.locked,h=f.footer||f.wrapper.find(".k-grid-footer"),d=c=v;for(i.hidden&&(ut?(v=f.lockedTable.find("colgroup"),d=f.lockedHeader.find("colgroup"),c=n(f.lockedFooter).find(">table>colgroup")):(v=f.tbody.prev(),d=f.thead.prev(),c=h.find(".k-grid-footer-wrap").find(">table>colgroup"))),f._hasFilterRow()&&pt(f.wrapper.find(".k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)"),o,a,r,t.length),pt(tt(f.lockedHeader,f.thead.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),w,d,r,p.length),f.options.scrollable&&pt(tt(f.lockedTable,f.tbody.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),w,v,r,p.length),h&&h.length&&(pt(tt(f.lockedFooter,h.find(".k-grid-footer-wrap"),">table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),w,c,r,p.length),pt(h.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),o,a,r,t.length)),y=f.tbody.children(":not(.k-grouping-row,.k-detail-row)"),f.lockedTable&&(b>a?b<=o&&ef(f.lockedTable.find(">tbody>tr.k-grouping-row"),f.table.find(">tbody>tr.k-grouping-row"),t.length):b>o&&ef(f.table.find(">tbody>tr.k-grouping-row"),f.lockedTable.find(">tbody>tr.k-grouping-row"),t.length),nt=f.lockedTable.find(">tbody>tr:not(.k-grouping-row,.k-detail-row)")),e=0,g=y.length;e<g;e+=1)pt(tt(nt[e],y[e],">td:not(.k-group-cell,.k-hierarchy-cell)"),o,a,r,t.length)},_autoFitLeafColumn:function(n){this.autoFitColumn(u(this.columns)[n])},autoFitColumn:function(t){var r,it,c,s,a,ut,ot,h,st,b,p,f,ct,k,ht,d,w,nt,lt,i=this,at=i.options,e=i.columns,yt=i.lockedHeader?g(i.lockedHeader.find(">table>thead")).filter(fi).length:0,tt="col:not(.k-group-col):not(.k-hierarchy-col)",vt="td:visible:not(.k-group-cell):not(.k-hierarchy-cell)";if(t="number"==typeof t?e[t]:v(t)?y(et(e),function(n){return n===t})[0]:y(et(e),function(n){return n.field===t})[0],t&&ft(t)){for(r=l(t,u(e)),s=t.locked,c=s?i.lockedHeader.children("table"):i.thead.parent(),it=c.find("[data-index='"+r+"']"),h=s?i.lockedTable:i.table,st=i.footer||n(),i.footer&&i.lockedContent&&(st=i.footer.children(s?".k-grid-footer-locked":".k-grid-footer-wrap")),b=st.find("table").first(),i.lockedHeader&&!s&&(r-=yt),p=0;p<e.length&&e[p]!==t;p++)e[p].hidden&&r--;if(at.scrollable?(a=c.find(tt).eq(r).add(h.children("colgroup").find(tt).eq(r)).add(b.find("colgroup").find(tt).eq(r)),s||(ut=h.parent(),ot=ut.scrollLeft())):a=h.children("colgroup").find(tt).eq(r),f=c.add(h).add(b),ct=rt(it),a.width(""),f.css("table-layout","fixed"),a.width("auto"),f.addClass("k-autofitting"),f.css("table-layout",""),k=Math.ceil(Math.max(rt(it),rt(h.find("tr:not(.k-grouping-row)").eq(0).children(vt).eq(r)),rt(b.find("tr").eq(0).children(vt).eq(r))))+1,a.width(k),t.width=k,at.scrollable){for(ht=c.find("col"),w=0,nt=0,lt=ht.length;nt<lt;nt+=1){if(d=ht[nt].style.width,!d||d.indexOf("%")!=-1){w=0;break}w+=parseInt(d,10)}w&&f.each(function(){this.style.width=w+"px"})}o.msie&&8==o.version&&(f.css("display","inline-table"),setTimeout(function(){f.css("display","table")},1));f.removeClass("k-autofitting");ot&&ut.scrollLeft(ot);i.trigger(su,{column:t,oldWidth:ct,newWidth:k});i._applyLockedContainersWidth();i._syncLockedContentHeight();i._syncLockedHeaderHeight()}},reorderColumn:function(n,i,r){var c,a,f=this,y=er(i,f.columns),v=y?y.columns:f.columns,o=l(i,v),e=v[n],h=!!e.locked,p=s(f.columns).length;o!==n&&(!i.locked&&h&&1==at(f.columns).length||i.locked&&!h&&1==p||(f._hideResizeHandle(),r===t&&(r=n<o),a=[i],f._reorderHeader(a,e,r),f.lockedHeader&&(hr(f.thead),hr(f.lockedHeader)),e.columns&&(e=u(e.columns),e=e[r?0:e.length-1]),i.columns&&(a=u(i.columns)),f._reorderContent(a,e,r),c=!!i.locked,c=c!=h,i.locked=h,v.splice(r?n:n+1,0,i),v.splice(o<n?o:o+1,1),f._templates(),f._updateColumnCellIndex(),f._updateTablesWidth(),f._applyLockedContainersWidth(),f._syncLockedHeaderHeight(),f._syncLockedContentHeight(),f._updateFirstColumnClass(),c&&(h?f.trigger(se,{column:i}):f.trigger(he,{column:i}))))},_updateColumnCellIndex:function(){var n,t=0;this.lockedHeader&&(n=this.lockedHeader.find("thead"),t=pu(n,s(this.columns)));pu(this.thead,at(this.columns),t)},lockColumn:function(n){var i,t=this.columns;n="number"==typeof n?t[n]:y(t,function(t){return t.field===n})[0];!n||n.locked||n.hidden||(i=s(t).length-1,this.reorderColumn(i,n,!1))},unlockColumn:function(n){var i,t=this.columns;n="number"==typeof n?t[n]:y(t,function(t){return t.field===n})[0];n&&n.locked&&!n.hidden&&(i=s(t).length,this.reorderColumn(i,n,!0))},cellIndex:function(t){var i=0;return this.lockedTable&&!n.contains(this.lockedTable[0],t[0])&&(i=u(s(this.columns)).length),n(t).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(t)+i},_modelForContainer:function(t){t=n(t);t.is("tr")||"popup"===this._editMode()||(t=t.closest("tr"));var r=t.attr(i.attr("uid"));return this.dataSource.getByUid(r)},_editable:function(){var u,t=this,f=t.selectable&&t.selectable.options.multiple,i=t.options.editable,e=function(){var i=st(),r=t._editContainer;!r||n.contains(r[0],i)||r[0]===i||n(i).closest(".k-animation-container").length||(t.editable.end()?t.closeCell():t._scrollVirtualWrapper())};i&&(this.wrapper.addClass("k-editable"),u=t._editMode(),"incell"===u?i.update!==!1&&t.wrapper.on(a+r,"tr:not(.k-grouping-row) > td",function(i){var r=n(this),u=t.lockedTable&&r.closest("table")[0]===t.lockedTable[0];r.hasClass("k-hierarchy-cell")||r.hasClass("k-detail-cell")||r.hasClass("k-group-cell")||r.hasClass("k-edit-cell")||r.has("a.k-grid-delete").length||r.has("button.k-grid-delete").length||r.closest("tbody")[0]!==t.tbody[0]&&!u||n(i.target).is(":input")||(t.editable?t.editable.end()?(f&&n(st()).blur(),t.closeCell(),t.editCell(r)):t._scrollVirtualWrapper():t.editCell(r))}).on("focusin"+r,function(){n.contains(this,st())||(clearTimeout(t.timer),t.timer=null)}).on("focusout"+r,function(){t.timer=setTimeout(e,1)}):i.update!==!1&&(t.wrapper.on(a+r,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(i){i.preventDefault();t.editRow(n(this).closest("tr"))}),t._isVirtualInlineEditable()&&t.wrapper.on("focusout"+r,"tr:not(.k-grouping-row) > td",function(){t.editable&&!t.editable.end()&&t._scrollVirtualWrapper()})),i.destroy!==!1?t.wrapper.on(a+r,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(i){i.preventDefault();i.stopPropagation();t.removeRow(n(this).closest("tr"))}):t.wrapper.on(a+r,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(n){n.stopPropagation();t._confirmation()||n.preventDefault()}))},editCell:function(t){var i,f,r,e;if(t=n(t),i=this,f=u(i.columns)[i.cellIndex(t)],r=i._modelForContainer(t),i.closeCell(),r&&vr(f,r)&&!f.command){if(i.trigger(tr,{model:r}))return;i._attachModelChange(r);i._editContainer=t;i._shouldClearEditableState&&i._clearEditableState();i.editable=t.addClass("k-edit-cell").kendoEditable({fields:{field:f.field,format:f.format,editor:f.editor,values:f.values},model:r,target:i,change:function(n){i.trigger(dr,{values:n.values,container:t,model:r})&&n.preventDefault()},skipFocus:!(!i._isVirtualIncellEditable()||!i._editableState)}).data("kendoEditable");e=t.parent().addClass("k-grid-edit-row");i.lockedContent&&si(e[0],i._relatedRow(e).addClass("k-grid-edit-row")[0]);i.trigger(nr,{container:t,model:r})}},_adjustLockedHorizontalScrollBar:function(){var n=this.table,t=n.parent(),r=n[0].offsetWidth>t[0].clientWidth?i.support.scrollbar():0;this.lockedContent.height(t.height()-r)},_syncLockedContentHeight:function(){this.lockedTable&&(this.touchScroller||this._adjustLockedHorizontalScrollBar(),this._adjustRowsHeight(this.table,this.lockedTable))},_syncLockedHeaderHeight:function(){var n,t;this.lockedHeader&&(n=this.lockedHeader.children("table"),t=this.thead.parent(),this._adjustRowsHeight(n,t),uo(n,t))},_syncLockedFooterHeight:function(){this.lockedFooter&&this.footer&&this.footer.length&&this._adjustRowsHeight(this.lockedFooter.children("table"),this.footer.find(".k-grid-footer-wrap > table"))},_destroyEditable:function(){var n=this,t=function(){if(n.editable){var t=n.editView?n.editView.element:n._editContainer;t&&(t.off(a+r,"a.k-grid-cancel",n._editCancelClickHandler),t.off(a+r,"a.k-grid-update",n._editUpdateClickHandler));n._detachModelChange();n.editable.destroy();n.editable=null;n._editContainer=null;n._destroyEditView()}};n.editable&&("popup"!==n._editMode()||n._isMobile?t():n._editContainer.data("kendoWindow").bind("deactivate",t).close());n._actionSheet&&(n._actionSheet.destroy(),n._actionSheet=null)},_destroyEditView:function(){this.editView&&(this.editView.purge(),this.editView=null,this.pane.navigate(""))},_attachModelChange:function(n){var t=this;t._modelChangeHandler=function(n){t._modelChange({field:n.field,model:this})};n.bind("change",t._modelChangeHandler)},_detachModelChange:function(){var n=this,i=n._editContainer,t=n._modelForContainer(i);t&&t.unbind(b,n._modelChangeHandler)},closeCell:function(n){var e,f,r,t=this,i=t._editContainer;i&&(r=t._modelForContainer(i),n&&t.trigger("cancel",{container:i,model:r})||(t.trigger(ne,{type:n?"cancel":"save",model:r,container:i}),i.removeClass("k-edit-cell"),e=u(t.columns)[t.cellIndex(i)],f=i.parent().removeClass("k-grid-edit-row"),t._destroyEditable(),t._displayCell(i,e,r),t._shouldClearEditableState&&t._clearEditableState(),t.trigger("itemChange",{item:f,data:r,ns:ot}),t.lockedContent&&si(f.css("height","")[0],t._relatedRow(f).css("height","")[0])))},_displayCell:function(n,t,r){var u=this,o={storage:{},count:0},h=f({},i.Template,u.options.templateSettings),s=i.template(u._cellTmpl(t,o),h);o.count>0&&(s=e(s,o.storage));n.empty().html(s(r));u.angular("compile",function(){return{elements:n,data:[{dataItem:r}]}})},removeRow:function(n){this._confirmation(n)&&this._removeRow(n)},_removeRow:function(t){var r,i=this,u=i._editMode();"incell"!==u&&i.cancelRow();t=n(t);i.lockedContent&&(t=t.add(i._relatedRow(t)));t=t.hide();r=i._modelForContainer(t);r&&!i.trigger(gr,{row:t,model:r})?(i.dataSource.remove(r),"inline"!==u&&"popup"!==u||i.dataSource.sync()):"incell"===u&&i._destroyEditable()},_editMode:function(){var t="incell",n=this.options.editable;return n!==!0&&(t="string"==typeof n?n:n.mode||t),t},editRow:function(t){var o,s,h,f=this;t instanceof af?o=t:(t=n(t),o=f._modelForContainer(t));s=f._editMode();f.cancelRow();o&&(t=f.tbody.children("["+i.attr("uid")+"="+o.uid+"]"),f._attachModelChange(o),"popup"===s?f._createPopupEditor(o):"inline"===s?f._createInlineEditor(t,o):"incell"===s&&n(t).children(c).each(function(){var t=n(this),i=u(f.columns)[f.cellIndex(t)];if(o=f._modelForContainer(t),o&&(!o.editable||o.editable(i.field))&&i.field&&!i.selectable)return f.editCell(t),!1}),h=f.editView?f.editView.element:f._editContainer,h&&(this._editCancelClickHandler||(this._editCancelClickHandler=e(this._editCancelClick,this)),h.on(a+r,"a.k-grid-cancel",this._editCancelClickHandler),this._editUpdateClickHandler||(this._editUpdateClickHandler=e(this._editUpdateClick,this)),h.on(a+r,"a.k-grid-update",this._editUpdateClickHandler)))},_editUpdateClick:function(n){n.preventDefault();n.stopPropagation();this.saveRow()},_editCancelClick:function(t){var r,i=this,u=i.options.navigatable,f=i.editable.options.model,e=i.editView?i.editView.element:i._editContainer;t.preventDefault();t.stopPropagation();i.trigger("cancel",{container:e,model:f})||(r=i.items().index(n(i.current()).parent()),i.cancelRow(),u&&(i._setCurrent(i.items().eq(r).children().filter(lt).first()),w(i.table,!0)))},_createPopupEditor:function(r){var s,h,l,d,g,rt,ut,a,y,nt,b,o=this,c="<div "+i.attr("uid")+'="'+r.uid+'" class="k-popup-edit-form'+(o._isMobile?" k-mobile-list":"")+'"><div class="k-edit-form-container">',et=[],tt=u(o.columns),ft=o.options.editable,k=ft.template,it=v(ft)?ft.window:{},ot=f({},i.Template,o.options.templateSettings);if(!o.trigger(tr,{model:r})){if(it=it||{},k)for(typeof k===p&&(k=window.unescape(k)),c+=i.template(k,ot)(r),l=0,d=tt.length;l<d;l++)s=tt[l],s.command&&(a=ar(s.command,"edit"),a&&(h=a));else for(l=0,d=tt.length;l<d;l++)s=tt[l],s.selectable||(s.command?s.command&&(a=ar(s.command,"edit"),a&&(h=a)):(c+='<div class="k-edit-label"><label for="'+s.field+'">'+(s.title||s.field||"")+"<\/label><\/div>",vr(s,r)?(et.push({field:s.field,format:s.format,editor:s.editor,values:s.values}),c+="<div "+i.attr("container-for")+'="'+s.field+'" class="k-edit-field"><\/div>'):(nt={storage:{},count:0},g=i.template(o._cellTmpl(s,nt),ot),nt.count>0&&(g=e(g,nt.storage)),c+='<div class="k-edit-field">'+g(r)+"<\/div>")));h&&v(h)&&(h.text&&v(h.text)&&(rt=h.text.update,ut=h.text.cancel),h.attr&&(y=h.attr));o._isMobile?(c+="<\/div><\/div>",o.editView=o.pane.append("<div data-"+i.ns+'role="view" data-'+i.ns+'use-native-scrolling="true" data-'+i.ns+'init-widgets="false" class="k-grid-edit-form"><div data-'+i.ns+'role="header" class="k-header">'+o._createButton({name:"update",text:rt,attr:y})+(it.title||"Edit")+o._createButton({name:"canceledit",text:ut,attr:y})+"<\/div>"+c+"<\/div>"),b=o._editContainer=o.editView.element.find(".k-popup-edit-form")):(c+='<div class="k-edit-buttons k-state-default">',c+=o._createButton({name:"update",text:rt,attr:y})+o._createButton({name:"canceledit",text:ut,attr:y}),c+="<\/div><\/div><\/div>",b=o._editContainer=n(c).appendTo(o.wrapper).eq(0).kendoWindow(f({modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1,close:function(i){if(i.userTriggered){if(i.sender.element.focus(),o.trigger("cancel",{container:b,model:r}))return i.preventDefault(),t;var u=o.items().index(n(o.current()).parent());o.cancelRow();o.options.navigatable&&(o._setCurrent(o.items().eq(u).children().filter(lt).first()),w(o.table,!0))}}},it)));o.editable=o._editContainer.kendoEditable({fields:et,model:r,clearContainer:!1,target:o}).data("kendoEditable");o._isMobile&&b.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){n(this).next().children("input").click()});o._openPopUpEditor();o.trigger(nr,{container:b,model:r})}},_openPopUpEditor:function(){this._isMobile?this.pane.navigate(this.editView,this._editAnimation):this._editContainer.data("kendoWindow").center().open()},_createInlineEditor:function(t,r){var e,s,o,f=this,h=[];f.trigger(tr,{model:r})||(f.lockedContent&&(t=t.add(f._relatedRow(t))),t.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){if(s=n(this),e=u(f.columns)[f.cellIndex(s)],!e.command&&vr(e,r))h.push({field:e.field,format:e.format,editor:e.editor,values:e.values}),s.attr(i.attr("container-for"),e.field),s.empty();else if(e.command&&(o=ar(e.command,"edit"))){s.empty();var c,l,t;v(o)&&(o.text&&v(o.text)&&(c=o.text.update,l=o.text.cancel),o.attr&&(t=o.attr));n(f._createButton({name:"update",text:c,attr:t})+f._createButton({name:"canceledit",text:l,attr:t})).appendTo(s)}}),f._editContainer=t,f._editContainer.addClass("k-grid-edit-row"),f._shouldClearEditableState&&f._clearEditableState(),f.editable=new i.ui.Editable(f._editContainer,{target:f,fields:h,model:r,skipFocus:!!(f._isVirtualInlineEditable()&&f._editableState&&f._editableState.field),clearContainer:!1}),t.length>1&&(si(t[0],t[1]),f._applyLockedContainersWidth()),f.trigger(nr,{container:t,model:r}))},cancelRow:function(n){var r,t=this,u=t._editContainer,f=t.virtualScrollable,e=f&&f._isScrolledToBottom();if(u){if(r=t._modelForContainer(u),n&&t.trigger("cancel",{container:u,model:r}))return;t._destroyEditable();t.dataSource.cancelChanges(r);t._isVirtualEditable()&&e&&t._restoreVirtualView();t._clearEditableState();t._displayRow("popup"!==t._editMode()?u:t.tbody.find("["+i.attr("uid")+"="+r.uid+"]"))}},saveRow:function(){var i,t=this,r=this._editContainer,f=this._modelForContainer(r),u=n.Deferred();return r&&this.editable?(i=t.editable&&t.editable.end(),!i||this.trigger(dr,{container:r,model:f})?(i||t._scrollVirtualWrapper(),u.reject().promise()):(t._clearEditableState(),this.dataSource.sync())):u.resolve().promise()},_displayRow:function(t){var r,f,o,s,h,i=this,e=i._modelForContainer(t),l=t.hasClass("k-state-selected"),c=t.hasClass("k-alt");e&&(i.lockedContent&&(r=n((c?i.lockedAltRowTemplate:i.lockedRowTemplate)(e)),i._relatedRow(t.last()).replaceWith(r)),i.angular("cleanup",function(){return{elements:t.get()}}),f=n((c?i.altRowTemplate:i.rowTemplate)(e)),t.is(":visible")||f.hide(),t.replaceWith(f),i.trigger("itemChange",{item:f,data:e,ns:ot}),r&&r.length&&i.trigger("itemChange",{item:r,data:e,ns:ot}),s=f,h=[{dataItem:e}],r&&r.length&&(s=f.add(r),h.push({dataItem:e})),i.angular("compile",function(){return{elements:s.get(),data:h}}),l&&(i.options.selectable||n.grep(u(i.columns),function(n){return n.selectable}).length)&&i.select(f.add(r)),r&&si(f[0],r[0]),o=f.next(),o.hasClass("k-detail-row")&&o.is(":visible")&&f.find(".k-hierarchy-cell .k-icon").removeClass("k-i-expand").addClass("k-i-collapse"))},_showMessage:function(t,r){var f,e,o,u=this;return u._isMobile?(f=i.template('<ul><li class="km-actionsheet-title">#:title#<\/li><li><a href="\\#" class="k-button k-grid-delete">#:confirmDelete#<\/a><\/li><\/ul>'),e=n(f(t)).appendTo(u.view.element),o=u._actionSheet=new i.mobile.ui.ActionSheet(e,{cancel:t.cancelDelete,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#<\/a><\/li>',close:function(){this.destroy()},command:function(t){var i=n(t.currentTarget).parent();i.hasClass("km-actionsheet-cancel")||u._removeRow(r)},popup:u._actionSheetPopupOptions}),o.open(r),!1):window.confirm(t.title)},_confirmation:function(n){var i=this,r=i.options.editable,t=r===!0||typeof r===p?i.options.messages.editable.confirmation:r.confirmation;return v(r)&&typeof r.mode===p&&typeof t!==p&&t!==!1&&(t=i.options.messages.editable.confirmation),t===!1||null==t||(typeof t===ii&&(t=t(i._modelForContainer(n))),i._showMessage({confirmDelete:r.confirmDelete||i.options.messages.editable.confirmDelete,cancelDelete:r.cancelDelete||i.options.messages.editable.cancelDelete,title:t===!0?i.options.messages.editable.confirmation:t},n))},cancelChanges:function(){var n=this;n.dataSource.cancelChanges();n._isVirtualEditable()&&n._virtualPageToTop(function(){n.virtualScrollable.scrollToTop()})},saveChanges:function(){var n=this,t=n.editable&&n.editable.end();!t&&n.editable||n.trigger(te)?t||n._scrollVirtualWrapper():n.dataSource.sync()},addRow:function(){var i,f,n=this,t=n.dataSource,e=n._editMode(),o=n.options.editable.createAt||"",r=t.pageSize(),u=t.view()||[],s=o.toLowerCase()===le,h=n._isVirtualEditable();n.editable&&n.editable.end()||!n.editable?("incell"!=e&&n.cancelRow(),i=t.indexOf(u[0]),s&&(i+=u.length,r&&!t.options.serverPaging&&r<=u.length&&(i-=1)),i<0&&(i=t.page()>t.totalPages()?(t.page()-1)*r:0),h?n._virtualAddRow():(f=t.insert(i,{}),n._editModel(f))):n._scrollVirtualWrapper()},_editModel:function(n){var f,e,r,u,t=this,s=t.options.editable.createAt||"",o=t._editMode();n&&(f=n.uid,e=t.lockedContent?t.lockedTable:t.table,r=e.find("tr["+i.attr("uid")+"="+f+"]"),u=r.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(t._firstEditableColumnIndex(r)),"inline"===o&&r.length?t.editRow(r):"popup"===o?t.editRow(n):u.length&&t.editCell(u),"bottom"==s.toLowerCase()&&t.lockedContent&&(t.lockedContent[0].scrollTop=t.content[0].scrollTop=t.table[0].offsetHeight))},_virtualAddRow:function(){var n=this,t=(n.options.editable.createAt||"").toLowerCase()===le;n._clearEditableState();t?n._virtualAddRowAtBottom():n._virtualAddRowAtTop()},_virtualAddRowAtTop:function(){var t,n=this,i=n.dataSource,r=n.virtualScrollable;1===i.page()?(t=i.insert(0,{}),n._editModel(t),r.scrollToTop()):n._virtualPageToTop(function(){t=i.insert(0,{});n._editModel(t);r.scrollToTop()})},_virtualAddRowAtBottom:function(){var t,n=this,i=n.dataSource,u=n.virtualScrollable,r=i.total();i.at(r-1)instanceof af?(t=i.insert(r,{}),n._virtualPageToBottom(function(){n._editModel(t);u.scrollToBottom()})):n._virtualPageToBottom(function(){t=i.insert(r,{});n._editModel(t);u.scrollToBottom()})},_virtualPageToTop:function(n){var t=this;t._virtualPage(0,t.dataSource.take(),function(){n()})},_virtualPageToBottom:function(n){var t=this,i=t.dataSource,r=i.take();t._virtualPage(i.total()-r,r,function(){n()})},_virtualPage:function(n,t,i){var r=this;r._isVirtualEditable()&&(r.virtualScrollable._preventScroll=!0,r.virtualScrollable._page(n,t,i))},_restoreVirtualView:function(){var i=this,r=i.dataSource,n=i.virtualScrollable,t=n.verticalScrollbar,e=n.wrapper,u=r.take(),f=nt.min(r.currentRangeStart(),r.total()-u),o=n.itemHeight,s=t.scrollTop()/o;i._virtualPage(f,u,function(){var i=n.itemHeight,r=s*i;n._isScrolledToBottom()?n.scrollToBottom():(n._preventScroll=t.scrollTop()!==r,t.scrollTop(r),e.scrollTop(t.scrollTop()-f*i))})},_firstEditableColumnIndex:function(n){for(var t,f=this,e=u(f.columns),r=f._modelForContainer(n),i=0,o=e.length;i<o;i++)if(t=e[i],r&&(!r.editable||r.editable(t.field))&&!t.command&&t.field&&t.hidden!==!0)return i;return-1},_toolbar:function(){var f,t=this,s=t.wrapper,u=t.options.toolbar,o=t.options.editable;u&&(f=t.wrapper.find(".k-grid-toolbar"),f.length||(yr(u)||(u=typeof u===p?u:t._toolbarTmpl(u).replace(yi,"\\#"),u=e(i.template(u),t)),f=n('<div class="k-header k-grid-toolbar" />').html(u({})).prependTo(s),t.angular("compile",function(){return{elements:f.get()}})),o&&o.create!==!1&&f.on(a+r,".k-grid-add",function(n){n.preventDefault();t.addRow()}).on(a+r,".k-grid-cancel-changes",function(n){n.preventDefault();t.cancelChanges()}).on(a+r,".k-grid-save-changes",function(n){n.preventDefault();t.saveChanges()}),f.on(a+r,".k-grid-excel",function(n){n.preventDefault();t.saveAsExcel()}),f.on(a+r,".k-grid-pdf",function(n){n.preventDefault();t.saveAsPDF()}))},_toolbarTmpl:function(n){var t,i,u=this,r="";if(ni(n))for(t=0,i=n.length;t<i;t++)r+=u._createButton(n[t]);return r},_createButton:function(n){var e,s=n.template||po,r=typeof n===p?n:n.name||n.text,h=d[r]?d[r].className:"k-grid-"+(r||"").replace(/\s/g,""),u={className:h,text:r,attr:"",iconClass:""},o=this.options.messages.commands;if(!(r||v(n)&&n.template))throw Error("Custom commands should have name specified");return v(n)?(n=f(!0,{},n),n.className&&l(u.className,n.className.split(" "))<0?n.className+=" "+u.className:n.className===t&&(n.className=u.className),"edit"===r&&v(n.text)&&(n=f(!0,{},n),n.text=n.text.edit),n.attr&&(v(n.attr)&&(n.attr=bt(n.attr)),typeof n.attr===p&&(e=n.attr.match(/class="(.+?)"/),e&&l(e[1],n.className.split(" "))<0&&(n.className+=" "+e[1]))),u=f(!0,u,d[r],{text:o[r]},n)):u=f(!0,u,d[r],{text:o[r]}),i.template(s)(u)},_hasFooters:function(){return!!this.footerTemplate||!!this.groupFooterTemplate||this.footer&&this.footer.length>0||this.wrapper.find(".k-grid-footer").length>0},_groupable:function(){var t=this;t._groupableClickHandler?t.table.add(t.lockedTable).off(a+r,t._groupableClickHandler):t._groupableClickHandler=function(i){var u=n(this),r=u.closest("tr"),f=t._groupRows[t.wrapper.find(".k-grouping-row").index(r)];u.hasClass("k-i-collapse")?t.trigger("groupCollapse",{group:f,element:r})||t.collapseGroup(r):t.trigger("groupExpand",{group:f,element:r})||t.expandGroup(r);i.preventDefault();i.stopPropagation()};t._isLocked()?t.lockedTable.on(a+r,".k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse",t._groupableClickHandler):t.table.on(a+r,".k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse",t._groupableClickHandler);t._attachGroupable()},_attachGroupable:function(){var t=this,r=t.wrapper,u=t.options.groupable,e=kr+"["+i.attr("field")+"]",o=t.content?".k-grid-header:first "+e:"table:first>.k-grid-header "+e;u&&u.enabled!==!1&&(r.has("div.k-grouping-header")[0]||n("<div>&nbsp;<\/div>").addClass("k-grouping-header").prependTo(r),t.groupable&&t.groupable.destroy(),t.groupable=new ot.Groupable(r,f({},u,{draggable:t._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:t.dataSource,draggableElements:o,filter:o,allowDrag:t.options.reorderable,change:function(n){t.trigger("group",{groups:n.groups})?n.preventDefault():(t._clearEditableState(),t.dataSource.options.endless&&(t.dataSource.options.endless=null,t._endlessPageSize=t.dataSource.options.pageSize,t.dataSource.pageSize(t.dataSource.options.pageSize)))}})))},_continuousItems:function(t,i){var r,o,h,c,f,l,e,u;if(this.lockedContent){for(r=this,o=r.table.add(r.lockedTable),h=n(t,o[0]),c=n(t,o[1]),f=i?s(r.columns).length:1,l=i?r.columns.length-f:1,e=[],u=0;u<h.length;u+=f)vf.apply(e,h.slice(u,u+f)),vf.apply(e,c.splice(0,l));return e}},_selectable:function(){var s,f,o,v,u=this,e=[],c=u._isLocked(),a=u.options.selectable,y=u.dataSource.options;if(a){if(u.selectable&&u.selectable.destroy(),u.options.persistSelection===!0){if(!y.schema||!y.schema.model||!y.schema.model.id)throw Error("Selection persistence requires a data source with a model that has e defined id");u._selectedIds={}}a=i.ui.Selectable.parseOptions(a);s=a.multiple;f=a.cell;u._hasDetails()&&(e[e.length]=".k-detail-row");(u.options.groupable||u._hasFooters())&&(e[e.length]=".k-grouping-row,.k-group-footer");e=e.join(",");""!==e&&(e=":not("+e+")");o=u.table;c&&(o=o.add(u.lockedTable));v=">"+(f?so:"tbody>tr"+e);u.selectable=new i.ui.Selectable(o,{filter:v,aria:!0,multiple:s,change:function(){u.options.persistSelection&&!f&&u._persistSelectedRows();u.trigger(b)},useAllItems:c&&s&&f,relatedTarget:function(t){var e,i,r,o;if(!f&&c){for(i=n(),r=0,o=t.length;r<o;r++)e=u._relatedRow(t[r]),l(e[0],t)<0&&(i=i.add(e));return i}},continuousItems:function(){return u._continuousItems(v,f)}});u.options.navigatable&&o.on("keydown"+r,function(i){var r=u.current(),e=i.target;if(i.keyCode===h.SPACEBAR&&!i.shiftKey&&n.inArray(e,o)>-1&&!r.is(".k-edit-cell,.k-header")&&r.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){if(i.preventDefault(),i.stopPropagation(),r=f?r:r.parent(),c&&!f&&(r=r.add(u._relatedRow(r))),s)if(i.ctrlKey){if(r.hasClass(ti))return r.removeClass(ti),u.trigger(b),t}else u.selectable.clear();else u.selectable.clear();f||(u.selectable._lastActive=r);u.selectable.value(r)}else!f&&(i.shiftKey&&i.keyCode==h.LEFT||i.shiftKey&&i.keyCode==h.RIGHT||i.shiftKey&&i.keyCode==h.UP||i.shiftKey&&i.keyCode==h.DOWN||i.keyCode===h.SPACEBAR&&i.shiftKey)&&(i.preventDefault(),i.stopPropagation(),r=r.parent(),c&&(r=r.add(u._relatedRow(r))),s?(u.selectable._lastActive||(u.selectable._lastActive=r),u.selectable.selectRange(u.selectable._firstSelectee(),r)):(u.selectable.clear(),u.selectable.value(r)))})}},_clipboard:function(){var n,t=this.options,i=t.selectable;i&&t.allowCopy&&(n=this,t.navigatable||n.table.add(n.lockedTable).attr("tabindex",0).on("mousedown"+r+" keydown"+r,".k-detail-cell",function(n){n.target!==n.currentTarget&&n.stopImmediatePropagation()}).on("mousedown"+r,ct+">"+lt,e(hf,n)),n.copyHandler=e(n.copySelection,n),n.updateClipBoardState=function(){n.areaClipBoard&&n.areaClipBoard.val(n.getTSV()).focus().select()},n.bind("change",n.updateClipBoardState),n.wrapper.on("keydown",n.copyHandler),n.clearAreaHandler=e(n.clearArea,n),n.wrapper.on("keyup",n.clearAreaHandler))},copySelection:function(t){t instanceof jQuery.Event&&!t.ctrlKey&&!t.metaKey||n(t.target).is("input:visible,textarea:visible")||window.getSelection&&""+window.getSelection()||document.selection&&document.selection.createRange().text||(this.areaClipBoard||(this.areaClipBoard=n("<textarea />").css({position:"fixed",top:"50%",left:"50%",opacity:0,width:0,height:0}).appendTo(this.wrapper)),this.areaClipBoard.val(this.getTSV()).focus().select())},getTSV:function(){var o,t,f,h,u,e,i=this,r=i.select(),l="\t",c=i.options.allowCopy,a=!0;return n.isPlainObject(c)&&c.delimeter&&(l=c.delimeter),o="",r.length&&(r.eq(0).is("tr")&&(r=r.find("td:not(.k-group-cell)")),a&&r.filter(":visible"),t=[],f=this.columns.length,h=i._isLocked()&&s(i.columns).length,u=!0,n.each(r,function(r,e){var c,s,o,l;e=n(e);c=e.closest("tr");s=c.index();o=e.index();a&&(o-=e.prevAll(":hidden").length);h&&u&&(u=n.contains(i.lockedTable[0],e[0]));i._groups()&&u&&(o-=i._groups());o=u?o:o+h;f>o&&(f=o);l=e.text();t[s]||(t[s]=[]);t[s][o]=l}),e=t.length,t=n.each(t,function(n,i){i&&(t[n]=i.slice(f),e>n&&(e=n))}),n.each(t.slice(e),function(n,t){o+=t?t.join(l)+"\r\n":"\r\n"})),o},clearArea:function(t){var i;this.areaClipBoard&&t&&t.target===this.areaClipBoard[0]&&(i=this.options.navigatable?n(this.current()).closest("table"):this.table,w(i,!0));this.areaClipBoard&&(this.areaClipBoard.remove(),this.areaClipBoard=null)},_minScreenSupport:function(){var t=this.hideMinScreenCols();t&&(this.minScreenResizeHandler=e(this.hideMinScreenCols,this),n(window).on("resize",this.minScreenResizeHandler))},hideMinScreenCols:function(){var n=this.columns,t=window.innerWidth>0?window.innerWidth:screen.width;return this._iterateMinScreenCols(n,t)},_iterateMinScreenCols:function(n,i){for(var r,u,f=!1,e=0;e<n.length;e++)r=n[e],u=r.minScreenWidth,u!==t&&null!==u&&(f=!0,u>i?this.hideColumn(r):this.showColumn(r)),!r.hidden&&r.columns&&(f=this._iterateMinScreenCols(r.columns,i)||f);return f},_relatedRow:function(t){var i,r,u=this.lockedTable;return t=n(t),u?(i=t.closest(this.table.add(this.lockedTable)),r=i.find(">tbody>tr").index(t),i=i[0]===this.table[0]?u:this.table,i.find(">tbody>tr").eq(r)):t},clearSelection:function(){var i=this;return i.selectable&&i.selectable.clear(),n.grep(u(i.columns),function(n){return n.selectable}).length?(i._deselectCheckRows(i.select()),t):(i.options.persistSelection&&i._persistSelectedRows(),i.trigger(b),t)},select:function(i){var r=this,u=r.selectable;return i=r.table.add(r.lockedTable).find(i),i.length?(u&&!u.options.multiple&&(u.clear(),i=i.first()),r._isLocked()&&(i=i.add(i.map(function(){return r._relatedRow(this)}))),u?u.value(i):(i.each(function(){n(this).addClass(ti).find(wt).prop("checked",!0).attr("aria-label","Deselect row").attr("aria-checked",!0)}),r.select().length===r.items().length&&r._toggleHeaderCheckState(!0),r.options.persistSelection&&r._persistSelectedRows(),r.trigger(b)),t):u?u.value():r.items().filter("."+ti)},_toggleHeaderCheckState:function(n){var t=this;n?t.thead.add(t.lockedHeader).find("tr "+wt).prop("checked",!0).attr("aria-checked",!0).attr("aria-label","Deselect all rows"):t.thead.add(t.lockedHeader).find("tr "+wt).prop("checked",!1).attr("aria-checked",!1).attr("aria-label","Select all rows")},_deselectCheckRows:function(t){var i=this;t=i.table.add(i.lockedTable).find(t);i._isLocked()&&(t=t.add(t.map(function(){return i._relatedRow(this)})));t.each(function(){n(this).removeClass(ti).find(wt).attr("aria-checked",!1).prop("checked",!1).attr("aria-label","Select row")});i._toggleHeaderCheckState(!1);i.options.persistSelection&&i._persistSelectedRows();i.trigger(b)},_persistSelectedRows:function(){var t,i,r,n=this,u=n.items(),o=n.dataSource.options,f=o.schema.model.id,e={};for(n.select().each(function(){i=n.dataItem(this);e[i[f]]=!0}),r=0;r<u.length;r++)i=n.dataItem(u[r]),t=i[f],e[t]?n._selectedIds[t]=!0:delete n._selectedIds[t]},selectedKeyNames:function(){var t,i=this,n=[];for(t in i._selectedIds)n.push(t);return n.sort(),n},_updateCurrentAttr:function(t,i){var r=n(t).data("headerId");n(t).removeClass(li).closest("table").removeAttr("aria-activedescendant");r?(r=r.replace(this._cellId,""),n(t).attr("id",r)):n(t).removeAttr("id");i.data("headerId",i.attr("id")).attr("id",this._cellId).addClass(li).closest("table").attr("aria-activedescendant",this._cellId);this._current=i},_scrollCurrent:function(){var t,r,f,e,i,o,u=this._current,s=this.options.scrollable;u&&s&&(t=u.parent(),r=t.closest("table").parent(),f=r.is(".k-grid-content-locked,.k-grid-header-locked"),e=r.is(".k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap"),i=n(this.content).find(">.k-virtual-scrollable-wrap").addBack().last()[0],e&&(s.virtual?(o=Math.max(l(t[0],this._items(t.parent())),0),this._rowVirtualIndex=this.virtualScrollable.itemIndex(o),this.virtualScrollable.scrollIntoView(t)):this._scrollTo(this._relatedRow(t)[0],i)),this.lockedContent&&(this.lockedContent[0].scrollTop=i.scrollTop),f||this._scrollTo(u[0],i))},current:function(n){return this._setCurrent(n,!0)},_setCurrent:function(t,i){var r=this._current;return t=n(t),t.length&&(r&&r[0]===t[0]||(this._updateCurrentAttr(r,t),this._scrollCurrent(),i||this.trigger(ce,{element:t}))),t&&t.length&&(this._lastCellIndex=t.parent().children(c).index(t)),this._current},_removeCurrent:function(){this._current&&(this._current.removeClass(li),this._current=null)},_scrollTo:function(t,r){var h,v=t.tagName.toLowerCase(),u="td"===v||"th"===v,e=t[u?"offsetLeft":"offsetTop"],y=t[u?"offsetWidth":"offsetHeight"],f=r[u?"scrollLeft":"scrollTop"],c=r[u?"clientWidth":"clientHeight"],p=e+y,s=0,l=0,a=0;ut&&u&&(h=n(t).closest("table")[0],o.msie?l=h.offsetLeft:o.mozilla&&(a=h.offsetLeft-i.support.scrollbar()));f=Math.abs(f+l-a);s=f>e?e:p>f+c?y<=c?p-c:e:f;s=Math.abs(s+l)+a;r[u?"scrollLeft":"scrollTop"]=s},_navigatable:function(){var f,o,u,t=this;t.options.navigatable&&(f=t.table.add(t.lockedTable),o=t.thead.parent().add(n(">table",t.lockedHeader)),u=f,t.options.scrollable&&(u=u.add(o),o.attr(ai,-1)),this._navigatableTables=u,u.off("mousedown"+r+" focus"+r+" focusout"+r+" keydown"+r),o.on("keydown"+r,e(t._openHeaderMenu,t)).find("a.k-link").attr("tabIndex",-1),f.attr(ai,nt.max(f.attr(ai)||0,0)).on("mousedown"+r+" keydown"+r,".k-detail-cell",function(n){n.target!==n.currentTarget&&n.stopImmediatePropagation()}),u.on(i.support.touch?"touchstart"+r:"mousedown"+r,ct+">"+lt,e(hf,t)).on("focus"+r,e(t._tableFocus,t)).on("focusout"+r,e(t._tableBlur,t)).on("keydown"+r,e(t._tableKeyDown,t)))},_openHeaderMenu:function(n){n.altKey&&n.keyCode==h.DOWN&&(this.current().find(".k-grid-filter, .k-header-column-menu").click(),n.stopImmediatePropagation())},_setTabIndex:function(n){this._navigatableTables.attr(ai,-1);n.attr(ai,0)},_tableFocus:function(t){var r,u;i.support.touch||(r=this.current(),u=n(t.currentTarget),r&&r.is(":visible")?r.addClass(li):this._setCurrent(u.find(wf)),this._setTabIndex(u))},_tableBlur:function(){var n=this.current();n&&n.removeClass(li)},_tableKeyDown:function(i){var r,u=this.current(),o=this.virtualScrollable&&this.virtualScrollable.fetching(),e=n(i.target),f=!i.isDefaultPrevented()&&!e.is(":button,a,:input,a>.k-icon");return o?(i.preventDefault(),t):(u=u?u:n(this.lockedTable).add(this.table).find(wf),u.length&&(r=!1,f&&i.keyCode==h.UP&&(r=this._moveUp(u,i.shiftKey)),f&&i.keyCode==h.DOWN&&(r=this._moveDown(u,i.shiftKey)),f&&i.keyCode==(ut?h.LEFT:h.RIGHT)&&(r=this._moveRight(u,i.altKey,i.shiftKey,i.ctrlKey,i.currentTarget)),f&&i.keyCode==(ut?h.RIGHT:h.LEFT)&&(r=this._moveLeft(u,i.altKey,i.shiftKey,i.ctrlKey,i.currentTarget)),f&&i.keyCode==h.PAGEDOWN&&(r=this._handlePageDown()),f&&i.keyCode==h.PAGEUP&&(r=this._handlePageUp()),f&&i.keyCode==h.HOME&&(r=this._handleHome(u,i.ctrlKey)),f&&i.keyCode==h.END&&(r=this._handleEnd(u,i.ctrlKey)),i.keyCode!=h.ENTER&&i.keyCode!=h.F2||(r=this._handleEnterKey(u,i.currentTarget,e)),i.keyCode==h.ESC&&(r=this._handleEscKey(u,i.currentTarget)),i.keyCode==h.TAB&&(r=this._handleTabKey(u,i.currentTarget,i.shiftKey)),r&&(i.preventDefault(),i.stopPropagation())),t)},_moveLeft:function(t,i,r,u,f){var e,h,s=t.parent(),o=s.parent();return i?this.collapseRow(s):u&&t.is(".k-header")&&this.options.reorderable?this._moveColumn(t,!0):(h=o.find(ct).index(s),e=this._prevHorizontalCell(o,t,h),e[0]||(r?this.lockedTable?(e=this._relatedRow(s),n.contains(this.lockedTable[0],s[0])&&(e=e.prevAll(yt+":first")),e=e.children(c+":last")):e=this._tabNext(t,f,!0):(o=this._horizontalContainer(o),e=this._prevHorizontalCell(o,t,h),e[0]!==t[0]&&w(o.parent(),!0))),this._setCurrent(e)),!0},_moveRight:function(t,i,r,u,f){var e,h,s=t.parent(),o=s.parent();return i?this.expandRow(s):u&&t.is(".k-header")&&this.options.reorderable?this._moveColumn(t,!1):(h=o.find(ct).index(s),e=this._nextHorizontalCell(o,t,h),e[0]||(r?this.lockedTable?(e=this._relatedRow(s),n.contains(this.table[0],s[0])&&(e=e.nextAll(yt+":first")),e=e.children(c+":first")):e=this._tabNext(t,f,!1):(o=this._horizontalContainer(o,!0),e=this._nextHorizontalCell(o,t,h),e[0]!==t[0]&&w(o.parent(),!0))),this._setCurrent(e)),!0},_moveUp:function(n,t){var i,u,r=n.parent().parent();return t?(i=n.parent(),i=i.prevAll(yt+":first"),i=n.parent().is(yt)?i.children().eq(n.index()):i.children(c+":last")):(i=this._prevVerticalCell(r,n),i[0]||(this._lastCellIndex=0,r=this._verticalContainer(r,!0),i=this._prevVerticalCell(r,n),i[0]&&w(r.parent(),!0))),u=this._lastCellIndex||0,this._setCurrent(i),this._lastCellIndex=u,!0},_moveDown:function(n,t){var i,u,r=n.parent().parent();return t?(i=n.parent(),i=i.nextAll(yt+":first"),i=n.parent().is(yt)?i.children().eq(n.index()):i.children(c+":first")):(i=this._nextVerticalCell(r,n),i[0]||(this._lastCellIndex=0,r=this._verticalContainer(r),i=this._nextVerticalCell(r,n),i[0]&&w(r.parent(),!0))),u=this._lastCellIndex||0,this._setCurrent(i),this._lastCellIndex=u,!0},_moveColumn:function(t,i){var e=this.wrapper.data().kendoReorderable.element.find(this._draggableInstance.options.filter+":visible"),u=k(bi(this.columns)),r=e.index(n(t)),o=i?-1:1,s=u[r],f=ki(u,this.columns,r,r+o);f>=0&&this.reorderColumn(f,s,i)},_handleHome:function(n,t){var i,r=n.parent(),u=r.parent(),e=this.lockedTable&&this.lockedTable.children("tbody")[0]===u[0],f=u[0]===this.tbody[0];if(t?i=this.lockedTable?this.lockedTable.find(pf+">"+lt+":first"):this.table.find(pf+">"+lt+":first"):(f||e)&&(f&&this.lockedTable&&(r=this._relatedRow(r)),i=r.children(c+":first")),i&&i.length)return this._setCurrent(i),!0},_handleEnd:function(n,t){var i,r=n.parent(),u=r.parent(),e=this.lockedTable&&this.lockedTable.children("tbody")[0]===u[0],f=u[0]===this.tbody[0];if(t?i=this.table.find(ho+">"+lt+":last"):(f||e)&&(!f&&this.lockedTable&&(r=this._relatedRow(r)),i=r.children(c+":last")),i&&i.length)return this._setCurrent(i),!0},_handlePageDown:function(){return!!this.options.pageable&&(this.dataSource.page(this.dataSource.page()+1),!0)},_handlePageUp:function(){return!!this.options.pageable&&(this.dataSource.page(this.dataSource.page()-1),!0)},_handleTabKey:function(t,i,r){var u,f=this.options.editable&&"incell"==this._editMode();return!(!f||t.is("th"))&&(u=n(st()).closest(".k-edit-cell"),u[0]&&u[0]!==t[0]&&(t=u),u=this._tabNext(t,i,r),!!u.length&&(this._handleEditing(t,u,u.closest("table")),!0))},_handleEscKey:function(t,i){var r,u=st(),f="incell"==this._editMode();return fo(t)?(f?this.closeCell(!0):(r=n(t).parent().index(),u&&u.blur(),this.cancelRow(!0),r>=0&&this._setCurrent(this.items().eq(r).children(lt).first())),o.msie&&o.version<9&&document.body.focus(),w(i,!0),!0):!!t.has(u).length&&(w(i,!0),!0)},_toggleCurrent:function(n,t){var i=n.parent();return i.is(".k-grouping-row")?(i.find(".k-icon:first").click(),!0):!(t||!i.is(".k-master-row"))&&(i.find(".k-icon:first").click(),!0)},_handleEnterKey:function(t,i,r){var f,e,o=this.options.editable&&this.options.editable.update!==!1,u=r.closest("[role=gridcell]");return r.is("table")||n.contains(t[0],r[0])||(t=u),t.is("th")?(f=t.find(".k-link"),f.length?f.click():t.find(wt).focus(),!0):!!this._toggleCurrent(t,o)||(e=t.find(":kendoFocusable:first"),e[0]&&!t.hasClass("k-edit-cell")&&t.hasClass("k-state-focused")?(e.focus(),!0):!(!o||r.is(":button,.k-button,textarea"))&&(u[0]||(u=t),this._handleEditing(u,!1,i),!0))},_nextHorizontalCell:function(n,t,i){var r,f,u,e=t.nextAll(c);return e.length||(r=n.find(ct),f=r.index(t.parent()),f!=-1)?e.first():t.hasClass("k-header")?(u=[],di([s(this.columns)[0]],oi(r.eq(0).children(":visible").first()),u,0,0),u[i]?u[i][0]:t):t.parent().hasClass("k-filter-row")?r.last().children(c).first():r.eq(i).children(c).first()},_prevHorizontalCell:function(n,t,i){var r,e,u,f,o=t.prevAll(c);return o.length||(r=n.find(ct),e=r.index(t.parent()),e!=-1)?o.first():t.hasClass("k-header")?(u=[],f=s(this.columns),di([f[f.length-1]],oi(r.eq(0).children().last()),u,0,0),u[i]?u[i][0]:t):t.parent().hasClass("k-filter-row")?r.last().children(c).last():r.eq(i).children(c).last()},_currentDataIndex:function(n,i){var r,u=i.attr("data-index");return u?(r=s(this.columns).length,r&&!n.closest("div").hasClass("k-grid-content-locked")[0]?u-r:u):t},_prevVerticalCell:function(t,i){var u,r=i.parent(),o=t.children(ct),e=o.index(r),f=this._currentDataIndex(t,i);if(f||i.hasClass("k-header"))return u=gu(i),u.eq(u.length-2);if(f=Math.max(r.children(c).index(i),this._lastCellIndex||0),r.hasClass("k-filter-row"))return g(t).filter(fi).eq(f);if(e==-1){if(r=t.find("tr.k-filter-row:visible"),!r[0])return g(t).filter(fi).eq(f)}else r=0===e?n():o.eq(e-1);return u=r.children(c),u.eq(u.length>f?f:0)},_nextVerticalCell:function(n,i){var e,o,s,h,f,a,u=i.parent(),v=n.children(ct),l=v.index(u),r=this._currentDataIndex(n,i);if(l!=-1&&r===t&&i.hasClass("k-header"))return oi(i).eq(1);if(r=r?parseInt(r,10):u.children(c).index(i),r=Math.max(r,this._lastCellIndex||0),u=v.eq(l==-1?0:l+i[0].rowSpan),o=r,this._currentDataIndex(n,i)!==t)for(s=u.children(":not(.k-group-cell):not(.k-hierarchy-cell)"),h=s.filter(":hidden"),f=0,a=h.length;f<a;f++)s.index(h[f])<r&&o--;return r=o,e=u.children(c),e.eq(e.length>r?r:0)},_verticalContainer:function(n,t){var r=n.parent(),u=this._navigatableTables.length,f=Math.floor(u/2),i=l(r[0],this._navigatableTables);return t&&(f*=-1),i+=f,(i>=0||i<u)&&(r=this._navigatableTables.eq(i)),r.find(t?"thead":"tbody")},_horizontalContainer:function(n,t){var r,i,u=this._navigatableTables.length;return u<=2?n:(r=n.parent(),i=l(r[0],this._navigatableTables),i+=t?1:-1,!t||2!=i&&i!=u?!t&&(1==i||i<0)?n:this._navigatableTables.eq(i).find("thead, tbody"):n)},_tabNext:function(n,t,i){var u=!0,r=i?n.prevAll(c+":first"):n.nextAll(":visible:first");return r.length||(r=n.parent(),this.lockedTable&&(u=i&&t==this.lockedTable[0]||!i&&t==this.table[0],r=this._relatedRow(r)),u&&(r=r[i?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first")),r=r.children(c+(i?":last":":first"))),r},_handleEditing:function(i,r,u){var l,a,f=this,e=n(st()),s=f._editMode(),v=o.msie,y=v&&o.version<9,h=f._editContainer,p=f.options.editable&&f.options.editable.update!==!1;if(u=n(u),a="incell"==s?i.hasClass("k-edit-cell"):i.parent().hasClass("k-grid-edit-row"),f.editable){if(n.contains(h[0],e[0])&&(o.opera||y?e.blur().change().triggerHandler("blur"):(e.blur(),v&&e.blur())),!f.editable)return w(u),t;if(!f.editable.end())return f._setCurrent("incell"==s?h:h.children().filter(c).first()),l=h.find(":kendoFocusable:first")[0],l&&l.focus(),t;"incell"==s?f.closeCell():(f.saveRow(),a=!0)}r&&f._setCurrent(r);y&&document.body.focus();w(u,!0);p&&(!a&&!r||r)&&("incell"==s?f.editCell(f.current()):f.editRow(f.current().parent()))},_wrapper:function(){var n=this,r=n.table,i=n.options.height,t=n.element;t.is("div")||(t=t.wrap("<div/>").parent());n.wrapper=t.addClass("k-grid k-widget k-display-block");i&&(n.wrapper.css(hu,i),r.css(hu,"auto"));n._initMobile()},_initMobile:function(){var u,r=this.options,t=this;this._isMobile=r.mobile===!0&&i.support.mobileOS||"phone"===r.mobile||"tablet"===r.mobile;this._isMobile&&(u=this.wrapper.addClass("k-grid-mobile").wrap("<div data-"+i.ns+'stretch="true" data-'+i.ns+'role="view" data-'+i.ns+'init-widgets="false"><\/div>').parent(),this.pane=i.mobile.ui.Pane.wrap(u),this.view=this.pane.view(),this._actionSheetPopupOptions=n(document.documentElement).hasClass("km-root")?{modal:!1}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"},r.height&&this.pane.element.parent().css(hu,r.height),this._editAnimation="slide",this.view.bind("show",function(){t._isLocked()&&(t._updateTablesWidth(),t._applyLockedContainersWidth(),t._syncLockedContentHeight(),t._syncLockedHeaderHeight(),t._syncLockedFooterHeight())}))},_tbody:function(){var t,i=this,r=i.table;t=r.find(">tbody");t.length||(t=n("<tbody/>").appendTo(r));i.tbody=t.attr("role","rowgroup")},_scrollable:function(){var f,o,s,h,c,u,t=this,v=t.options,e=v.scrollable,l=e!==!0&&e.virtual&&!t.virtualScrollable,a=!i.support.kineticScrollNeeded||l?i.support.scrollbar():0;e&&(f=t.wrapper.children(".k-grid-header"),f[0]||(f=n('<div class="k-grid-header" />').insertBefore(t.table)),f.css(ut?"padding-left":"padding-right",e.virtual?a+1:a),o=n('<table role="grid" />'),pi&&o.attr("cellspacing",0),o.width(t.table[0].style.width),o.append(t.thead),f.empty().append(n('<div class="k-grid-header-wrap k-auto-scrollable" />').append(o)),t.content=t.table.parent(),t.content.is(".k-virtual-scrollable-wrap, .km-scroll-container")&&(t.content=t.content.parent()),t.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(t.content=t.table.wrap('<div class="k-grid-content k-auto-scrollable" />').parent()),l&&t._createVirtualScrollable(),t.scrollables=f.children(".k-grid-header-wrap").add(t.content),s=t.wrapper.find(".k-grid-footer"),s.length&&(t.scrollables=t.scrollables.add(s.children(".k-grid-footer-wrap"))),e.virtual?t.content.find(">.k-virtual-scrollable-wrap").unbind("scroll"+r).bind("scroll"+r,function(){t.scrollables.scrollLeft(this.scrollLeft);t.lockedContent&&(t.lockedContent[0].scrollTop=this.scrollTop)}):(h=e.endless,c=t.dataSource.options.pageSize,h&&(t._endlessPageSize=c),t.content.unbind("scroll"+r).bind("scroll"+r,function(n){t.scrollables.not(n.currentTarget).scrollLeft(this.scrollLeft);t.lockedContent&&n.currentTarget==t.content[0]&&(t.lockedContent[0].scrollTop=this.scrollTop);h&&this.scrollTop+this.clientHeight-this.scrollHeight>=-10&&!t._endlessFetchInProgress&&t._endlessPageSize<t.dataSource.total()&&(t._skipRerenderItemsCount=t._endlessPageSize,t._endlessPageSize=t._endlessPageSize+c,t.dataSource.options.endless=!0,t._endlessFetchInProgress=!0,t.dataSource.pageSize(t._endlessPageSize))}),u=t.content.data("kendoTouchScroller"),u&&u.destroy(),u=i.touchScroller(t.content),u&&u.movable&&(t.touchScroller=u,u.movable.bind("change",function(n){t.scrollables.scrollLeft(-n.sender.x);t.lockedContent&&t.lockedContent.scrollTop(-n.sender.y)}),t.one(ru,function(n){n.sender.wrapper.addClass("k-grid-backface")}))))},_createVirtualScrollable:function(){var n=this;n.virtualScrollable&&n.virtualScrollable.destroy();n.virtualScrollable=new pe(n.content,{dataSource:n.dataSource,itemHeight:function(){return n._averageRowHeight()},page:function(){n._restoreEditableState()},scroll:function(){n._focusEditable()}});n.virtualScrollable.bind(eu,e(n._onVirtualPaging,n))},_onVirtualPaging:function(){var n=this;n._cacheEditableState();n._isVirtualIncellEditable()&&(n._shouldClearEditableState=!1,n.closeCell(),n._shouldClearEditableState=!0)},_isVirtualEditable:function(){return this._isVirtualIncellEditable()||this._isVirtualInlineEditable()||this._isVirtualPopupEditable()},_isVirtualInlineEditable:function(){return this.virtualScrollable&&this._editMode()===lo},_isVirtualIncellEditable:function(){return this.virtualScrollable&&this._editMode()===ve},_isVirtualPopupEditable:function(){return this.virtualScrollable&&"popup"===this._editMode()},_scrollVirtualWrapper:function(){var t=this,n=t.virtualScrollable;(t._isVirtualInlineEditable()||t._isVirtualIncellEditable())&&(n._isScrolledToBottom()?n._scrollWrapperToBottom():n._isScrolledToTop()&&n._scrollWrapperToTop())},_restoreEditableState:function(){var u,r,t=this,f=t._editableState||{},i=f.model,e=t.dataSource,o=t._isVirtualInlineEditable(),s=t._isVirtualIncellEditable();(o||s)&&i&&e._getByUid(i.uid,e.view())&&(o?(t._shouldClearEditableState=!1,t.editRow(i),t._focusEditable()):s&&(u=t.tbody.children(ur(ao,i.uid)),r=n(u).children(ur(ae,f.field)),r[0]&&(t._shouldClearEditableState=!1,t.editCell(r),t._focusEditable())));t._shouldClearEditableState=!0},_focusEditable:function(){var n=this,i=(n._editableState||{}).field,t=n._editContainer;t&&!pr(t[0],st())&&n._canFocusEditable()&&(n._isVirtualInlineEditable()?t.find(ur(cu,i)).find(fe).eq(0).focus():n._isVirtualIncellEditable()&&t.find(fe).eq(0).focus())},_canFocusEditable:function(){var n=this;return(n._isVirtualIncellEditable()||n._isVirtualInlineEditable())&&n.virtualScrollable._isElementVisible(n._editContainer)},_cacheEditableState:function(){var t,u,r=this,f=r._editContainer,e=f?r._modelForContainer(f):null,o=r._isVirtualInlineEditable(),s=r._isVirtualIncellEditable();(o||s)&&e&&(r._clearEditableState(),t=n(st()),f&&t[0]&&pr(f[0],t[0])&&(t.change(),u=i.widgetInstance(t,i.ui),u&&yr(u.value)&&t.is(co)&&(u.value(t.val()),u.trigger(b))),o?r._editableState={model:e,field:t.closest("["+i.attr(cu)+"]").attr(i.attr(cu))}:s&&(r._editableState={model:e,field:f.attr(i.attr(ae))}))},_clearEditableState:function(){var n=this;n.virtualScrollable&&(n._editableState=null)},_destroyVirtualScrollable:function(){var n=this;n._clearEditableState();n.virtualScrollable&&n.virtualScrollable.element&&n.virtualScrollable.destroy();n.virtualScrollable=null},_renderNoRecordsContent:function(){var i,t=this;t.options.noRecords&&(i=t.table.parent().children("."+ee),i.length&&(t.angular("cleanup",function(){return{elements:i.get()}}),i.remove()),t.dataSource&&t.dataSource.view().length||(i=n(t.noRecordsTemplate({})).insertAfter(t.table),t.angular("compile",function(){return{elements:i.get(),data:[{}]}})))},_setContentWidth:function(t){var r,i=this,f="k-grid-content-expander",o='<div class="'+f+'"><\/div>',u=i.resizable;i.options.scrollable&&i.wrapper.is(":visible")&&(r=i.table.parent().children("."+f),i._setContentWidthHandler=e(i._setContentWidth,i),i.dataSource&&i.dataSource.view().length?r[0]&&(r.remove(),u&&u.unbind("resize",i._setContentWidthHandler)):(r[0]||(r=n(o).appendTo(i.table.parent()),u&&u.bind("resize",i._setContentWidthHandler)),i.thead&&(r.width(i.thead.width()),isNaN(parseFloat(t,10))||i.content.scrollLeft(t))),i._applyLockedContainersWidth(),i.lockedHeader&&0===i.table[0].clientWidth&&(i.table[0].style.width="1px"))},_applyLockedContainersWidth:function(){if(this.options.scrollable&&this.lockedHeader){var r,u=this.thead.parent(),f=u.parent(),t=this.wrapper[0].clientWidth,e=this._groups(),o=i.support.scrollbar(),h=this.lockedHeader.find(">table>colgroup>col:not(.k-group-col, .k-hierarchy-col)"),c=u.find(">colgroup>col:not(.k-group-col, .k-hierarchy-col)"),n=ku(h),s=ku(c);e>0&&(n+=rt(this.lockedHeader.find(".k-group-cell:first"))*e);n>=t&&(n=t-3*o);this.lockedHeader.add(this.lockedContent).width(n);f[0].style.width=f.parent().width()-n-2+"px";u.add(this.table).width(s);this.virtualScrollable&&(t-=o);this.content[0].style.width=t-n-2+"px";this.lockedFooter&&this.lockedFooter.length&&(this.lockedFooter.width(n),r=this.footer.find(".k-grid-footer-wrap"),r[0].style.width=f[0].clientWidth+"px",r.children().first().width(s))}},_setContentHeight:function(){var f,n=this,u=n.options,t=n.wrapper.innerHeight(),e=n.wrapper.children(".k-grid-header"),r=i.support.scrollbar();u.scrollable&&n.wrapper.is(":visible")&&(t-=ht(e),n.pager&&n.pager.element.is(":visible")&&(t-=ht(n.pager.element)),u.groupable&&(t-=ht(n.wrapper.children(".k-grouping-header"))),u.toolbar&&(t-=ht(n.wrapper.children(".k-grid-toolbar"))),n.footerTemplate&&(t-=ht(n.wrapper.children(".k-grid-footer"))),f=function(n){var t,i;return!!n[0].style.height||(t=n.height(),n.height("auto"),i=n.height(),t!=i?(n.height(""),!0):(n.height(""),!1))},f(n.wrapper)&&(t>2*r?(n.lockedContent&&(r=n.table[0].offsetWidth>n.table.parent()[0].clientWidth?r:0,n.lockedContent.height(t-r)),n.content.height(t)):n.content.height(2*r+1)))},_averageRowHeight:function(){var i,n=this,r=n._items(n.tbody).length,t=n._rowHeight;return 0===r?t:(n._rowHeight||(n._rowHeight=t=ht(n.table)/r,n._sum=t,n._measures=1),i=ht(n.table)/r,t!==i&&(n._measures++,n._sum+=i,n._rowHeight=n._sum/n._measures),t)},_dataSource:function(){var r,n=this,u=n.options,i=u.dataSource;i=ni(i)?{data:i}:i;v(i)&&(f(i,{table:n.table,fields:n.columns}),r=u.pageable,v(r)&&r.pageSize!==t&&(i.pageSize=r.pageSize));n.dataSource&&n._refreshHandler?n.dataSource.unbind(b,n._refreshHandler).unbind(wr,n._progressHandler).unbind(br,n._errorHandler):(n._refreshHandler=e(n.refresh,n),n._progressHandler=e(n._requestStart,n),n._errorHandler=e(n._error,n));n.dataSource=lf.create(i).bind(b,n._refreshHandler).bind(wr,n._progressHandler).bind(br,n._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(t){var o,s,a,f,v,l,w,b,k,y,r=this,d=r.tbody,h=t.model,e=r.tbody.find("tr["+i.attr("uid")+"="+h.uid+"]"),g=e.hasClass("k-alt"),c=r._items(d).index(e),p=r.lockedContent;if(p&&(o=r._relatedRow(e)),e.add(o).children(".k-edit-cell").length&&!r.options.rowTemplate)e.add(o).children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){s=n(this);a=u(r.columns)[r.cellIndex(s)];a.field===t.field&&(s.hasClass("k-edit-cell")?s.addClass("k-dirty-cell"):r._displayCell(s,a,h))});else if(!e.hasClass("k-grid-edit-row")){for(l=n().add(e),p&&(f=(g?r.lockedAltRowTemplate:r.lockedRowTemplate)(h),l=l.add(o),o.replaceWith(f)),r.angular("cleanup",function(){return{elements:l.get()}}),f=(g?r.altRowTemplate:r.rowTemplate)(h),e.replaceWith(f),f=r._items(d).eq(c),y=[{dataItem:h}],p&&(e=e.add(o),o=r._relatedRow(f)[0],si(f[0],o),f=f.add(o),y.push({dataItem:h})),r.angular("compile",function(){return{elements:f.get(),data:y}}),v=r.options.selectable,v&&e.hasClass("k-state-selected")&&r.select(f),b=l.children(":not(.k-group-cell,.k-hierarchy-cell)"),w=f.children(":not(.k-group-cell,.k-hierarchy-cell)"),c=0,k=r.columns.length;c<k;c++)a=r.columns[c],s=w.eq(c),v&&b.eq(c).hasClass("k-state-selected")&&s.addClass("k-state-selected");r.trigger("itemChange",{item:f,data:h,ns:ot})}},_pageable:function(){var u,t=this,r=t.options.pageable;r&&(u=t.wrapper.children("div.k-grid-pager"),u.length||(u=n('<div class="k-pager-wrap k-grid-pager"/>').appendTo(t.wrapper)),t.pager&&t.pager.destroy(),t.pager="object"==typeof r&&r instanceof i.ui.Pager?r:new i.ui.Pager(u,f({},r,{dataSource:t.dataSource})),t.pager.bind("pageChange",function(n){t.trigger("page",{page:n.index})&&n.preventDefault()}))},_footer:function(){var f,e,o,t=this,s=t.dataSource.aggregates(),r="",h=t.footerTemplate,u=t.options,i=t.footer||t.wrapper.find(".k-grid-footer");h?(r=n(t._wrapFooter(h(s))),i.length?(e=r,t.angular("cleanup",function(){return{elements:i.get()}}),i.replaceWith(e),i=t.footer=e):i=t.footer=u.scrollable?u.pageable?r.insertBefore(t.wrapper.children("div.k-grid-pager")):r.appendTo(t.wrapper):r.insertBefore(t.tbody),t.angular("compile",function(){return{elements:i.find("td:not(.k-group-cell, .k-hierarchy-cell)").get(),data:ci(t.columns,function(n){return{column:n,aggregate:s[n.field]}})}})):i&&!t.footer&&(t.footer=i);i.length&&(u.scrollable&&(f=i.attr("tabindex",-1).children(".k-grid-footer-wrap"),t.scrollables=n(t.scrollables.filter(function(){return!n(this).is(".k-grid-footer-wrap")}).toArray()).add(f)),t._footerWidth&&i.find("table").css("width",t._footerWidth),f&&(o=t.content.scrollLeft(),u.scrollable!==!0&&u.scrollable.virtual&&(o=t.wrapper.find(".k-virtual-scrollable-wrap").scrollLeft()),f.scrollLeft(o)));t.lockedContent&&(t._appendLockedColumnFooter(),t._applyLockedContainersWidth(),t._syncLockedFooterHeight())},_wrapFooter:function(t){var u=this,r="",f=i.support.mobileOS?0:i.support.scrollbar();return u.options.scrollable?(r=n('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(pi?' cellspacing="0"':"")+"><tbody>"+t+"<\/tbody><\/table><\/div><\/div>"),u._appendCols(r.find("table")),r.css(ut?"padding-left":"padding-right",f),r):'<tfoot class="k-grid-footer">'+t+"<\/tfoot>"},_columnMenu:function(){var a,r,v,b,o,p,c,k,l,n=this,d=u(n.columns),h=n.options,e=h.columnMenu,tt=y(n.columns,function(n){return n.columns!==t}).length>0,it=this._isMobile,rt=function(t){n.trigger(kf,{field:t.field,container:t.container})},ut=function(t){n.trigger(gf,{field:t.field,container:t.container})},ft=function(n){w(n.closest("table"),!0)},et=function(t){n.trigger("sort",{sort:t.sort})?t.preventDefault():(n._clearEditableState(),n.dataSource.options.endless&&(n.dataSource.options.endless=null,n._endlessPageSize=n.dataSource.options.pageSize,n.dataSource.pageSize(n.dataSource.options.pageSize)))},ot=function(t){n.trigger("filter",{filter:t.filter,field:t.field})?t.preventDefault():(n._clearEditableState(),n.dataSource.options.endless&&(n.dataSource.options.endless=null,n._endlessPageSize=n.dataSource.options.pageSize,n.dataSource.pageSize(n.dataSource.options.pageSize)))},nt=h.$angular;if(e)for("boolean"==typeof e&&(e={}),p=g(n.thead),c=0,k=p.length;c<k;c++)r=d[c],l=p.eq(c),r.command||!r.field&&!l.attr("data-"+i.ns+"field")||(a=l.data("kendoColumnMenu"),a&&a.destroy(),b=r.sortable!==!1&&e.sortable!==!1&&h.sortable!==!1&&f({},h.sortable,{compare:(r.sortable||{}).compare}),o=!(!h.filterable||r.filterable===!1||e.filterable===!1)&&f({pane:n.pane},h.filterable,r.filterable),r.filterable&&r.filterable.dataSource&&(o.forceUnique=!1,o.checkSource=r.filterable.dataSource),o&&(o.format=r.format),v={dataSource:n.dataSource,values:r.values,columns:e.columns,sortable:b,filterable:o,messages:e.messages,owner:n,closeCallback:ft,init:rt,open:ut,pane:n.pane,sort:et,filtering:ot,filter:it?":not(.k-column-active)":"",lockedColumns:!tt&&r.lockable!==!1&&s(d).length>0},nt&&(v.$angular=nt),l.kendoColumnMenu(v))},_headerCells:function(){return this.thead.find("th").filter(function(){var t=n(this);return!t.hasClass("k-group-cell")&&!t.hasClass("k-hierarchy-cell")})},_filterable:function(){var s,l,h,t,a,r,c,n=this,e=u(n.columns),v=function(t){n.trigger(bf,{field:t.field,container:t.container})},y=function(n){w(n.closest("table"),!0)},b=function(t){n.trigger("filter",{filter:t.filter,field:t.field})?t.preventDefault():(n._clearEditableState(),n.dataSource.options.endless&&(n.dataSource.options.endless=null,n._endlessPageSize=n.dataSource.options.pageSize,n.dataSource.pageSize(n.dataSource.options.pageSize)))},k=function(t){n.trigger(df,{field:t.field,container:t.container})},o=n.options.filterable;if(o&&typeof o.mode==p&&o.mode.indexOf("menu")==-1&&(o=!1),o&&!n.options.columnMenu)for(l=g(n.thead),t=0,a=l.length;t<a;t++)h=l.eq(t),e[t].filterable!==!1&&!e[t].command&&(e[t].field||h.attr("data-"+i.ns+"field"))&&(s=h.data("kendoFilterMenu"),s&&s.destroy(),s=h.data("kendoFilterMultiCheck"),s&&s.destroy(),r=e[t].filterable,c=f({},o,r,{dataSource:n.dataSource,values:e[t].values,format:e[t].format,closeCallback:y,title:e[t].title||e[t].field,init:v,open:k,pane:n.pane,change:b}),r&&r.messages&&(c.messages=f(!0,{},o.messages,r.messages)),r&&r.dataSource&&(c.forceUnique=!1,c.checkSource=r.dataSource),r&&r.multi?h.kendoFilterMultiCheck(c):h.kendoFilterMenu(c))},_filterRow:function(){var l,a,v,b,k,d,h,s,r,y,p,o,c,e,w,t=this;if(t._hasFilterRow())for(a=t.options.$angular,v=u(t.columns),b=t.options.filterable,k=t.thead.find(".k-filter-row"),d=function(n){t.trigger("filter",{filter:n.filter,field:n.field})?n.preventDefault():(t._clearEditableState(),t.dataSource.options.endless&&(t.dataSource.options.endless=null,t._endlessPageSize=t.dataSource.options.pageSize,t.dataSource.pageSize(t.dataSource.options.pageSize)))},this._updateHeader(this.dataSource.group().length),h=0;h<v.length;h++)if(r=v[h],y=t.options.filterable.operators,p=!1,o=n("<th/>"),c=r.field,r.hidden&&o.hide(),k.append(o),c&&r.filterable!==!1){if(e=r.filterable&&r.filterable.cell||{},s=t.options.dataSource,s instanceof lf&&(s=t.options.dataSource.options),w=f(!0,{},b.messages),r.filterable&&f(!0,w,r.filterable.messages),e.enabled===!1){o.html("&nbsp;");continue}e.dataSource&&(s=e.dataSource,p=!0);r.filterable&&r.filterable.operators&&(y=r.filterable.operators);l={column:r,dataSource:t.dataSource,suggestDataSource:s,customDataSource:p,field:c,messages:w,values:r.values,template:e.template,delay:e.delay,inputWidth:e.inputWidth,suggestionOperator:e.suggestionOperator,minLength:e.minLength,dataTextField:e.dataTextField,operator:e.operator,operators:y,showOperators:e.showOperators,change:d};a&&(l.$angular=a);n("<span/>").attr(i.attr("field"),c).appendTo(o).kendoFilterCell(l)}else o.html("&nbsp;")},_sortable:function(){var n,o,s,e,r,h,t=this,l=u(t.columns),c=t.options.sortable,a=function(n){t.trigger("sort",{sort:n.sort})?n.preventDefault():t._clearEditableState()};if(c){for(e=g(t.thead),r=0,h=e.length;r<h;r++)n=l[r],n.sortable!==!1&&!n.command&&n.field&&(s=e.eq(r),o=s.data("kendoColumnSorter"),o&&o.destroy(),s.attr("data-"+i.ns+"field",n.field).kendoColumnSorter(f({},c,n.sortable,{dataSource:t.dataSource,aria:!0,filter:":not(.k-column-active)",change:a})));e=null}},_columns:function(t){var h,o,c,f=this,l=f.table,y=l.find("col"),v=f.options.dataSource;if(t=t.length?t:ci(l.find("th"),function(t,r){t=n(t);var f=t.attr(i.attr("sortable")),e=t.attr(i.attr("filterable")),o=t.attr(i.attr("type")),s=t.attr(i.attr("groupable")),u=t.attr(i.attr("field")),h=t.attr(i.attr("title")),c=t.attr(i.attr("menu"));return u||(u=t.text().replace(/\s|[^A-z0-9]/g,"")),{field:u,type:o,title:h,sortable:"false"!==f,filterable:"false"!==e,groupable:"false"!==s,menu:c,template:t.attr(i.attr("template")),width:y.eq(r).css("width")}}),h=!(f.table.find("tbody tr").length>0&&(!v||!v.transport)),f.options.scrollable){if(c=t,o=s(t),t=at(t),o.length>0&&0===t.length)throw Error("There should be at least one non locked column");io(f.element.find("tr:has(th):first"),c);t=o.concat(t)}f.columns=vu(t,h);n.grep(u(f.columns),function(n){return n.selectable}).length&&(f.options.persistSelection&&(f._selectedIds={}),f.wrapper.on(a+r,"tbody > tr "+wt,e(f._checkboxClick,f)),f.wrapper.on(a+r,"thead > tr "+wt,e(f._headerCheckboxClick,f)))},_headerCheckboxClick:function(t){var i=this,r=n(t.target),f=r.prop("checked"),u=r.closest(".k-grid.k-widget").getKendoGrid();i===u&&(f?i.select(u.items()):i.clearSelection())},_checkboxClick:function(t){var r=this,i=n(t.target).closest("tr"),u=!i.hasClass(ti);r===i.closest(".k-grid.k-widget").getKendoGrid()&&(u?r.select(i):r._deselectCheckRows(i))},_groups:function(){var n=this.dataSource.group();return n?n.length:0},_tmpl:function(n,t,r,u){var h,p,o,d,c,s=this,a=f({},i.Template,s.options.templateSettings),g=a.paramName,w=t.length,v={storage:{},count:0},b=s._hasDetails(),l=[],k=s._groups(),nt=s.options.navigatable,tt=i.attr("field"),y="";if(!n){for(n="<tr",r&&l.push("k-alt"),b&&l.push("k-master-row"),l.length&&(n+=' class="'+l.join(" ")+'"'),w&&(n+=" "+i.attr("uid")+'="#='+i.expr("uid",a.paramName)+'#"'),n+=" role='row'>",k>0&&!u&&(n+=wi(k)),b&&(n+='<td class="k-hierarchy-cell"><a class="k-icon k-i-expand" href="\\#" '+vi+'="'+au+'" tabindex="-1"><\/a><\/td>'),h=0;h<w;h++)o=t[h],p=o.template,d=typeof p,c=o.field,s._editMode()===ve&&c&&(o.attributes=o.attributes||{},s.virtualScrollable&&(o.attributes[tt]=c),y=s._dirtyCellTemplate(c,g),o.attributes["class"]=o.attributes["class"]||"",o.attributes["class"].indexOf(y)<0&&(o.attributes["class"]+=y)),n+="<td"+bt(o.attributes),nt&&(n+=" aria-describedby='"+o.headerAttributes.id+"'"),o.command&&(n+=' class="k-command-cell"'),n+=" role='gridcell'>",n+=s._cellTmpl(o,v),n+="<\/td>";n+="<\/tr>"}return n=i.template(n,a),v.count>0?e(n,v.storage):n},_dirtyCellTemplate:function(n,t){return n&&t?"#= "+t+" && "+t+".dirty && "+t+".dirtyFields && "+i.expr(n,t+".dirtyFields")+" ? ' k-dirty-cell' : '' #":""},_headerCellText:function(n){var e=this,o=f({},i.Template,e.options.templateSettings),t=n.headerTemplate,u=typeof t,r=n.title||n.field||"";return u===ii?r=i.template(t,o)({}):u===p&&(r=t),r},_cellTmpl:function(n,t){var e,a,o=this,y=f({},i.Template,o.options.templateSettings),c=n.template,h=y.paramName,u=n.field,r="",l=n.format,w=typeof c,s=n.values;if(n.command){if(ni(n.command)){for(e=0,a=n.command.length;e<a;e++)r+=n.command[e].visible?i.format("#= {0}(data)? '{1}':'' #",n.command[e].visible,o._createButton(n.command[e]).replace(yi,"\\#")):o._createButton(n.command[e]).replace(yi,"\\#");return r}return o._createButton(n.command).replace(yi,"\\#")}return n.selectable?wo:(r+=o._dirtyIndicatorTemplate(u,h),w===ii?(t.storage["tmpl"+t.count]=c,r+="#=this.tmpl"+t.count+"("+h+")#",t.count++):w===p?r+=c:s&&s.length&&v(s[0])&&"value"in s[0]&&u?(r+="#var v ="+i.stringify(tf(s)).replace(yi,"\\#")+"#",r+="#var f = v[",y.useWithBlock||(r+=h+"."),r+=u+"]#",r+="${f != null ? f : ''}"):(r+=n.encoded?"#:":"#=",l&&(r+='kendo.format("'+l.replace(vo,"\\$1")+'",'),u?(u=i.expr(u,h),r+=u+"==null?'':"+u):r+="''",l&&(r+=")"),r+="#"),r)},_dirtyIndicatorTemplate:function(n,t){return n&&t?"#= "+t+" && "+t+".dirty && "+t+".dirtyFields && "+i.expr(n,t+".dirtyFields")+" ? '<span class=\"k-dirty\"><\/span>' : '' #":""},_templates:function(){var t=this,i=t.options,h=t.dataSource,c=h.group(),l=t.footer||t.wrapper.find(".k-grid-footer"),r=h.aggregate(),o=u(t.columns),f=u(s(t.columns)),e=i.scrollable?u(at(t.columns)):o;if(i.scrollable&&f.length){if(i.rowTemplate||i.altRowTemplate)throw Error("Having both row template and locked columns is not supported");t.rowTemplate=t._tmpl(i.rowTemplate,e,!1,!0);t.altRowTemplate=t._tmpl(i.altRowTemplate||i.rowTemplate,e,!0,!0);t.lockedRowTemplate=t._tmpl(i.rowTemplate,f);t.lockedAltRowTemplate=t._tmpl(i.altRowTemplate||i.rowTemplate,f,!0)}else t.rowTemplate=t._tmpl(i.rowTemplate,e),t.altRowTemplate=t._tmpl(i.altRowTemplate||i.rowTemplate,e,!0);t._hasDetails()&&(t.detailTemplate=t._detailTmpl(i.detailTemplate||""));(!t._group||yf(r))&&(yf(r)||l.length)&&!y(o,function(n){return n.footerTemplate}).length||(t.footerTemplate=t._footerTmpl(o,r,"footerTemplate","k-footer-template"));c&&y(o,function(n){return n.groupFooterTemplate}).length&&(r=n.map(c,function(n){return n.aggregates}),t.groupFooterTemplate=t._footerTmpl(e,r,"groupFooterTemplate","k-group-footer",f.length),i.scrollable&&f.length&&(t.lockedGroupFooterTemplate=t._footerTmpl(f,r,"groupFooterTemplate","k-group-footer")));t.options.noRecords&&(t.noRecordsTemplate=t._noRecordsTmpl())},_noRecordsTmpl:function(){var r,f,u,s=this.options.scrollable&&!this.wrapper[0].style.height?' style="margin:0 auto;position:static;"':"",t={storage:{},count:0},o=n.extend({},i.Template,this.options.templateSettings),h=o.paramName,e="";return r=this.options.noRecords.template?this.options.noRecords.template:i.format('<div class="k-grid-norecords-template"{1}>{0}<\/div>',this.options.messages.noRecords,s),f=typeof r,"function"===f?(t.storage["tmpl"+t.count]=r,e+="#=this.tmpl"+t.count+"("+h+")#",t.count++):"string"===f&&(e+=r),u=i.template(i.format('<div class="{0}">{1}<\/div>',ee,e),o),t.count>0&&(u=n.proxy(u,t.storage)),u},_footerTmpl:function(n,t,r,u,o){var l,p,h,w,c,a=this,y=f({},i.Template,a.options.templateSettings),b=y.paramName,s="",k={},v=0,d={},g=a._groups(),nt=a.dataSource._emptyAggregates(t);for(s+='<tr class="'+u+'">',g>0&&!o&&(s+=wi(g)),a._hasDetails()&&(s+='<td class="k-hierarchy-cell">&nbsp;<\/td>'),l=0,p=n.length;l<p;l++)c=n[l],h=c[r],w=typeof h,s+="<td"+bt(c.footerAttributes)+">",h?(w!==ii&&(d=nt[c.field]?f({},y,{paramName:b+"['"+c.field+"']"}):{},h=i.template(h,d)),k["tmpl"+v]=h,s+="#=this.tmpl"+v+"("+b+")#",v++):s+="&nbsp;",s+="<\/td>";return s+="<\/tr>",s=i.template(s,y),v>0?e(s,k):s},_detailTmpl:function(n){var o=this,t="",s=f({},i.Template,o.options.templateSettings),a=s.paramName,h={},r=0,c=o._groups(),l=k(u(o.columns)).length,v=typeof n;return t+='<tr class="k-detail-row">',c>0&&(t+=wi(c)),t+='<td class="k-hierarchy-cell"><\/td><td class="k-detail-cell"'+(l?' colspan="'+l+'"':"")+">",v===ii?(h["tmpl"+r]=n,t+="#=this.tmpl"+r+"("+a+")#",r++):t+=n,t+="<\/td><\/tr>",t=i.template(t,s),r>0?e(t,h):t},_hasDetails:function(){var n=this;return null!==n.options.detailTemplate||(n._events[nu]||[]).length},_hasFilterRow:function(){var t=this.options.filterable,r=t&&typeof t.mode==p&&t.mode.indexOf("row")!=-1,i=this.columns,u=n.grep(i,function(n){return n.filterable===!1});return i.length&&u.length==i.length&&(r=!1),r},_details:function(){var t=this;if(t.options.scrollable&&t._hasDetails()&&s(t.columns).length)throw Error("Having both detail template and locked columns is not supported");t.table.on(a+r,".k-hierarchy-cell .k-i-expand, .k-hierarchy-cell .k-i-collapse",function(i){var r,e,o=n(this),u=o.hasClass("k-i-expand"),f=o.closest("tr.k-master-row"),s=t.detailTemplate,h=t._hasDetails(),c=u?lu:au;return o.toggleClass("k-i-expand",!u).toggleClass("k-i-collapse",u).attr(vi,c),r=f.next(),h&&!r.hasClass("k-detail-row")&&(e=t.dataItem(f),r=n(s(e)).addClass(f.hasClass("k-alt")?"k-alt":"").insertAfter(f),t.angular("compile",function(){return{elements:r.get(),data:[{dataItem:e}]}}),t.trigger(nu,{masterRow:f,detailRow:r,data:e,detailCell:r.find(".k-detail-cell")})),t.trigger(u?ie:re,{masterRow:f,detailRow:r}),r.toggle(u),t._current&&t._current.attr("aria-expanded",u),i.preventDefault(),!1})},dataItem:function(t){if(t=n(t)[0],!t)return null;for(var f=this.tbody.children(),r=t.sectionRowIndex,u=r,i=0;i<r;i++)/k-grouping-row|k-detail-row|k-group-footer/.test(f[i].className)&&u--;return this._data[u]},expandRow:function(t){n(t).find("> td .k-i-expand").click()},collapseRow:function(t){n(t).find("> td .k-i-collapse").click()},_createHeaderCells:function(n,r){for(var e,h,c,s,a=this,f="",v=u(a.columns),o=0,y=n.length;o<y;o++)e=n[o].column||n[o],h=a._headerCellText(e),c="",s=l(e,v),e.selectable?(f+="<th scope='col'"+bt(e.headerAttributes),r&&!n[o].colSpan&&(f+=" rowspan='"+r+"'"),s>-1&&(f+=i.attr("index")+"='"+s+"'"),h=e.headerTemplate?h:bo,f+=">"+h+"<\/th>"):e.command?(f+="<th scope='col'"+bt(e.headerAttributes),r&&!n[o].colSpan&&(f+=" rowspan='"+r+"'"),s>-1&&(f+=i.attr("index")+"='"+s+"'"),f+=">"+h+"<\/th>"):(e.field&&(c=i.attr("field")+"='"+e.field+"' "),f+="<th scope='col' role='columnheader' "+c,f+=" aria-haspopup='true'",r&&!n[o].colSpan&&(f+=" rowspan='"+r+"'"),n[o].colSpan>1&&(f+='colspan="'+(n[o].colSpan-dt(e.columns))+'" ',f+=i.attr("colspan")+"='"+n[o].colSpan+"'"),e.title&&(f+=i.attr("title")+'="'+e.title.replace('"',"&quot;").replace(/'/g,"'")+'" '),e.groupable!==t&&(f+=i.attr("groupable")+"='"+e.groupable+"' "),e.aggregates&&e.aggregates.length&&(f+=i.attr("aggregates")+"='"+e.aggregates+"'"),s>-1&&(f+=i.attr("index")+"='"+s+"'"),f+=bt(e.headerAttributes),f+=">"+h+"<\/th>");return f},_appendLockedColumnContent:function(){for(var f,i,e,r=this.columns,o=this.table.find("colgroup"),l=o.find("col:not(.k-group-col,.k-hierarchy-col)"),s=n(),h=0,c=0,t=0,a=r.length;t<a;t++)if(r[t].locked)if(ft(r[t])){for(i=1,r[t].columns&&(i=u(r[t].columns).length-dt(r[t].columns)),i=i||1,e=0;e<i;e++)s=s.add(l.eq(t+c+e-h));c+=i-1}else h++;f=n('<div class="k-grid-content-locked"><table'+(pi?' cellspacing="0"':"")+"><colgroup/><tbody><\/tbody><\/table><\/div>");o.detach();f.find("colgroup").append(s);o.insertBefore(this.table.find("tbody"));this.lockedContent=f.insertBefore(this.content);this.lockedTable=f.children("table")},_appendLockedColumnFooter:function(){var t,e,i=this,o=i.footer,c=o.find(".k-footer-template>td"),l=o.find(".k-grid-footer-wrap>table>colgroup>col"),h=n('<div class="k-grid-footer-locked"><table><colgroup /><tbody><tr class="k-footer-template"><\/tr><\/tbody><\/table><\/div>'),a=i._groups(),r=n(),f=n();for(r=r.add(c.filter(".k-group-cell")),t=0,e=u(s(i.columns)).length;t<e;t++)r=r.add(c.eq(t+a));for(f=f.add(l.filter(".k-group-col")),t=0,e=k(u(cr(i.columns))).length;t<e;t++)f=f.add(l.eq(t+a));r.appendTo(h.find("tr"));f.appendTo(h.find("colgroup"));i.lockedFooter=h.prependTo(o)},_appendLockedColumnHeader:function(t){for(var c,d,g,o,nt,s,l,a,v,f=this,r=this.columns,e=[],y=0,p=n(),ut=f._hasFilterRow(),tt=0,w=n(),h=0,it=n(),b=f.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),et=f.thead.find("tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)"),ot=f.thead.find(".k-filter-row").find("th:not(.k-group-cell,.k-hierarchy-cell)"),rt=0,i=0,k=r.length;i<k;i++){if(r[i].locked){if(nt=et.eq(i),h=u(r[i].columns||[]).length,ft(r[i])){for(s=null,r[i].columns&&(s=h-dt(r[i].columns)),s=s||1,l=0;l<s;l++)p=p.add(b.eq(i+rt+l-y));rt+=s-1}for(di([r[i]],oi(nt),e,0,0),h=h||1,a=0;a<h;a++)w=w.add(ot.eq(tt+a));tt+=h}r[i].columns&&(y+=dt(r[i].columns));ft(r[i])||y++}if(e.length){for(c='<div class="k-grid-header-locked" style="width:1px"><table'+(pi?' cellspacing="0"':"")+"><colgroup/><thead>",c+=Array(e.length+1).join("<tr><\/tr>"),c+=(ut?'<tr class="k-filter-row" />':"")+"<\/thead><\/table><\/div>",o=n(c),b=o.find("colgroup"),b.append(f.thead.prev().find("col.k-group-col").add(p)),d=o.find("thead tr:not(.k-filter-row)"),i=0,k=e.length;i<k;i++)it=be(e[i]),d.eq(i).append(f.thead.find("tr:eq("+i+") .k-group-cell").add(it));return v=hr(this.thead),e.length<v&&ge(o,v-e.length),g=o.find(".k-filter-row"),g.append(f.thead.find(".k-filter-row .k-group-cell").add(w)),this.lockedHeader=o.prependTo(t),this.thead.find(".k-group-cell").remove(),!0}return!1},_removeLockedContainers:function(){var n=this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);i.destroy(n);n.off(r).remove();this.lockedHeader=this.lockedContent=this.lockedFooter=null;this.selectable=null},_thead:function(){var h,u,c,l,a,w,p,t=this,v=t.columns,y=t._hasDetails()&&v.length,b=t._hasFilterRow(),o="",f=t.table.find(">thead"),k=t.element.find("thead:first").length>0;if(f.length||(f=n("<thead/>").insertBefore(t.tbody)),t.lockedHeader&&t.thead?(u=t.thead.find("tr:has(th):not(.k-filter-row)").html(""),u.remove(),u=n(),t._removeLockedContainers()):u=t.element.find(k?"thead:first tr:has(th):not(.k-filter-row)":"tr:has(th):first"),!u.length&&(u=f.children().first(),!u.length)){for(c=[{rowSpan:1,cells:[],index:0}],t._prepareColumns(c,v),h=0;h<c.length;h++)o+="<tr>",y&&(o+='<th class="k-hierarchy-cell" scope="col">'+t.options.messages.expandCollapseColumnHeader+"<\/th>"),o+=t._createHeaderCells(c[h].cells,c[h].rowSpan),o+="<\/tr>";u=n(o)}b&&(l=n("<tr/>"),l.addClass("k-filter-row"),(y||u.find(".k-hierarchy-cell").length)&&l.prepend('<th class="k-hierarchy-cell" scope="col">&nbsp;<\/th>'),a=(t.thead||f).find(".k-filter-row"),a.length&&(i.destroy(a),a.remove()),f.append(l));u.children().length?y&&!u.find(".k-hierarchy-cell")[0]&&u.prepend('<th class="k-hierarchy-cell" scope="col">&nbsp;<\/th>'):(o="",y&&(o+='<th class="k-hierarchy-cell" scope="col">&nbsp;<\/th>'),o+=t._createHeaderCells(v),u.html(o));u.attr("role","row").find("th").addClass("k-header");t.options.scrollable||f.addClass("k-grid-header");u.find("script").remove().end().prependTo(f);t.thead&&t._destroyColumnAttachments();this.angular("cleanup",function(){return{elements:f.find("th").get()}});this.angular("compile",function(){return{elements:f.find("th").get(),data:ci(v,function(n){return{column:n}})}});t.thead=f.attr("role","rowgroup");t._sortable();t._filterable();t._filterRow();t._scrollable();t._updateCols();t._columnMenu();p=this.options.scrollable&&s(this.columns).length;p&&(w=t._appendLockedColumnHeader(t.thead.closest(".k-grid-header")),t._appendLockedColumnContent(),t.lockedContent.bind("DOMMouseScroll"+r+" mousewheel"+r,e(t._wheelScroll,t)));t._updateColumnCellIndex();t._updateFirstColumnClass();t._resizable();t._draggable();t._reorderable();t._updateHeader(t._groups());p&&(w&&t._syncLockedHeaderHeight(),t._applyLockedContainersWidth());t.groupable&&t._attachGroupable()},_retrieveFirstColumn:function(t,i){var r,u=n();if(i.length&&t[0]){for(r=t[0];r.columns&&r.columns.length;)r=r.columns[0],i=i.filter(":not(:first())");u=u.add(i)}return u},_updateFirstColumnClass:function(){var r,u,t=this,i=t.columns||[],f=t._hasDetails()&&i.length;f||t._groups()||(r=t.thead.find(">tr:not(.k-filter-row):not(:first)"),i=at(i),u=t._retrieveFirstColumn(i,r),t._isLocked()&&(r=t.lockedHeader.find("thead>tr:not(.k-filter-row):not(:first)"),i=s(t.columns),u=u.add(t._retrieveFirstColumn(i,r))),u.each(function(){var t=n(this).find("th");t.removeClass("k-first");t.eq(0).addClass("k-first")}))},_prepareColumns:function(n,t,i,r){for(var f,e=r||n[n.length-1],o=n[e.index+1],s=0,u=0;u<t.length;u++)f={column:t[u],colSpan:0},e.cells.push(f),t[u].columns&&t[u].columns.length&&(o||(o={rowSpan:0,cells:[],index:n.length},n.push(o)),f.colSpan=t[u].columns.length,this._prepareColumns(n,t[u].columns,f,o),s+=f.colSpan-1,e.rowSpan=n.length-e.index);i&&(i.colSpan+=s)},_wheelScroll:function(n){var t,u,r;n.ctrlKey||(t=this.content,this.options.scrollable.virtual&&(t=this.virtualScrollable.verticalScrollbar),u=t.scrollTop(),r=i.wheelDeltaY(n),r&&(t[0].scrollHeight>t[0].clientHeight&&(t[0].scrollTop<t[0].scrollHeight-t[0].clientHeight&&r<0||t[0].scrollTop>0&&r>0)&&n.preventDefault(),t.scrollTop(u+-r)))},_isLocked:function(){return null!=this.lockedHeader},_updateHeaderCols:function(){var n=this.thead.parent().add(this.table);this._isLocked()?gt(n,it(du(this.columns)),this._hasDetails(),0):gt(n,it(k(this.columns)),this._hasDetails(),0)},_updateCols:function(n){n=n||this.thead.parent().add(this.table);this._appendCols(n,this._isLocked())},_updateLockedCols:function(n){this._isLocked()&&(n=n||this.lockedHeader.find("table").add(this.lockedTable),gt(n,it(cr(this.columns)),this._hasDetails(),this._groups()))},_appendCols:function(n,t){t?gt(n,it(du(this.columns)),this._hasDetails(),0):gt(n,it(k(this.columns)),this._hasDetails(),this._groups())},_autoColumns:function(n){if(n&&n.toJSON){var r,u,t=this;n=n.toJSON();u=!(t.table.find("tbody tr").length>0&&(!t.dataSource||!t.dataSource.transport));for(r in n)t.columns.push({field:r,encoded:u,headerAttributes:{id:i.guid()}});t._thead();t._templates()}},_rowsHtml:function(n,t){for(var r=this,u="",f=t.rowTemplate,e=t.altRowTemplate,i=0,o=n.length;i<o;i++)r._skipRerenderItemsCount>0?r._skipRerenderItemsCount--:(u+=i%2?e(n[i]):f(n[i]),r._data.push(n[i]));return u},_groupRowHtml:function(n,t,r,e,o,s){var l,g,w,b,h=this,a="",nt=n.field,v=y(u(h.columns),function(n){return n.field==nt})[0]||{},p=v.groupHeaderTemplate,k=(v.title||nt)+": "+ro(n.value,v.format,v.values,v.encoded),rt=h._groupAggregatesDefaultObject||{},c=n.items,d=f({},rt,n.aggregates),tt=f({},{field:n.field,value:n.value,items:c,aggregates:d},n.aggregates[n.field]),it=o.groupFooterTemplate;if(p&&(k=typeof p===ii?p(tt):i.template(p)(tt)),h._skipRerenderItemsCount?e(t,r,k):a+=e(t,r,k),n.hasSubgroups)for(l=0,g=c.length;l<g;l++)h._skipRerenderItemsCount?h._groupRowHtml(c[l],s?t:t-1,r+1,e,o,s):a+=h._groupRowHtml(c[l],s?t:t-1,r+1,e,o,s);else a+=h._rowsHtml(c,o);if(it){w={};for(b in d)w[b]=f({},d[b],{group:{field:n.field,value:n.value,items:c}});a+=it(w)}return a},collapseGroup:function(t){var o,s,r,h,i,u,c=this,l=t,a=this.options.groupable,v=a.showFooter,e=v?0:1,f=n();for(t=n(t),this._isLocked()&&(t.closest("div").hasClass("k-grid-content-locked")?f=this.tbody.children("tr:eq("+t.index()+")").nextAll("tr"):(f=t.nextAll("tr"),t=this.lockedTable.find(">tbody>tr:eq("+t.index()+")"))),o=t.find(".k-group-cell").length,t.find(".k-i-collapse").addClass("k-i-expand").removeClass("k-i-collapse"),t.find("td[aria-expanded='true']:first").attr("aria-expanded",!1).find("a").attr(vi,au),t=t.nextAll("tr"),u=[],r=0,h=t.length;r<h&&(i=t.eq(r),s=i.find(".k-group-cell").length,i.hasClass("k-grouping-row")?e++:i.hasClass("k-group-footer")&&e--,!(s<=o||i.hasClass("k-group-footer")&&e<0));r++)f.length&&u.push(f[r]),u.push(i[0]);n(u).hide();this.options.scrollable.endless&&this.content&&setTimeout(function(){c.content.scroll();c._groupToCollapse=l})},expandGroup:function(t){t=n(t);var f,i,e,r,s,h=this,c=h.options.groupable.showFooter,u=n(),l=[],o=1;for(this._isLocked()&&(t.closest("div").hasClass("k-grid-content-locked")?u=this.tbody.children("tr:eq("+t.index()+")").nextAll("tr"):(u=t.nextAll("tr"),t=this.lockedTable.find(">tbody>tr:eq("+t.index()+")"))),f=t.find(".k-group-cell").length,t.find(".k-i-expand").addClass("k-i-collapse").removeClass("k-i-expand"),t.find("td[aria-expanded='false']:first").attr("aria-expanded",!0).find("a").attr(vi,lu),t=t.nextAll("tr"),r=0,s=t.length;r<s&&(i=t.eq(r),e=i.find(".k-group-cell").length,!(e<=f));r++)e!=f+1||i.hasClass("k-detail-row")||(i.show(),u.eq(r).show(),i.hasClass("k-grouping-row")&&i.find(".k-icon").hasClass("k-i-collapse")&&h.expandGroup(i),i.hasClass("k-master-row")&&i.find(".k-icon").hasClass("k-i-collapse")&&(i.next().show(),u.eq(r+1).show())),i.hasClass("k-grouping-row")&&(c&&l.push(i.is(":visible")),o++),i.hasClass("k-group-footer")&&(c&&i.toggle(l.pop()),1==o?(i.show(),u.eq(r).show()):o--)},_updateHeader:function(t){var r=this,i=r._isLocked()?r.lockedHeader.find("thead"):r.thead,f=i.find("tr.k-filter-row").find("th.k-group-cell").length,u=i.find("tr:first").find("th.k-group-cell").length,e=i.children("tr:not(:first)").filter(function(){return!n(this).children(":visible").length});t>u?(n(Array(t-u+1).join('<th class="k-group-cell k-header" scope="col">'+r.options.messages.expandCollapseColumnHeader+"<\/th>")).prependTo(i.children("tr:not(.k-filter-row)")),r.element.is(":visible")&&e.find("th.k-group-cell").hide()):t<u&&i.find("tr").each(function(){n(this).find("th.k-group-cell").filter(":eq("+t+"),:gt("+t+")").remove()});t>f&&n(Array(t-f+1).join('<th class="k-group-cell k-header" scope="col">&nbsp;<\/th>')).prependTo(i.find(".k-filter-row"))},_firstDataItem:function(n,t){return n&&t&&(n=n.hasSubgroups?this._firstDataItem(n.items[0],t):n.items[0]),n},_updateTablesWidth:function(){var i,t=this;t._isLocked()&&(i=n(">.k-grid-footer>.k-grid-footer-wrap>table",t.wrapper).add(t.thead.parent()).add(t.table),t._footerWidth=of(i.eq(0)),i.width(t._footerWidth),i=n(">.k-grid-footer>.k-grid-footer-locked>table",t.wrapper).add(t.lockedHeader.find(">table")).add(t.lockedTable),i.width(of(i.eq(0))))},hideColumn:function(i){var rt,c,f,b,a,d,nt,ut,e,it,r=this,s=0,p=r.footer||r.wrapper.find(".k-grid-footer"),h=r.columns,w=r.lockedHeader?g(r.lockedHeader.find(">table>thead")).filter(fi).length:0;if(i="number"==typeof i?h[i]:v(i)?y(et(h),function(n){return n===i})[0]:y(et(h),function(n){return n.field===i})[0],i&&ft(i)){if(i.columns&&i.columns.length){for(d=sr(i,h),ui(i,!1),vt(tt(n(">table>thead",r.lockedHeader),r.thead,">tr:eq("+d.row+")>th"),d.cell,!1),f=0;f<i.columns.length;f++)this.hideColumn(i.columns[f]);return r.trigger(tu,{column:i}),t}if(e=l(i,k(u(h))),ui(i,!1),r._setParentsVisibility(i,!1),r._templates(),r._updateCols(),r._updateLockedCols(),it=r.thead,nt=e,r.lockedHeader&&w>e?it=r.lockedHeader.find(">table>thead"):nt-=w,rt=g(it).filter(fi).eq(nt),rt[0].style.display="none",vt(tt(n(">table>thead",r.lockedHeader),r.thead,">tr.k-filter-row>th"),e,!1),p[0]&&(r._updateCols(p.find(">.k-grid-footer-wrap>table")),r._updateLockedCols(p.find(">.k-grid-footer-locked>table")),vt(p.find(".k-footer-template>td"),e,!1)),r.lockedTable&&w>e?rf(r.lockedTable.find(">tbody>tr"),e):rf(r.tbody.children(),e-w),r.lockedTable)r._updateTablesWidth(),r._applyLockedContainersWidth(),r._syncLockedContentHeight(),r._syncLockedHeaderHeight(),r._syncLockedFooterHeight();else{for(b=r.thead.prev().find("col"),f=0,ut=b.length;f<ut;f+=1){if(a=b[f].style.width,!a||a.indexOf("%")!=-1){s=0;break}s+=parseInt(a,10)}c=n(">.k-grid-header table:first,>.k-grid-footer table:first",r.wrapper).add(r.table);r._footerWidth=null;s&&(c.each(function(){this.style.width=s+"px"}),r._footerWidth=s);o.msie&&8==o.version&&(c.css("display","inline-table"),setTimeout(function(){c.css("display","table")},1))}r._updateFirstColumnClass();r.trigger(tu,{column:i})}},_setParentsVisibility:function(t,r){var e,u,s,f,h,c=this.columns,o=[],l=r?function(n){return k(n.columns).length&&n.hidden}:function(n){return!k(n.columns).length&&!n.hidden};if(or(t,c,o)&&o.length)for(e=o.length-1;e>=0;e--)u=o[e],s=kt(u,c),f=tt(n(">table>thead",this.lockedHeader),this.thead,">tr:eq("+s.row+")>th:not(.k-group-cell):not(.k-hierarchy-cell)").eq(s.cell),l(u)&&(ui(u,r),f[0].style.display=r?"":"none"),f.filter("["+i.attr("colspan")+"]").length&&(h=parseInt(f.attr(i.attr("colspan")),10),f[0].colSpan=h-dt(u.columns)||1)},showColumn:function(i){var f,nt,it,a,o,p,w,b,k,e,d,r=this,s=r.columns,h=r.footer||r.wrapper.find(".k-grid-footer"),c=r.lockedHeader?g(r.lockedHeader.find(">table>thead")).length:0;if(i="number"==typeof i?s[i]:v(i)?y(et(s),function(n){return n===i})[0]:y(et(s),function(n){return n.field===i})[0],i&&!ft(i)){if(i.columns&&i.columns.length){for(w=kt(i,s),ui(i,!0),vt(tt(n(">table>thead",r.lockedHeader),r.thead,">tr:eq("+w.row+")>th"),w.cell,!0),f=0;f<i.columns.length;f++)this.showColumn(i.columns[f]);return r.trigger(iu,{column:i}),t}if(e=l(i,u(s)),ui(i,!0),r._setParentsVisibility(i,!0),r._templates(),r._updateCols(),r._updateLockedCols(),d=r.thead,p=e,r.lockedHeader&&c>e?d=r.lockedHeader.find(">table>thead"):p-=c,it=g(d).eq(p),it[0].style.display="",vt(tt(n(">table>thead",r.lockedHeader),r.thead,">tr.k-filter-row>th"),e,!0),h[0]&&(r._updateCols(h.find(">.k-grid-footer-wrap>table")),r._updateLockedCols(h.find(">.k-grid-footer-locked>table")),vt(h.find(".k-footer-template>td"),e,!0)),r.lockedTable&&c>e?ff(r.lockedTable.find(">tbody>tr"),e):ff(r.tbody.children(),e-c),r.lockedTable)r._updateTablesWidth(),r._applyLockedContainersWidth(),r._syncLockedContentHeight(),r._syncLockedHeaderHeight();else if(a=n(">.k-grid-header table:first,>.k-grid-footer table:first",r.wrapper).add(r.table),i.width){for(o=0,k=r.thead.prev().find("col"),f=0,nt=k.length;f<nt;f+=1){if(b=k[f].style.width,b.indexOf("%")>-1){o=0;break}o+=parseInt(b,10)}r._footerWidth=null;o&&(a.each(function(){this.style.width=o+"px"}),r._footerWidth=o)}else a.width("");r._updateFirstColumnClass();r.trigger(iu,{column:i})}},_progress:function(n){var t=this.element,r=this.options.scrollable&&this.options.scrollable.endless;this._editContainer&&"popup"===this._editMode()?t=this._editContainer:this.lockedContent||r?t=this.wrapper:this.element.is("table")?t=this.element.parent():this.content&&this.content.length&&(t=this.content);r&&n?i.ui.progress(t,n,{height:this.content.height(),top:this.content[0].offsetTop,opacity:!0}):i.ui.progress(t,n)},_resize:function(n,t){this._syncLockedContentHeight();this._syncLockedHeaderHeight();this.content&&(this._setContentWidth(),this._setContentHeight());this.virtualScrollable&&(t||this._rowHeight)&&(t&&(this._rowHeight=null),this.virtualScrollable.repaintScrollbar())},_isActiveInTable:function(){var t=st();return!!t&&(this.table[0]===t||n.contains(this.table[0],t)||this._isLocked()&&(this.lockedTable[0]===t||n.contains(this.lockedTable[0],t)))},refresh:function(r){var h,f=this,o=f.dataSource.view(),y=f.options.navigatable,c=n(f.current()),a=!1,v=!!n.grep(u(f.columns),function(n){return n.selectable}).length,e=(f.dataSource.group()||[]).length,s=e+it(k(f.columns)).length;if(!r||"itemchange"!==r.action||!f.editable)return r&&"remove"===r.action&&f.editable&&f.editable.options.model&&l(f.editable.options.model,r.items)>-1&&f.editable.options.model.unbind(b,f._modelChangeHandler),r=r||{},r.action===ir&&f._isVirtualEditable()?(f._destroyEditable(),f._clearEditableState(),f._restoreVirtualView(),t):(f.trigger("dataBinding",{action:r.action||"rebind",index:r.index,items:r.items})||(f._endlessFetchInProgress||(f._angularItems("cleanup"),y&&(f._isActiveInTable()||f._editContainer&&f._editContainer.data("kendoWindow"))&&(a=c.is("th"),h=Math.max(f.cellIndex(c),0)),f._destroyEditable(),f._data=[]),f.options.scrollable&&f.options.scrollable.endless?(clearTimeout(f._progressTimeOut),f._progressTimeOut=setTimeout(function(){f._endlessFetchInProgress||f._progress(!1)},100)):f._progress(!1),f._hideResizeHandle(),f.columns.length||(f._autoColumns(f._firstDataItem(o[0],e)),s=e+f.columns.length),f._group=e>0||f._group,f._group&&(f._templates(),f._updateCols(),f._updateLockedCols(),f._updateHeader(e),f._group=e>0,f._groupRows=lr(o)),f._renderContent(o,s,e),f._renderLockedContent(o,s,e),f._footer(),f._renderNoRecordsContent(),f._togglePagerVisibility(),f._setContentHeight(),f._setContentWidth(f.content&&f.content.scrollLeft()),f.lockedTable&&(f.options.scrollable.virtual?f.content.find(">.k-virtual-scrollable-wrap").trigger("scroll"):f.touchScroller?f.touchScroller.movable.trigger("change"):(f.wrapper.one("scroll",function(n){n.stopPropagation()}),f.content.trigger("scroll"))),f._endlessFetchInProgress||f._restoreCurrent(h,a),f.touchScroller&&f.touchScroller.contentResized(),f.selectable&&f.selectable.resetTouchEvents(),f._muteAngularRebind(function(){f._angularItems("compile")}),v&&f._toggleHeaderCheckState(!1),f.options.persistSelection&&(f.selectable&&!i.ui.Selectable.parseOptions(f.options.selectable).cell||v)&&f._restoreSelection(),f.trigger(ru)),t)},_restoreCurrent:function(i,r){var f,u,e;i===t||i<0||(this._removeCurrent(),r?this._setCurrent(this.thead.find("th:not(.k-group-cell)").eq(i)):(f=0,this._rowVirtualIndex?f=this.virtualScrollable.position(this._rowVirtualIndex):i=0,u=n(),this.lockedTable&&(u=this.lockedTable.find(">tbody>tr").eq(f)),u=u.add(this.tbody.children().eq(f)),e=u.find(">td:not(.k-group-cell):not(.k-hierarchy-cell)").eq(i),this._setCurrent(e)),this._current&&w(this._current.closest("table")[0],!0))},_restoreSelection:function(){var t,n=this,i=n.items();t=y(i,function(t){var i=n.dataItem(t)[n.dataSource.options.schema.model.id];if(n._selectedIds[i])return t});n.select(t)},_angularItems:function(n){i.ui.DataBoundWidget.fn._angularItems.call(this,n);"cleanup"===n&&this._cleanupDetailItems();this._angularGroupItems(n);this._angularGroupFooterItems(n)},_cleanupDetailItems:function(){var n=this;n._hasDetails()&&(n.angular("cleanup",function(){return{elements:n.tbody.children(".k-detail-row")}}),n.tbody.find(".k-detail-cell").empty())},_angularGroupItems:function(t){var i=this,r=i.tbody;i.lockedContent&&(r=i.lockedTable.find("tbody"));i._group&&i.angular(t,function(){return{elements:r.children(".k-grouping-row"),data:n.map(lr(i.dataSource.view()),function(n){return{dataItem:n}})}})},_angularGroupFooterItems:function(t){var i=this,r=i.tbody;i.lockedContent&&(r=i.element);i._group&&i.groupFooterTemplate&&i.angular(t,function(){return{elements:r.find(".k-group-footer"),data:n.map(uf(i.dataSource.view()),function(n){return{dataItem:n}})}})},_renderContent:function(n,t,i){var u,o,r=this,f="",e=null!=r.lockedContent,s=null,h={rowTemplate:r.rowTemplate,altRowTemplate:r.altRowTemplate,groupFooterTemplate:r.groupFooterTemplate};if(r.dataSource.options.endless||(r._skipRerenderItemsCount=0,r.content&&(r.content[0].scrollTop=0)),s=r._skipRerenderItemsCount>0,t=e?t-it(cr(r.columns)).length:t,i>0)for(t=e?t-i:t,r.detailTemplate&&t++,r.groupFooterTemplate&&(r._groupAggregatesDefaultObject=r.dataSource.aggregates()),u=0,o=n.length;u<o;u++)f+=r._groupRowHtml(n[u],t,0,e?eo:cf,h,e);else f+=r._rowsHtml(n,h);s?(r.tbody.append(f),setTimeout(function(){r._groupToCollapse&&(r.collapseGroup(r._groupToCollapse),r._groupToCollapse=null)}),r._endlessFetchInProgress=null):r.tbody=nf(r.tbody,r.table,f,this.options.$angular)},_renderLockedContent:function(n,t,i){var r,o,f,e="",s={rowTemplate:this.lockedRowTemplate,altRowTemplate:this.lockedAltRowTemplate,groupFooterTemplate:this.lockedGroupFooterTemplate};if(this.lockedContent){if(f=this.lockedTable,i>0)for(t-=k(u(at(this.columns))).length,r=0,o=n.length;r<o;r++)e+=this._groupRowHtml(n[r],t,0,cf,s);else e=this._rowsHtml(n,s);nf(f.children("tbody"),f,e,this.options.$angular);this._syncLockedContentHeight()}},_togglePagerVisibility:function(){this.options.pageable.alwaysVisible===!1&&this.wrapper.find(".k-grid-pager").toggle(this.dataSource.total()>=this.dataSource.pageSize())},_adjustRowsHeight:function(n,t){for(var f,e,o,r=n[0].rows,s=r.length,u=t[0].rows,h=n.add(t),l=h.length,c=[],i=0;i<s&&u[i];i++)r[i].style.height&&(r[i].style.height=u[i].style.height="");for(i=0;i<s&&u[i];i++)f=r[i].offsetHeight,e=u[i].offsetHeight,o=0,f>e?o=f:f<e&&(o=e),c.push(o);for(i=0;i<l;i++)h[i].style.display="none";for(i=0;i<s;i++)c[i]&&(r[i].style.height=u[i].style.height=c[i]+1+"px");for(i=0;i<l;i++)h[i].style.display=""}});i.ExcelMixin&&i.ExcelMixin.extend(ri.prototype);i.PDFMixin&&(i.PDFMixin.extend(ri.prototype),ri.prototype._drawPDF_autoPageBreak=function(r){function y(){c&&s!==t?(u.one("change",a),u.page(s)):(f.refresh(),a())}function a(){l.appendTo(document.body);var t=n.extend({},f.options.pdf,{_destructive:!0,progress:function(n){r.notify({page:n.page,pageNumber:n.pageNum,progress:.5+n.pageNum/n.totalPages/2,totalPages:n.totalPages})}});i.drawing.drawDOM(e,t).always(function(){l.remove()}).then(function(n){h.resolve(n)}).fail(function(n){h.reject(n)})}function o(){var n=u.page(),t=c?u.totalPages():1;v.append(p.find("tr"));n<t?u.page(n+1):(u.unbind("change",o),y())}var v,s,f=this,h=new n.Deferred,u=f.dataSource,c=f.options.pdf.allPages,p=f.wrapper.find('table[role="grid"] > tbody'),l=n("<div>").css({position:"absolute",left:-1e4,top:-1e4}),e=f.wrapper.clone().css({height:"auto",width:"auto"}).appendTo(l);return e.find(".k-grid-content").css({height:"auto",width:"auto",overflow:"visible"}),e.find('table[role="grid"], .k-grid-footer table').css({height:"auto",width:"100%",overflow:"visible"}),e.find(".k-grid-pager, .k-grid-toolbar, .k-grouping-header").remove(),e.find(".k-grid-header, .k-grid-footer").css({paddingRight:0}),this._initPDFProgress(r),v=e.find('table[role="grid"] > tbody').empty(),s=u.page(),c?(u.bind("change",o),u.page(1)):o(),h.promise()},ri.prototype._drawPDF=function(r){function l(){o&&c!==t?(u.unbind("change",h),u.one("change",function(){e.resolve(s)}),u.page(c)):e.resolve(s)}function h(){f._drawPDFShadow({width:f.wrapper.width()},{avoidLinks:f.options.pdf.avoidLinks}).done(function(n){var t=u.page(),i=o?u.totalPages():1,f={page:n,pageNumber:t,progress:t/i,totalPages:i};r.notify(f);s.append(f.page);t<i?u.page(t+1):l()}).fail(function(n){e.reject(n)})}var e,u,o,s,c,f=this;return f.options.pdf.paperSize&&"auto"!=f.options.pdf.paperSize?f._drawPDF_autoPageBreak(r):(e=new n.Deferred,u=f.dataSource,o=f.options.pdf.allPages,this._initPDFProgress(r),s=new i.drawing.Group,c=u.page(),o?(u.bind("change",h),u.page(1)):h(),e.promise())},ri.prototype._initPDFProgress=function(t){var u,r=n("<div class='k-loading-pdf-mask'><div class='k-loading-color'/><\/div>");r.prepend(this.wrapper.clone().css({position:"absolute",top:0,left:0}));this.wrapper.append(r);u=n("<div class='k-loading-pdf-progress'>").appendTo(r).kendoProgressBar({type:"chunk",chunkCount:10,min:0,max:1,value:0}).data("kendoProgressBar");t.progress(function(n){u.value(n.progress)}).always(function(){i.destroy(r);r.remove()})});ot.plugin(ri);ot.plugin(pe)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(n,t,i){(i||t)()});!function(n){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?n(require("knockout"),require("jquery"),require("kendo")):"function"==typeof define&&define.amd?define(["knockout","jquery","kendo"],n):n(window.ko,window.jQuery,window.kendo)}(function(n,t,i,r){var h,y,k;i=i||window.kendo;n.kendo=n.kendo||{};h=n.utils.unwrapObservable;n.kendo.BindingFactory=function(){var u=this,f;this.createBinding=function(r){if(t()[r.parent||r.name]){var f={};f.init=function(n,t,i,e,o){var s=u.buildOptions(r,t);return s.async===!0||r.async===!0&&s.async!==!1?(setTimeout(function(){f.setup(n,s,o)},0),void 0):(f.setup(n,s,o),s&&s.useKOTemplates?{controlsDescendantBindings:!0}:void 0)};f.setup=function(f,e,o){var s,h=t(f);u.setupTemplates(r.templates,e,f,o);s=u.getWidget(r,e,h);u.handleEvents(e,r,f,s,o);u.watchValues(s,e,r,f);s.destroy&&n.utils.domNodeDisposal.addDisposeCallback(f,function(){s.element&&("function"==typeof i.destroy?i.destroy(s.element):s.destroy())})};f.options={};f.widgetConfig=r;n.bindingHandlers[r.bindingName||r.name]=f}};this.buildOptions=function(t,r){var f=t.defaultOption,e=n.utils.extend({},n.bindingHandlers[t.name].options),u=h(r());return u instanceof i.data.DataSource||"object"!=typeof u||null===u||f&&!(f in u)?e[f]=r():n.utils.extend(e,u),e};f=function(t,i){return function(r){return n.renderTemplate(t,i.createChildContext(r._raw&&r._raw()||r))}};this.setupTemplates=function(t,i,r,u){var e,h,o,s;if(t&&i&&i.useKOTemplates){for(e=0,h=t.length;h>e;e++)o=t[e],i[o]&&(i[o]=f(i[o],u));s=i.dataBound;i.dataBound=function(){n.memoization.unmemoizeDomNodeAndDescendants(r);s&&s.apply(this,arguments)}}};this.unwrapOneLevel=function(n){var t,r={};if(n)if(n instanceof i.data.DataSource)r=n;else if("object"==typeof n)for(t in n)r[t]=h(n[t]);return r};this.getWidget=function(t,i,r){var u,f;return t.parent?(f=r.closest("[data-bind*='"+t.parent+":']"),u=f.length?f.data(t.parent):null):u=r[t.name](this.unwrapOneLevel(i)).data(t.name),n.isObservable(i.widget)&&i.widget(u),u};this.watchValues=function(n,t,i,r){var f,e=i.watch;if(e)for(f in e)e.hasOwnProperty(f)&&u.watchOneValue(f,n,t,i,r)};this.watchOneValue=function(i,u,f,e,o){var s=n.computed({read:function(){var a,l,n=e.watch[i],s=h(f[i]),c=e.parent?[o]:[];t.isArray(n)?n=u[s?n[0]:n[1]]:"string"==typeof n?n=u[n]:l=!0;n&&f[i]!==r&&(l?c.push(s,f):(a=n.apply(u,c),c.push(s)),(l||a!==s)&&n.apply(u,c))},disposeWhenNodeIsRemoved:o}).extend({throttle:f.throttle||0===f.throttle?f.throttle:1});n.isObservable(f[i])||s.dispose()};this.handleEvents=function(n,t,i,r,f){var o,e,s=t.events;if(s)for(o in s)s.hasOwnProperty(o)&&(e=s[o],"string"==typeof e&&(e={value:e,writeTo:e}),u.handleOneEvent(o,e,n,i,r,t.childProp,f))};this.handleOneEvent=function(t,i,r,u,f,e,o){var s="function"==typeof i?i:r[i.call];"function"==typeof i?s=s.bind(o.$data,r):i.call&&"function"==typeof r[i.call]?s=r[i.call].bind(o.$data,o.$data):i.writeTo&&n.isWriteableObservable(r[i.writeTo])&&(s=function(n){var t,f;e&&n[e]&&n[e]!==u||(t=i.value,f="string"==typeof t&&this[t]?this[t](e&&u):t,r[i.writeTo](f))});s&&f.bind(t,s)}};n.kendo.bindingFactory=new n.kendo.BindingFactory;n.kendo.setDataSource=function(t,r,u){var f,e;return r instanceof i.data.DataSource?(t.setDataSource(r),void 0):(u&&u.useKOTemplates||(f=n.mapping&&r&&r.__ko_mapping__,e=r&&f?n.mapping.toJS(r):n.toJS(r)),t.dataSource.data(e||r),void 0)},function(){var n=i.data.ObservableArray.fn.wrap;i.data.ObservableArray.fn.wrap=function(t){var i=n.apply(this,arguments);return i._raw=function(){return t},i}}();var l=function(t){return function(i){i&&(n.utils.extend(this.options[t],i),this.redraw(),this.value(.001+this.value()))}},d=function(n,i){n?this.open("string"==typeof i.target?t(h(i.target)):i.target):this.element.parent().is(":visible")&&this.close()},u=n.kendo.bindingFactory.createBinding.bind(n.kendo.bindingFactory),p="clicked",s="close",g="collapse",a="data",e="enable",nt="expand",v="expanded",ot="error",st="info",o="isOpen",w="max",b="min",c="open",it="search",rt="select",ut="selected",ft="size",ht="success",et="title",f="value",tt="values",ct="warning";u({name:"kendoAutoComplete",events:{change:f,open:{writeTo:o,value:!0},close:{writeTo:o,value:!1}},watch:{enabled:e,search:[it,s],data:function(t){n.kendo.setDataSource(this,t)},value:f}});u({name:"kendoButton",defaultOption:p,events:{click:{call:p}},watch:{enabled:e}});u({name:"kendoCalendar",defaultOption:f,events:{change:f},watch:{max:w,min:b,value:f}});u({name:"kendoColorPicker",events:{change:f,open:{writeTo:o,value:!0},close:{writeTo:o,value:!1}},watch:{enabled:e,value:f,color:f,palette:"palette"}});u({name:"kendoComboBox",events:{change:f,open:{writeTo:o,value:!0},close:{writeTo:o,value:!1}},watch:{enabled:e,isOpen:[c,s],data:function(t){n.kendo.setDataSource(this,t)},value:f}});u({name:"kendoDatePicker",defaultOption:f,events:{change:f,open:{writeTo:o,value:!0},close:{writeTo:o,value:!1}},watch:{enabled:e,max:w,min:b,value:f,isOpen:[c,s]}});u({name:"kendoDateTimePicker",defaultOption:f,events:{change:f,open:{writeTo:o,value:!0},close:{writeTo:o,value:!1}},watch:{enabled:e,max:w,min:b,value:f,isOpen:[c,s]}});u({name:"kendoDropDownList",events:{change:f,open:{writeTo:o,value:!0},close:{writeTo:o,value:!1}},watch:{enabled:e,isOpen:[c,s],data:function(t){n.kendo.setDataSource(this,t);t.length&&this.options.optionLabel&&this.select()<0&&this.select(0)},value:f}});u({name:"kendoEditor",defaultOption:f,events:{change:f},watch:{enabled:e,value:f}});u({name:"kendoGantt",defaultOption:a,watch:{data:function(t){n.kendo.setDataSource(this,t)}}});u({name:"kendoGrid",defaultOption:a,watch:{data:function(t,i){n.kendo.setDataSource(this,t,i)}},templates:["rowTemplate","altRowTemplate"]});u({name:"kendoListView",defaultOption:a,watch:{data:function(t,i){n.kendo.setDataSource(this,t,i)}},templates:["template"]});u({name:"kendoPager",defaultOption:a,watch:{data:function(t,i){n.kendo.setDataSource(this,t,i)},page:"page"},templates:["selectTemplate","linkTemplate"]});u({name:"kendoMaskedTextBox",defaultOption:f,events:{change:f},watch:{enabled:e,isReadOnly:"readonly",value:f}});u({name:"kendoMap",events:{zoomEnd:function(t,i){n.isWriteableObservable(t.zoom)&&t.zoom(i.sender.zoom())},panEnd:function(t,i){var r;n.isWriteableObservable(t.center)&&(r=i.sender.center(),t.center([r.lat,r.lng]))}},watch:{center:"center",zoom:"zoom"}});u({name:"kendoMenu",async:!0});u({name:"kendoMenuItem",parent:"kendoMenu",watch:{enabled:e,isOpen:[c,s]},async:!0});u({name:"kendoMobileActionSheet",events:{open:{writeTo:o,value:!0},close:{writeTo:o,value:!1}},watch:{isOpen:d},async:!0});u({name:"kendoMobileButton",defaultOption:p,events:{click:{call:p}},watch:{enabled:e}});u({name:"kendoMobileButtonGroup",events:{select:function(t,i){n.isWriteableObservable(t.selectedIndex)&&t.selectedIndex(i.sender.current().index())}},watch:{enabled:e,selectedIndex:rt}});u({name:"kendoMobileDrawer",events:{show:{writeTo:o,value:!0},hide:{writeTo:o,value:!1}},watch:{isOpen:function(n){this[n?"show":"hide"]()}},async:!0});u({name:"kendoMobileListView",defaultOption:a,events:{click:{call:p}},watch:{data:function(t,i){n.kendo.setDataSource(this,t,i)}},templates:["template"]});u({name:"kendoMobileModalView",events:{open:{writeTo:o,value:!0},close:{writeTo:o,value:!1}},watch:{isOpen:d},async:!0});u({name:"kendoMobileNavBar",watch:{title:et}});u({name:"kendoMobilePopOver",events:{open:{writeTo:o,value:!0},close:{writeTo:o,value:!1}},watch:{isOpen:d},async:!0});u({name:"kendoMobileScroller",events:{pull:function(n,t){var i=t.sender.pullHandled.bind(t.sender);"function"==typeof n.pulled&&n.pulled.call(this,this,t,i)}},watch:{enabled:[e,"disable"]}});u({name:"kendoMobileScrollView",events:{change:function(t,i){(i.page||0===i.page)&&n.isWriteableObservable(t.currentIndex)&&t.currentIndex(i.page)}},watch:{currentIndex:"scrollTo",data:function(t){n.kendo.setDataSource(this,t)}}});u({name:"kendoMobileSwitch",events:{change:function(t,i){n.isWriteableObservable(t.checked)&&t.checked(i.checked)}},watch:{enabled:e,checked:"check"}});u({name:"kendoMobileTabStrip",events:{select:function(t,i){n.isWriteableObservable(t.selectedIndex)&&t.selectedIndex(i.item.index())}},watch:{selectedIndex:function(n){(n||0===n)&&this.switchTo(n)}}});u({name:"kendoMultiSelect",events:{change:f,open:{writeTo:o,value:!0},close:{writeTo:o,value:!1}},watch:{enabled:e,search:[it,s],data:function(t){n.kendo.setDataSource(this,t)},value:function(n){this.dataSource.filter({});this.value(n)}}});y=function(n,t){t||0===t?this.show(t,n):this.hide()};u({name:"kendoNotification",watch:{error:function(n){y.call(this,ot,n)},info:function(n){y.call(this,st,n)},success:function(n){y.call(this,ht,n)},warning:function(n){y.call(this,ct,n)}}});u({name:"kendoNumericTextBox",defaultOption:f,events:{change:f},watch:{enabled:e,value:f,max:function(n){this.options.max=n;var t=this.value();(t||0===t)&&t>n&&this.value(n)},min:function(n){this.options.min=n;var t=this.value();(t||0===t)&&n>t&&this.value(n)}}});u({name:"kendoPanelBar",async:!0});u({name:"kendoPanelItem",parent:"kendoPanelBar",watch:{enabled:e,expanded:[nt,g],selected:[rt]},childProp:"item",events:{expand:{writeTo:v,value:!0},collapse:{writeTo:v,value:!1},select:{writeTo:ut,value:f}},async:!0});u({name:"kendoPivotGrid",watch:{data:function(t){n.kendo.setDataSource(this,t)}}});u({name:"kendoProgressBar",defaultOption:f,events:{change:f},watch:{enabled:e,value:f}});u({name:"kendoRangeSlider",defaultOption:tt,events:{change:tt},watch:{values:tt,enabled:e}});k=function(t){return function(i,r){var e=h(i.data),f=h(i.idField)||"id",u=n.utils.arrayFirst(e,function(n){return h(n[f])===r.event[f]}),o=function(t){var i,f,r;for(i in u)t.hasOwnProperty(i)&&u.hasOwnProperty(i)&&(f=t[i],r=u[i],n.isWriteableObservable(r)&&r(f))};u&&t(i,r,u,o)}};u({name:"kendoScheduler",events:{moveEnd:k(function(n,t,i,r){r(t);r(t.resources)}),save:k(function(n,t,i,r){r(t.event)}),remove:k(function(n,t,i){n.data.remove(i)})},watch:{data:function(t,i){n.kendo.setDataSource(this,t,i)},date:"date"},async:!0});u({name:"kendoSlider",defaultOption:f,events:{change:f},watch:{value:f,enabled:e}});u({name:"kendoSortable",defaultOption:a,events:{end:function(t,i){var r="__ko_kendo_sortable_data__",u="receive"!==i.action?n.dataFor(i.item[0]):i.draggableEvent[r],e=t.data,f=t.data;("sort"===i.action||"remove"===i.action)&&(f.splice(i.oldIndex,1),"remove"===i.action&&(i.draggableEvent[r]=u));("sort"===i.action||"receive"===i.action)&&(f.splice(i.newIndex,0,u),delete i.draggableEvent[r],i.sender._cancel());e.valueHasMutated()}}});u({name:"kendoSplitter",async:!0});u({name:"kendoSplitterPane",parent:"kendoSplitter",watch:{max:w,min:b,size:ft,expanded:[nt,g]},childProp:"pane",events:{collapse:{writeTo:v,value:!1},expand:{writeTo:v,value:!0},resize:ft},async:!0});u({name:"kendoTabStrip",async:!0});u({name:"kendoTab",parent:"kendoTabStrip",watch:{enabled:e},childProp:"item",async:!0});u({name:"kendoToolBar"});u({name:"kendoTooltip",events:{},watch:{content:function(n){this.options.content=n;this.refresh()},filter:"filter"}});u({name:"kendoTimePicker",defaultOption:f,events:{change:f},watch:{max:w,min:b,value:f,enabled:e,isOpen:[c,s]}});u({name:"kendoTreeMap",watch:{data:function(t){n.kendo.setDataSource(this,t)}}});u({name:"kendoTreeView",watch:{data:function(t,i){n.kendo.setDataSource(this,t,i)}},events:{change:function(t,i){if(n.isWriteableObservable(t.value)){var r=i.sender;t.value(r.dataItem(r.select()))}}},async:!0});u({name:"kendoTreeItem",parent:"kendoTreeView",watch:{enabled:e,expanded:[nt,g],selected:function(n,t){t?this.select(n):this.select()[0]==n&&this.select(null)}},childProp:"node",events:{collapse:{writeTo:v,value:!1},expand:{writeTo:v,value:!0},select:{writeTo:ut,value:!0}},async:!0});u({name:"kendoUpload",watch:{enabled:e}});u({name:"kendoWindow",events:{open:{writeTo:o,value:!0},close:{writeTo:o,value:!1}},watch:{content:"content",title:et,isOpen:[c,s]},async:!0});u({name:"kendoBarcode",watch:{value:f}});u({name:"kendoChart",watch:{data:function(t){n.kendo.setDataSource(this,t)}}});u({name:"kendoLinearGauge",defaultOption:f,watch:{value:f,gaugeArea:l("gaugeArea"),pointer:l("pointer"),scale:l("scale")}});u({name:"kendoQRCode",watch:{value:f}});u({name:"kendoRadialGauge",defaultOption:f,watch:{value:f,gaugeArea:l("gaugeArea"),pointer:l("pointer"),scale:l("scale")}});u({name:"kendoSparkline",watch:{data:function(t){n.kendo.setDataSource(this,t)}}});u({name:"kendoStockChart",watch:{data:function(t){n.kendo.setDataSource(this,t)}}})});!function(n){"function"==typeof define&&define.amd?define(["kendo.core.min"],n):n()}(function(){!function(){kendo.cultures.en={name:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{name:"",abbr:"",pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM d, yyyy",F:"dddd, MMMM d, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM d",M:"MMMM d",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM yyyy",Y:"MMMM yyyy"},"/":"/",":":":",firstDay:0}}}}(this)});!function(n){"function"==typeof define&&define.amd?define(["kendo.core.min"],n):n()}(function(){!function(){kendo.cultures["fi-FI"]={name:"fi-FI",numberFormat:{pattern:["-n"],decimals:2,",":"",".":",",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":"",".":",",groupSize:[3],symbol:"%"},currency:{name:"Euro",abbr:"EUR",pattern:["-n $","n $"],decimals:2,",":"",".":",",groupSize:[3],symbol:""}},calendars:{standard:{days:{names:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],namesAbbr:["su","ma","ti","ke","to","pe","la"],namesShort:["su","ma","ti","ke","to","pe","la"]},months:{names:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","keskuu","heinkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],namesAbbr:["tammi","helmi","maalis","huhti","touko","kes","hein","elo","syys","loka","marras","joulu"]},AM:["ap.","ap.","AP."],PM:["ip.","ip.","IP."],patterns:{d:"d.M.yyyy",D:"dddd d. MMMM yyyy",F:"dddd d. MMMM yyyy H.mm.ss",g:"d.M.yyyy H.mm",G:"d.M.yyyy H.mm.ss",m:"d. MMMM",M:"d. MMMM",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"H.mm",T:"H.mm.ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM yyyy",Y:"MMMM yyyy"},"/":".",":":".",firstDay:1}}}}(this)}),function(){var n;window.AmCharts?n=window.AmCharts:(n={},window.AmCharts=n,n.themes={},n.maps={},n.inheriting={},n.charts=[],n.onReadyArray=[],n.useUTC=!1,n.updateRate=60,n.uid=0,n.lang={},n.translations={},n.mapTranslations={},n.windows={},n.initHandlers=[],n.amString="am",n.pmString="pm");n.Class=function(t){var i=function(){arguments[0]!==n.inheriting&&(this.events={},this.construct.apply(this,arguments))},r;t.inherits?(i.prototype=new t.inherits(n.inheriting),i.base=t.inherits.prototype,delete t.inherits):(i.prototype.createEvents=function(){for(var n=0;n<arguments.length;n++)this.events[arguments[n]]=[]},i.prototype.listenTo=function(n,t,i){this.removeListener(n,t,i);n.events[t].push({handler:i,scope:this})},i.prototype.addListener=function(n,t,i){this.removeListener(this,n,t);n&&this.events[n]&&this.events[n].push({handler:t,scope:i})},i.prototype.removeListener=function(n,t,i){if(n&&n.events&&(n=n.events[t]))for(t=n.length-1;0<=t;t--)n[t].handler===i&&n.splice(t,1)},i.prototype.fire=function(n){for(var t,r=this.events[n.type],i=0;i<r.length;i++)t=r[i],t.handler.call(t.scope,n)});for(r in t)i.prototype[r]=t[r];return i};n.addChart=function(t){window.requestAnimationFrame?n.animationRequested||(n.animationRequested=!0,window.requestAnimationFrame(n.update)):n.updateInt||(n.updateInt=setInterval(function(){n.update()},Math.round(1e3/n.updateRate)));n.charts.push(t)};n.removeChart=function(t){for(var i=n.charts,r=i.length-1;0<=r;r--)i[r]==t&&i.splice(r,1);0===i.length&&(n.requestAnimation&&(window.cancelAnimationFrame(n.requestAnimation),n.animationRequested=!1),n.updateInt&&(clearInterval(n.updateInt),n.updateInt=NaN))};n.isModern=!0;n.getIEVersion=function(){var n=0,t,i;return"Microsoft Internet Explorer"==navigator.appName&&(t=navigator.userAgent,i=/MSIE ([0-9]{1,}[.0-9]{0,})/,null!==i.exec(t)&&(n=parseFloat(RegExp.$1))),n};n.applyLang=function(t,i){var r=n.translations;i.dayNames=n.extend({},n.dayNames);i.shortDayNames=n.extend({},n.shortDayNames);i.monthNames=n.extend({},n.monthNames);i.shortMonthNames=n.extend({},n.shortMonthNames);i.amString="am";i.pmString="pm";r&&(r=r[t])&&(n.lang=r,i.langObj=r,r.monthNames&&(i.dayNames=n.extend({},r.dayNames),i.shortDayNames=n.extend({},r.shortDayNames),i.monthNames=n.extend({},r.monthNames),i.shortMonthNames=n.extend({},r.shortMonthNames)),r.am&&(i.amString=r.am),r.pm&&(i.pmString=r.pm));n.amString=i.amString;n.pmString=i.pmString};n.IEversion=n.getIEVersion();9>n.IEversion&&0<n.IEversion&&(n.isModern=!1,n.isIE=!0);n.dx=0;n.dy=0;(document.addEventListener||window.opera)&&(n.isNN=!0,n.isIE=!1,n.dx=.5,n.dy=.5);document.attachEvent&&(n.isNN=!1,n.isIE=!0,n.isModern||(n.dx=0,n.dy=0));window.chrome&&(n.chrome=!0);n.handleMouseUp=function(t){for(var i,u=n.charts,r=0;r<u.length;r++)i=u[r],i&&i.handleReleaseOutside&&i.handleReleaseOutside(t)};n.handleMouseMove=function(t){for(var i,u=n.charts,r=0;r<u.length;r++)i=u[r],i&&i.handleMouseMove&&i.handleMouseMove(t)};n.handleWheel=function(t){for(var i,u=n.charts,r=0;r<u.length;r++)if(i=u[r],i&&i.mouseIsOver){(i.mouseWheelScrollEnabled||i.mouseWheelZoomEnabled)&&i.handleWheel&&i.handleWheel(t);break}};n.resetMouseOver=function(){for(var t,r=n.charts,i=0;i<r.length;i++)t=r[i],t&&(t.mouseIsOver=!1)};n.ready=function(t){n.onReadyArray.push(t)};n.handleLoad=function(){var i,t,r;for(n.isReady=!0,i=n.onReadyArray,t=0;t<i.length;t++)r=i[t],isNaN(n.processDelay)?r():setTimeout(r,n.processDelay*t)};n.addInitHandler=function(t,i){n.initHandlers.push({method:t,types:i})};n.callInitHandler=function(t){var u=n.initHandlers,r,i;if(n.initHandlers)for(r=0;r<u.length;r++)i=u[r],i.types?n.isInArray(i.types,t.type)&&i.method(t):i.method(t)};n.getUniqueId=function(){return n.uid++,"AmChartsEl-"+n.uid};n.isNN&&(document.addEventListener("mousemove",n.handleMouseMove),document.addEventListener("mouseup",n.handleMouseUp,!0),window.addEventListener("load",n.handleLoad,!0),window.addEventListener("DOMMouseScroll",n.handleWheel,!0),document.addEventListener("mousewheel",n.handleWheel,!0));n.isIE&&(document.attachEvent("onmousemove",n.handleMouseMove),document.attachEvent("onmouseup",n.handleMouseUp),window.attachEvent("onload",n.handleLoad),document.attachEvent("onmousewheel",n.handleWheel));n.clear=function(){var i=n.charts,t;if(i)for(t=i.length-1;0<=t;t--)i[t].clear();n.updateInt&&clearInterval(n.updateInt);n.requestAnimation&&window.cancelAnimationFrame(n.requestAnimation);n.charts=[];n.isNN&&(document.removeEventListener("mousemove",n.handleMouseMove,!0),document.removeEventListener("mouseup",n.handleMouseUp,!0),window.removeEventListener("load",n.handleLoad,!0),window.removeEventListener("DOMMouseScroll",n.handleWheel,!0),document.removeEventListener("mousewheel",n.handleWheel,!0));n.isIE&&(document.detachEvent("onmousemove",n.handleMouseMove),document.detachEvent("onmouseup",n.handleMouseUp),window.detachEvent("onload",n.handleLoad))};n.makeChart=function(t,i,r){var e=i.type,f=i.theme,u;n.isString(f)&&(f=n.themes[f],i.theme=f);switch(e){case"serial":u=new n.AmSerialChart(f);break;case"xy":u=new n.AmXYChart(f);break;case"pie":u=new n.AmPieChart(f);break;case"radar":u=new n.AmRadarChart(f);break;case"gauge":u=new n.AmAngularGauge(f);break;case"funnel":u=new n.AmFunnelChart(f);break;case"map":u=new n.AmMap(f);break;case"stock":u=new n.AmStockChart(f);break;case"gantt":u=new n.AmGanttChart(f)}return n.extend(u,i),n.isReady?isNaN(r)?u.write(t):setTimeout(function(){n.realWrite(u,t)},r):n.ready(function(){isNaN(r)?u.write(t):setTimeout(function(){n.realWrite(u,t)},r)}),u};n.realWrite=function(n,t){n.write(t)};n.updateCount=0;n.validateAt=Math.round(n.updateRate/10);n.update=function(){var i=n.charts,r,t;if(n.updateCount++,r=!1,n.updateCount==n.validateAt&&(r=!0,n.updateCount=0),i)for(t=i.length-1;0<=t;t--)i[t].update&&i[t].update(),r&&(i[t].autoResize?i[t].validateSize&&i[t].validateSize():i[t].premeasure&&i[t].premeasure());window.requestAnimationFrame&&(n.requestAnimation=window.requestAnimationFrame(n.update))};n.bezierX=3;n.bezierY=6;"complete"==document.readyState&&n.handleLoad()}(),function(){var n=window.AmCharts;n.toBoolean=function(n,t){if(void 0===n)return t;switch(String(n).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return!!n}};n.removeFromArray=function(n,t){var i;if(void 0!==t&&void 0!==n)for(i=n.length-1;0<=i;i--)n[i]==t&&n.splice(i,1)};n.getPath=function(){var t=document.getElementsByTagName("script"),n,i;if(t)for(n=0;n<t.length;n++)if(i=t[n].src,-1!==i.search(/\/(amcharts|ammap)\.js/))return i.replace(/\/(amcharts|ammap)\.js.*/,"/")};n.normalizeUrl=function(n){return""!==n&&-1===n.search(/\/$/)?n+"/":n};n.isAbsolute=function(n){return 0===n.search(/^http[s]?:|^\//)};n.isInArray=function(n,t){for(var i=0;i<n.length;i++)if(n[i]==t)return!0;return!1};n.getDecimals=function(n){var t=0;return isNaN(n)||(n=String(n),-1!=n.indexOf("e-")?t=Number(n.split("-")[1]):-1!=n.indexOf(".")&&(t=n.split(".")[1].length)),t};n.wordwrap=function(t,i,r,u){var o,e,f,s;if(t+="",1>i)return t;for(o=-1,t=(s=t.split(/\r\n|\n|\r/)).length;++o<t;s[o]+=f){for(f=s[o],s[o]="";f.length>i;s[o]+=n.trim(f.slice(0,e))+((f=f.slice(e)).length?r:""))e=2==u||(e=f.slice(0,i+1).match(/\S*(\s)?$/))[1]?i:e.input.length-e[0].length||1==u&&i||e.input.length+(e=f.slice(i).match(/^\S*/))[0].length;f=n.trim(f)}return s.join(r)};n.trim=function(n){return n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};n.wrappedText=function(t,i,r,u,f,e,o,s){var h=n.text(t,i,r,u,f,e,o),c,l;return h&&(c=h.getBBox(),c.width>s&&(l="\n",n.isModern||(l="<br>"),s=Math.floor(s/(c.width/i.length)),2<s&&(s-=2),i=n.wordwrap(i,s,l,!0),h.remove(),h=n.text(t,i,r,u,f,e,o))),h};n.getStyle=function(n,t){var i="";if(document.defaultView&&document.defaultView.getComputedStyle)try{i=document.defaultView.getComputedStyle(n,"").getPropertyValue(t)}catch(r){}else n.currentStyle&&(t=t.replace(/\-(\w)/g,function(n,t){return t.toUpperCase()}),i=n.currentStyle[t]);return i};n.removePx=function(n){if(void 0!==n)return Number(n.substring(0,n.length-2))};n.getURL=function(t,i){if(t)if("_self"!=i&&i)if("_top"==i&&window.top)window.top.location.href=t;else if("_parent"==i&&window.parent)window.parent.location.href=t;else if("_blank"==i)window.open(t);else{var r=document.getElementsByName(i)[0];r?r.src=t:(r=n.windows[i])?r.opener&&!r.opener.closed?r.location.href=t:n.windows[i]=window.open(t):n.windows[i]=window.open(t)}else window.location.href=t};n.ifArray=function(n){return n&&"object"==typeof n&&0<n.length?!0:!1};n.callMethod=function(n,t){for(var i,f,r,u,e=0;e<t.length;e++)if(i=t[e],i&&(i[n]&&i[n](),f=i.length,0<f))for(r=0;r<f;r++)u=i[r],u&&u[n]&&u[n]()};n.toNumber=function(n){return"number"==typeof n?n:Number(String(n).replace(/[^0-9\-.]+/g,""))};n.toColor=function(n){var t,i;if(""!==n&&void 0!==n)if(-1!=n.indexOf(","))for(n=n.split(","),t=0;t<n.length;t++)i=n[t].substring(n[t].length-6,n[t].length),n[t]="#"+i;else n=n.substring(n.length-6,n.length),n="#"+n;return n};n.toCoordinate=function(n,t,i){var r;return void 0!==n&&(n=String(n),i&&i<t&&(t=i),r=Number(n),-1!=n.indexOf("!")&&(r=t-Number(n.substr(1))),-1!=n.indexOf("%")&&(r=t*Number(n.substr(0,n.length-1))/100)),r};n.fitToBounds=function(n,t,i){return n<t&&(n=t),n>i&&(n=i),n};n.isDefined=function(n){return void 0===n?!1:!0};n.stripNumbers=function(n){return n.replace(/[0-9]+/g,"")};n.roundTo=function(n,t){if(0>t)return n;var i=Math.pow(10,t);return Math.round(n*i)/i};n.toFixed=function(n,t){var i=String(Math.round(n*Math.pow(10,t))),r,u;if(0<t){if(r=i.length,r<t)for(u=0;u<t-r;u++)i="0"+i;return r=i.substring(0,i.length-t),""===r&&(r=0),r+"."+i.substring(i.length-t,i.length)}return String(i)};n.formatDuration=function(t,i,r,u,f,e){var s=n.intervals,h=e.decimalSeparator,o;if(t>=s[i].contains)return o=t-Math.floor(t/s[i].contains)*s[i].contains,"ss"==i?(o=n.formatNumber(o,e),1==o.split(h)[0].length&&(o="0"+o)):o=n.roundTo(o,e.precision),("mm"==i||"hh"==i)&&10>o&&(o="0"+o),r=o+""+u[i]+""+r,t=Math.floor(t/s[i].contains),i=s[i].nextInterval,n.formatDuration(t,i,r,u,f,e);if("ss"==i&&(t=n.formatNumber(t,e),1==t.split(h)[0].length&&(t="0"+t)),("mm"==i||"hh"==i)&&10>t&&(t="0"+t),r=t+""+u[i]+""+r,s[f].count>s[i].count)for(t=s[i].count;t<s[f].count;t++)i=s[i].nextInterval,"ss"==i||"mm"==i||"hh"==i?r="00"+u[i]+""+r:"DD"==i&&(r="0"+u[i]+""+r);return":"==r.charAt(r.length-1)&&(r=r.substring(0,r.length-1)),r};n.formatNumber=function(t,i,r,u,f){var c,l,e,h,s,o;if(t=n.roundTo(t,i.precision),isNaN(r)&&(r=i.precision),c=i.decimalSeparator,i=i.thousandsSeparator,l=0>t?"-":"",t=Math.abs(t),h=String(t),s=!1,-1!=h.indexOf("e")&&(s=!0),0<=r&&!s&&(h=n.toFixed(t,r)),e="",s)e=h;else{for(h=h.split("."),s=String(h[0]),o=s.length;0<=o;o-=3)e=o!=s.length?0!==o?s.substring(o-3,o)+i+e:s.substring(o-3,o)+e:s.substring(o-3,o);void 0!==h[1]&&(e=e+c+h[1]);void 0!==r&&0<r&&"0"!=e&&(e=n.addZeroes(e,c,r))}return e=l+e,""===l&&!0===u&&0!==t&&(e="+"+e),!0===f&&(e+="%"),e};n.addZeroes=function(t,i,r){return t=t.split(i),void 0===t[1]&&0<r&&(t[1]="0"),t[1].length<r?(t[1]+="0",n.addZeroes(t[0]+i+t[1],i,r)):void 0!==t[1]?t[0]+i+t[1]:t[0]};n.scientificToNormal=function(n){var t,i,r;if(n=String(n).split("e"),"-"==n[1].substr(0,1)){for(t="0.",i=0;i<Math.abs(Number(n[1]))-1;i++)t+="0";t+=n[0].split(".").join("")}else for(r=0,t=n[0].split("."),t[1]&&(r=t[1].length),t=n[0].split(".").join(""),i=0;i<Math.abs(Number(n[1]))-r;i++)t+="0";return t};n.toScientific=function(n,t){if(0===n)return"0";var r=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),i=String(i).split(".").join(t);return String(i)+"e"+r};n.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)};n.hitTest=function(t,i,r){var u=!1,e=t.x,o=t.x+t.width,s=t.y,h=t.y+t.height,f=n.isInRectangle;return u||(u=f(e,s,i)),u||(u=f(e,h,i)),u||(u=f(o,s,i)),u||(u=f(o,h,i)),u||!0===r||(u=n.hitTest(i,t,!0)),u};n.isInRectangle=function(n,t,i){return n>=i.x-5&&n<=i.x+i.width+5&&t>=i.y-5&&t<=i.y+i.height+5?!0:!1};n.isPercents=function(n){if(-1!=String(n).indexOf("%"))return!0};n.formatValue=function(t,i,r,u,f,e,o,s){var c,l,h;if(i)for(void 0===f&&(f=""),c=0;c<r.length;c++)l=r[c],h=i[l],void 0!==h&&(h=e?n.addPrefix(h,s,o,u):n.formatNumber(h,u),t=t.replace(new RegExp("\\[\\["+f+""+l+"\\]\\]","g"),h));return t};n.formatDataContextValue=function(n,t){var u,r,i;if(n)for(u=n.match(/\[\[.*?\]\]/g),r=0;r<u.length;r++)i=u[r],i=i.substr(2,i.length-4),void 0!==t[i]&&(n=n.replace(new RegExp("\\[\\["+i+"\\]\\]","g"),t[i]));return n};n.massReplace=function(n,t){var i,r;for(i in t)t.hasOwnProperty(i)&&(r=t[i],void 0===r&&(r=""),n=n.replace(i,r));return n};n.cleanFromEmpty=function(n){return n.replace(/\[\[[^\]]*\]\]/g,"")};n.addPrefix=function(t,i,r,u,f){var h=n.formatNumber(t,u),c="",e,o,s;if(0===t)return"0";if(0>t&&(c="-"),t=Math.abs(t),1<t){for(e=i.length-1;-1<e;e--)if(t>=i[e].number&&(o=t/i[e].number,s=Number(u.precision),1>s&&(s=1),r=n.roundTo(o,s),s=n.formatNumber(r,{precision:-1,decimalSeparator:u.decimalSeparator,thousandsSeparator:u.thousandsSeparator}),!f||o==r)){h=c+""+s+""+i[e].prefix;break}}else for(e=0;e<r.length;e++)if(t<=r[e].number){o=t/r[e].number;s=Math.abs(Math.floor(Math.log(o)*Math.LOG10E));o=n.roundTo(o,s);h=c+""+o+""+r[e].prefix;break}return h};n.remove=function(n){n&&n.remove()};n.getEffect=function(n){return">"==n&&(n="easeOutSine"),"<"==n&&(n="easeInSine"),"elastic"==n&&(n="easeOutElastic"),n};n.getObjById=function(n,t){for(var u,i,r=0;r<n.length;r++)if(i=n[r],i.id==t){u=i;break}return u};n.applyTheme=function(t,i,r){i||(i=n.theme);try{i=JSON.parse(JSON.stringify(i))}catch(u){}i&&i[r]&&n.extend(t,i[r])};n.isString=function(n){return"string"==typeof n?!0:!1};n.extend=function(n,t,i){var r;n||(n={});for(r in t)i?n.hasOwnProperty(r)||(n[r]=t[r]):n[r]=t[r];return n};n.copyProperties=function(n,t){for(var i in n)n.hasOwnProperty(i)&&"events"!=i&&void 0!==n[i]&&"function"!=typeof n[i]&&"cname"!=i&&(t[i]=n[i])};n.processObject=function(t,i,r,u){if(!1==t instanceof i&&(t=u?n.extend(new i(r),t):n.extend(t,new i(r),!0),t.listeners))for(var f in t.listeners)i=t.listeners[f],t.addListener(i.event,i.method);return t};n.fixNewLines=function(n){var t=RegExp("\\n","g");return n&&(n=n.replace(t,"<br />")),n};n.fixBrakes=function(t){if(n.isModern){var i=RegExp("<br>","g");t&&(t=t.replace(i,"\n"))}else t=n.fixNewLines(t);return t};n.deleteObject=function(t,i){if(t&&((void 0===i||null===i)&&(i=20),0!==i))if("[object Array]"===Object.prototype.toString.call(t))for(var r=0;r<t.length;r++)n.deleteObject(t[r],i-1),t[r]=null;else if(t&&!t.tagName)try{for(r in t.theme=null,t)t[r]&&("object"==typeof t[r]&&n.deleteObject(t[r],i-1),"function"!=typeof t[r]&&(t[r]=null))}catch(u){}};n.bounce=function(n,t,i,r,u){return(t/=u)<1/2.75?7.5625*r*t*t+i:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+i:r*(7.5625*(t-=2.625/2.75)*t+.984375)+i};n.easeInOutQuad=function(n,t,i,r,u){return(t/=u/2,1>t)?r/2*t*t+i:(t--,-r/2*(t*(t-2)-1)+i)};n.easeInSine=function(n,t,i,r,u){return-r*Math.cos(t/u*(Math.PI/2))+r+i};n.easeOutSine=function(n,t,i,r,u){return r*Math.sin(t/u*(Math.PI/2))+i};n.easeOutElastic=function(n,t,i,r,u){n=1.70158;var f=0,e=r;return 0===t?i:1==(t/=u)?i+r:(f||(f=.3*u),e<Math.abs(r)?(e=r,n=f/4):n=f/(2*Math.PI)*Math.asin(r/e),e*Math.pow(2,-10*t)*Math.sin(2*(t*u-n)*Math.PI/f)+r+i)};n.fixStepE=function(t){t=t.toExponential(0).split("e");var i=Number(t[1]);return 9==Number(t[0])&&i++,n.generateNumber(1,i)};n.generateNumber=function(n,t){for(var i="",u=0>t?Math.abs(t)-1:Math.abs(t),r=0;r<u;r++)i+="0";return 0>t?Number("0."+i+String(n)):Number(String(n)+i)};n.setCN=function(n,t,i,r){if(n.addClassNames&&t&&(t=t.node)&&i){var u=t.getAttribute("class");n=n.classNamePrefix+"-";r&&(n="");u?t.setAttribute("class",u+" "+n+i):t.setAttribute("class",n+i)}};n.removeCN=function(n,t,i){t&&(t=t.node)&&i&&(t=t.classList)&&t.remove(n.classNamePrefix+"-"+i)};n.parseDefs=function(t,i){var r,u,f;for(r in t)if(u=typeof t[r],0<t[r].length&&"object"==u)for(f=0;f<t[r].length;f++)u=document.createElementNS(n.SVG_NS,r),i.appendChild(u),n.parseDefs(t[r][f],u);else"object"==u?(u=document.createElementNS(n.SVG_NS,r),i.appendChild(u),n.parseDefs(t[r],u)):i.setAttribute(r,t[r])}}(),function(){var n=window.AmCharts;n.AxisBase=n.Class({construct:function(t){this.createEvents("clickItem","rollOverItem","rollOutItem");this.titleDY=this.y=this.x=this.dy=this.dx=0;this.axisThickness=1;this.axisColor="#000000";this.axisAlpha=1;this.gridCount=this.tickLength=5;this.gridAlpha=.15;this.gridThickness=1;this.gridColor="#000000";this.dashLength=0;this.labelFrequency=1;this.showLastLabel=this.showFirstLabel=!0;this.fillColor="#FFFFFF";this.fillAlpha=0;this.labelsEnabled=!0;this.labelRotation=0;this.autoGridCount=!0;this.offset=0;this.guides=[];this.visible=!0;this.counter=0;this.guides=[];this.ignoreAxisWidth=this.inside=!1;this.minHorizontalGap=75;this.minVerticalGap=35;this.titleBold=!0;this.minorGridEnabled=!1;this.minorGridAlpha=.07;this.autoWrap=!1;this.titleAlign="middle";this.labelOffset=0;this.bcn="axis-";this.centerLabels=!1;this.firstDayOfWeek=1;this.centerLabelOnFullPeriod=this.markPeriodChange=this.boldPeriodBeginning=!0;this.periods=[{period:"fff",count:1},{period:"fff",count:5},{period:"fff",count:10},{period:"fff",count:50},{period:"fff",count:100},{period:"fff",count:500},{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}];this.dateFormats=[{period:"fff",format:"NN:SS.QQQ"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}];this.nextPeriod={fff:"ss",ss:"mm",mm:"hh",hh:"DD",DD:"MM",MM:"YYYY"};n.applyTheme(this,t,"AxisBase")},zoom:function(n,t){this.start=n;this.end=t;this.dataChanged=!0;this.draw()},fixAxisPosition:function(){var n=this.position;"H"==this.orientation?("left"==n&&(n="bottom"),"right"==n&&(n="top")):("bottom"==n&&(n="left"),"top"==n&&(n="right"));this.position=n},init:function(){this.createBalloon()},draw:function(){var n=this.chart,t,i;this.prevBY=this.prevBX=NaN;this.allLabels=[];this.counter=0;this.destroy();this.fixAxisPosition();this.setBalloonBounds();this.labels=[];t=n.container;i=t.set();n.gridSet.push(i);this.set=i;t=t.set();n.axesLabelsSet.push(t);this.labelsSet=t;this.axisLine=new this.axisRenderer(this);this.autoGridCount?("V"==this.orientation?(n=this.height/this.minVerticalGap,3>n&&(n=3)):n=this.width/this.minHorizontalGap,this.gridCountR=Math.max(n,1)):this.gridCountR=this.gridCount;this.axisWidth=this.axisLine.axisWidth;this.addTitle()},setOrientation:function(n){this.orientation=n?"H":"V"},addTitle:function(){var i=this.title,t,r,u;this.titleLabel=null;i&&(t=this.chart,r=this.titleColor,void 0===r&&(r=t.color),u=this.titleFontSize,isNaN(u)&&(u=t.fontSize+1),i=n.text(t.container,i,r,t.fontFamily,u,this.titleAlign,this.titleBold),n.setCN(t,i,this.bcn+"title"),this.titleLabel=i)},positionTitle:function(){var f=this.titleLabel,i,e,t,r,s;if(f){r=this.labelsSet;t={};0<r.length()?t=r.getBBox():(t.x=0,t.y=0,t.width=this.width,t.height=this.height,n.VML&&(t.y+=this.y,t.x+=this.x));r.push(f);r=t.x;s=t.y;n.VML&&(s-=this.y,r-=this.x);var v=t.width,t=t.height,h=this.width,c=this.height,o=0,l=f.getBBox().height/2,a=this.inside,u=this.titleAlign;switch(this.position){case"top":i="left"==u?-1:"right"==u?h:h/2;e=s-10-l;break;case"bottom":i="left"==u?-1:"right"==u?h:h/2;e=s+t+10+l;break;case"left":i=r-10-l;a&&(i-=5);o=-90;e=("left"==u?c+1:"right"==u?-1:c/2)+this.titleDY;break;case"right":i=r+v+10+l;a&&(i+=7);e=("left"==u?c+2:"right"==u?-2:c/2)+this.titleDY;o=-90}this.marginsChanged?(f.translate(i,e),this.tx=i,this.ty=e):f.translate(this.tx,this.ty);this.marginsChanged=!1;isNaN(this.titleRotation)||(o=this.titleRotation);0!==o&&f.rotate(o)}},pushAxisItem:function(n,t){var i=this,r=n.graphics();0<r.length()&&(t?i.labelsSet.push(r):i.set.push(r));(r=n.getLabel())&&(i.labelsSet.push(r),r.click(function(t){i.handleMouse(t,n,"clickItem")}).touchend(function(t){i.handleMouse(t,n,"clickItem")}).mouseover(function(t){i.handleMouse(t,n,"rollOverItem")}).mouseout(function(t){i.handleMouse(t,n,"rollOutItem")}))},handleMouse:function(n,t,i){this.fire({type:i,value:t.value,serialDataItem:t.serialDataItem,axis:this,target:t.label,chart:this.chart,event:n})},addGuide:function(t){for(var i=this.guides,u=!1,f=i.length,r=0;r<i.length;r++)i[r]==t&&(u=!0,f=r);t=n.processObject(t,n.Guide,this.theme);t.id||(t.id="guideAuto"+f+"_"+(new Date).getTime());u||i.push(t)},removeGuide:function(n){for(var i=this.guides,t=0;t<i.length;t++)i[t]==n&&i.splice(t,1)},handleGuideOver:function(n){clearTimeout(this.chart.hoverInt);var t=n.graphics.getBBox(),r=this.x+t.x+t.width/2,t=this.y+t.y+t.height/2,i=n.fillColor;void 0===i&&(i=n.lineColor);this.chart.showBalloon(n.balloonText,i,!0,r,t)},handleGuideOut:function(){this.chart.hideBalloon()},addEventListeners:function(n,t){var i=this;n.mouseover(function(){i.handleGuideOver(t)});n.touchstart(function(){i.handleGuideOver(t)});n.mouseout(function(){i.handleGuideOut(t)})},getBBox:function(){var t;return this.labelsSet&&(t=this.labelsSet.getBBox()),t?n.VML||(t={x:t.x+this.x,y:t.y+this.y,width:t.width,height:t.height}):t={x:0,y:0,width:0,height:0},t},destroy:function(){n.remove(this.set);n.remove(this.labelsSet);var t=this.axisLine;t&&n.remove(t.axisSet);n.remove(this.grid0)},chooseMinorFrequency:function(n){for(var t=10;0<t;t--)if(n/t==Math.round(n/t))return n/t},parseDatesDraw:function(){var h,g=this.chart,tt=this.showFirstLabel,it=this.showLastLabel,r,t="",u=n.extractPeriod(this.minPeriod),c=n.getPeriodDuration(u.period,u.count),o,v,y,l,i,b=this.firstDayOfWeek,rt=this.boldPeriodBeginning,p,nt,k,d;h=this.minorGridEnabled;var a,ut=this.gridAlpha,w,s=this.choosePeriod(0),f=s.period,s=s.count,e=n.getPeriodDuration(f,s);if(e<c&&(f=u.period,s=u.count,e=c),u=f,"WW"==u&&(u="DD"),this.stepWidth=this.getStepWidth(this.timeDifference),p=Math.ceil(this.timeDifference/e)+5,nt=o=n.resetDateToMin(new Date(this.startTime-e),f,s,b).getTime(),(u==f&&1==s&&this.centerLabelOnFullPeriod||this.autoWrap||this.centerLabels)&&(y=e*this.stepWidth,this.autoWrap&&!this.centerLabels&&(y=-y)),this.cellWidth=c*this.stepWidth,l=Math.round(o/e),c=-1,l/2==Math.round(l/2)&&(c=-2,o-=e),l=this.firstTime,k=0,d=0,h&&1<s&&(a=this.chooseMinorFrequency(s),w=n.getPeriodDuration(f,a),"DD"==f&&(w+=n.getPeriodDuration("hh")),"fff"==f&&(w=1)),0<this.gridCountR)for(p-5-c>this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),h=c;h<=p;h++){if(i=l+e*(h+Math.floor((nt-l)/e))-k,"DD"==f&&(i+=36e5),i=n.resetDateToMin(new Date(i),f,s,b).getTime(),"MM"==f&&(r=(i-o)/e,1.5<=(i-o)/e&&(i=i-(r-1)*e+n.getPeriodDuration("DD",3),i=n.resetDateToMin(new Date(i),f,1).getTime(),k+=e)),r=(i-this.startTime)*this.stepWidth,"radar"==g.type){if(r=this.axisWidth-r,0>r||r>this.axisWidth)continue}else this.rotate?"date"==this.type&&"middle"==this.gridPosition&&(d=-e*this.stepWidth/2):"date"==this.type&&(r=this.axisWidth-r);if(t=!1,this.nextPeriod[u]&&(t=this.checkPeriodChange(this.nextPeriod[u],1,i,o,u)),o=!1,t&&this.markPeriodChange?(t=this.dateFormatsObject[this.nextPeriod[u]],this.twoLineMode&&(t=this.dateFormatsObject[u]+"\n"+t,t=n.fixBrakes(t)),o=!0):t=this.dateFormatsObject[u],rt||(o=!1),this.currentDateFormat=t,t=n.formatDate(new Date(i),t,g),(h!=c||tt)&&(h!=p||it)||(t=" "),this.labelFunction&&(t=this.labelFunction(t,new Date(i),this,f,s,v).toString()),this.boldLabels&&(o=!0),v=new this.axisItemRenderer(this,r,t,!1,y,d,!1,o),this.pushAxisItem(v),v=o=i,!isNaN(a))for(r=1;r<s;r+=a)this.gridAlpha=this.minorGridAlpha,t=i+w*r,t=n.resetDateToMin(new Date(t),f,a,b).getTime(),t=new this.axisItemRenderer(this,(t-this.startTime)*this.stepWidth,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0),this.pushAxisItem(t);this.gridAlpha=ut}},choosePeriod:function(t){var r=n.getPeriodDuration(this.periods[t].period,this.periods[t].count),i=this.periods;return this.timeDifference<r&&0<t?i[t-1]:Math.ceil(this.timeDifference/r)<=this.gridCountR?i[t]:t+1<i.length?this.choosePeriod(t+1):i[t]},getStepWidth:function(n){var t;return this.startOnAxis?(t=this.axisWidth/(n-1),1==n&&(t=this.axisWidth)):t=this.axisWidth/n,t},timeZoom:function(n,t){this.startTime=n;this.endTime=t},minDuration:function(){var t=n.extractPeriod(this.minPeriod);return n.getPeriodDuration(t.period,t.count)},checkPeriodChange:function(t,i,r,u,f){r=new Date(r);var o=new Date(u),e=this.firstDayOfWeek;return u=i,"DD"==t&&(i=1),r=n.resetDateToMin(r,t,i,e).getTime(),i=n.resetDateToMin(o,t,i,e).getTime(),"DD"==t&&"hh"!=f&&r-i<n.getPeriodDuration(t,u)-n.getPeriodDuration("hh",1)?!1:r!=i?!0:!1},generateDFObject:function(){var n,t;for(this.dateFormatsObject={},n=0;n<this.dateFormats.length;n++)t=this.dateFormats[n],this.dateFormatsObject[t.period]=t.format},hideBalloon:function(){this.balloon&&this.balloon.hide&&this.balloon.hide();this.prevBY=this.prevBX=NaN},formatBalloonText:function(n){return n},showBalloon:function(n,t,i,r){var u=this.offset,f;switch(this.position){case"bottom":t=this.height+u;break;case"top":t=-u;break;case"left":n=-u;break;case"right":n=this.width+u}if(i||(i=this.currentDateFormat),"V"==this.orientation){if(0>t||t>this.height)return;if(isNaN(t)){this.hideBalloon();return}t=this.adjustBalloonCoordinate(t,r);r=this.coordinateToValue(t)}else{if(0>n||n>this.width)return;if(isNaN(n)){this.hideBalloon();return}n=this.adjustBalloonCoordinate(n,r);r=this.coordinateToValue(n)}(u=this.chart.chartCursor)&&(f=u.index);this.balloon&&void 0!==r&&this.balloon.enabled&&(this.balloonTextFunction?(("date"==this.type||!0===this.parseDates)&&(r=new Date(r)),r=this.balloonTextFunction(r)):this.balloonText?r=this.formatBalloonText(this.balloonText,f,i):isNaN(r)||(r=this.formatValue(r,i)),(n!=this.prevBX||t!=this.prevBY)&&(this.balloon.setPosition(n,t),this.prevBX=n,this.prevBY=t,r&&this.balloon.showBalloon(r)))},adjustBalloonCoordinate:function(n){return n},createBalloon:function(){var i=this.chart,t=i.chartCursor;t&&(t=t.cursorPosition,"mouse"!=t&&(this.stickBalloonToCategory=!0),"start"==t&&(this.stickBalloonToStart=!0),"ValueAxis"==this.cname&&(this.stickBalloonToCategory=!1));this.balloon&&(this.balloon.destroy&&this.balloon.destroy(),n.extend(this.balloon,i.balloon,!0))},setBalloonBounds:function(){var n=this.balloon,f;if(n){f=this.chart;n.cornerRadius=0;n.shadowAlpha=0;n.borderThickness=1;n.borderAlpha=1;n.adjustBorderColor=!1;n.showBullet=!1;this.balloon=n;n.chart=f;n.mainSet=f.plotBalloonsSet;n.pointerWidth=this.tickLength;(this.parseDates||"date"==this.type)&&(n.pointerWidth=0);n.className=this.id;f="V";"V"==this.orientation&&(f="H");this.stickBalloonToCategory||(n.animationDuration=0);var t,i,r,u,s=this.inside,e=this.width,o=this.height;switch(this.position){case"bottom":t=0;i=e;s?(r=0,u=o):(r=o,u=o+1e3);break;case"top":t=0;i=e;s?(r=0,u=o):(r=-1e3,u=0);break;case"left":r=0;u=o;s?(t=0,i=e):(t=-1e3,i=0);break;case"right":r=0;u=o;s?(t=0,i=e):(t=e,i=e+1e3)}n.drop||(n.pointerOrientation=f);n.setBounds(t,r,i,u)}}})}(),function(){var n=window.AmCharts;n.ValueAxis=n.Class({inherits:n.AxisBase,construct:function(t){this.cname="ValueAxis";this.createEvents("axisChanged","logarithmicAxisFailed","axisZoomed","axisIntZoomed");n.ValueAxis.base.construct.call(this,t);this.dataChanged=!0;this.stackType="none";this.position="left";this.unitPosition="right";this.includeAllValues=this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1;this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""};this.scrollbar=!1;this.baseValue=0;this.radarCategoriesEnabled=!0;this.axisFrequency=1;this.gridType="polygons";this.useScientificNotation=!1;this.axisTitleOffset=10;this.pointPosition="axis";this.minMaxMultiplier=1;this.logGridLimit=2;this.totalTextOffset=this.treatZeroAs=0;this.minPeriod="ss";this.relativeStart=0;this.relativeEnd=1;n.applyTheme(this,t,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1);this.totals=[];this.data=this.chart.chartData;var t=this.chart;"xy"!=t.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step"));this.recalculateToPercents&&this.recalculate();this.synchronizationMultiplier&&this.synchronizeWith?(n.isString(this.synchronizeWith)&&(this.synchronizeWith=t.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax(),0===this.start&&this.end==this.data.length-1&&isNaN(this.minZoom)&&isNaN(this.maxZoom)&&(this.fullMin=this.min,this.fullMax=this.max,"date"!=this.type&&this.strictMinMax&&(isNaN(this.minimum)||(this.fullMin=this.minimum),isNaN(this.maximum)||(this.fullMax=this.maximum)),this.logarithmic&&(this.fullMin=this.logMin,0===this.fullMin&&(this.fullMin=this.treatZeroAs)),"date"==this.type&&(this.minimumDate||(this.fullMin=this.minRR),this.maximumDate||(this.fullMax=this.maxRR),this.strictMinMax&&(this.minimumDate&&(this.fullMin=this.minimumDate.getTime()),this.maximumDate&&(this.fullMax=this.maximumDate.getTime())))))},draw:function(){var h,tt,v,k,u,c,y,d,i,e,s,it,g,w,o,b,p,rt;if(n.ValueAxis.base.draw.call(this),h=this.chart,tt=this.set,this.labelRotationR=this.labelRotation,n.setCN(h,this.set,"value-axis value-axis-"+this.id),n.setCN(h,this.labelsSet,"value-axis value-axis-"+this.id),n.setCN(h,this.axisLine.axisSet,"value-axis value-axis-"+this.id),v=this.type,"duration"==v&&(this.duration="ss"),!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1),"date"==v&&(this.logarithmic=!1,this.min=this.minRR,this.max=this.maxRR,this.reversed=!1,this.getDateMinMax()),this.logarithmic&&(k=this.treatZeroAs,u=this.getExtremes(0,this.data.length-1).min,!isNaN(this.minimum)&&this.minimum<u&&(u=this.minimum),this.logMin=u,this.minReal<u&&(this.minReal=u),isNaN(this.minReal)&&(this.minReal=u),0<k&&0===u&&(this.minReal=u=k),0>=u||0>=this.minimum)){this.fire({type:"logarithmicAxisFailed",chart:h});return}this.grid0=null;var r,t,l=h.dx,a=h.dy,k=!1,u=this.logarithmic;if(isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||Infinity==this.min||-Infinity==this.max)k=!0;else{"date"==this.type&&this.min==this.max&&(this.max+=this.minDuration(),this.min-=this.minDuration());var ut=this.labelFrequency,ft=this.showFirstLabel,et=this.showLastLabel,nt=1,f=0;if(this.minCalc=this.min,this.maxCalc=this.max,this.strictMinMax&&(isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),this.min==this.max))return;for(isNaN(this.minZoom)||(this.minReal=this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.logarithmic?(t=Math.log(this.fullMax)*Math.LOG10E-Math.log(this.fullMin)*Math.LOG10E,c=Math.log(this.max)/Math.LN10-Math.log(this.fullMin)*Math.LOG10E,this.relativeStart=n.roundTo((Math.log(this.minReal)/Math.LN10-Math.log(this.fullMin)*Math.LOG10E)/t,5),this.relativeEnd=n.roundTo(c/t,5)):(this.relativeStart=n.roundTo(n.fitToBounds((this.min-this.fullMin)/(this.fullMax-this.fullMin),0,1),5),this.relativeEnd=n.roundTo(n.fitToBounds((this.max-this.fullMin)/(this.fullMax-this.fullMin),0,1),5)),c=Math.round((this.maxCalc-this.minCalc)/this.step)+1,!0===u?(y=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/y,y>this.logGridLimit&&(c=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,f=Math.round(Math.log(this.minReal)*Math.LOG10E),c>this.gridCountR&&(nt=Math.ceil(c/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min),e=0,1>this.step&&-1<this.step&&(e=n.getDecimals(this.step)),this.integersOnly&&(e=0),e>this.maxDecCount&&(e=this.maxDecCount),d=this.precision,isNaN(d)||(e=d),isNaN(this.maxZoom)&&(this.max=n.roundTo(this.max,this.maxDecCount),this.min=n.roundTo(this.min,this.maxDecCount)),t={},t.precision=e,t.decimalSeparator=h.nf.decimalSeparator,t.thousandsSeparator=h.nf.thousandsSeparator,this.numberFormatter=t,this.exponential=!1,t=f;t<c;t+=nt)it=n.roundTo(this.step*t+this.min,e),-1!=String(it).indexOf("e")&&(this.exponential=!0);if(this.duration&&(this.maxInterval=n.getMaxInterval(this.max,this.duration)),e=this.step,it=this.minorGridAlpha,this.minorGridEnabled&&(s=this.getMinorGridStep(e,this.stepWidth*e)),this.autoGridCount||0!==this.gridCount)if("date"==v)this.generateDFObject(),this.timeDifference=this.max-this.min,this.maxTime=this.lastTime=this.max,this.startTime=this.firstTime=this.min,this.parseDatesDraw();else for(c>=this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),v=this.minCalc,u&&(c++,v=this.maxCalc-c*e),this.gridCountReal=c,t=this.startCount=f;t<c;t+=nt)if((f=e*t+v,f=n.roundTo(f,this.maxDecCount+1),!this.integersOnly||Math.round(f)==f)&&(isNaN(d)||Number(n.toFixed(f,d))==f)){if(!0===u)if(y>this.logGridLimit)f=Math.pow(10,t);else if(0>=f&&(f=v+e*t+e/2,0>=f))continue;if(i=this.formatValue(f,!1,t),Math.round(t/ut)!=t/ut&&(i=void 0),(0!==t||ft)&&(t!=c-1||et)||(i=" "),r=this.getCoordinate(f),this.rotate&&this.autoWrap&&(g=this.stepWidth*e-10),i=new this.axisItemRenderer(this,r,i,void 0,g,void 0,void 0,this.boldLabels),this.pushAxisItem(i),f==this.baseValue&&"radar"!=h.type&&(b=this.width,p=this.height,"H"==this.orientation?0<=r&&r<=b+1&&(w=[r,r,r+l],o=[p,0,a]):0<=r&&r<=p+1&&(w=[0,b,b+l],o=[r,r,r+a]),w&&(r=n.fitToBounds(2*this.gridAlpha,0,1),isNaN(this.zeroGridAlpha)||(r=this.zeroGridAlpha),r=n.line(h.container,w,o,this.gridColor,r,1,this.dashLength),r.translate(this.x,this.y),this.grid0=r,h.axesSet.push(r),r.toBack(),n.setCN(h,r,this.bcn+"zero-grid-"+this.id),n.setCN(h,r,this.bcn+"zero-grid"))),!isNaN(s)&&0<it&&t<c-1){for(r=e/s,u&&(s=e*(t+nt)+this.minCalc,s=n.roundTo(s,this.maxDecCount+1),y>this.logGridLimit&&(s=Math.pow(10,t+nt)),r=9,s=(s-f)/r),b=this.gridAlpha,this.gridAlpha=this.minorGridAlpha,p=1;p<r;p++)rt=this.getCoordinate(f+s*p),rt=new this.axisItemRenderer(this,rt,"",!1,0,0,!1,!1,0,!0),this.pushAxisItem(rt);this.gridAlpha=b}}if(y=this.guides,g=y.length,0<g){for(w=this.fillAlpha,t=this.fillAlpha=0;t<g;t++)o=y[t],l=NaN,s=o.above,isNaN(o.toValue)||(l=this.getCoordinate(o.toValue),i=new this.axisItemRenderer(this,l,"",!0,NaN,NaN,o),this.pushAxisItem(i,s)),a=NaN,isNaN(o.value)||(a=this.getCoordinate(o.value),i=new this.axisItemRenderer(this,a,o.label,!0,NaN,(l-a)/2,o),this.pushAxisItem(i,s)),isNaN(l)&&(a-=3,l=a+3),o.balloonText&&i&&(ut=i.label)&&this.addEventListeners(ut,o),isNaN(l-a)||0>a&&0>l||(l=new this.guideFillRenderer(this,a,l,o),this.pushAxisItem(l,s),s=l.graphics(),o.graphics=s,o.balloonText&&this.addEventListeners(s,o));this.fillAlpha=w}i=this.baseValue;this.min>this.baseValue&&this.max>this.baseValue&&(i=this.min);this.min<this.baseValue&&this.max<this.baseValue&&(i=this.max);u&&i<this.minReal&&(i=this.minReal);this.baseCoord=this.getCoordinate(i,!0);i={type:"axisChanged",target:this,chart:h};i.min=u?this.minReal:this.min;i.max=this.max;this.fire(i);this.axisCreated=!0}u=this.axisLine.set;i=this.labelsSet;tt.translate(this.x,this.y);i.translate(this.x,this.y);this.positionTitle();"radar"!=h.type&&u.toFront();!this.visible||k?(tt.hide(),u.hide(),i.hide()):(tt.show(),u.show(),i.show());this.axisY=this.y;this.axisX=this.x},getDateMinMax:function(){this.minimumDate&&(this.minimumDate instanceof Date||(this.minimumDate=n.getDate(this.minimumDate,this.chart.dataDateFormat,"fff")),this.min=this.minimumDate.getTime());this.maximumDate&&(this.maximumDate instanceof Date||(this.maximumDate=n.getDate(this.maximumDate,this.chart.dataDateFormat,"fff")),this.max=this.maximumDate.getTime())},formatValue:function(t,i,r){var u=this.exponential,o=this.logarithmic,f=this.numberFormatter,e=this.chart;if(f)return!0===this.logarithmic&&(u=-1!=String(t).indexOf("e")?!0:!1),this.useScientificNotation&&(u=!0),this.usePrefixes&&(u=!1),u?(r=-1==String(t).indexOf("e")?t.toExponential(15):String(t),u=r.split("e"),r=Number(u[0]),u=Number(u[1]),r=n.roundTo(r,14),i||isNaN(this.precision)||(r=n.roundTo(r,this.precision)),10==r&&(r=1,u+=1),r=r+"e"+u,0===t&&(r="0"),1==t&&(r="1")):(o&&(u=String(t).split("."),u[1]?(f.precision=u[1].length,0>r&&(f.precision=Math.abs(r)),i&&1<t&&(f.precision=0),i||isNaN(this.precision)||(f.precision=this.precision)):f.precision=-1),r=this.usePrefixes?n.addPrefix(t,e.prefixesOfBigNumbers,e.prefixesOfSmallNumbers,f,!i):n.formatNumber(t,f,f.precision)),this.duration&&(i&&(f.precision=0),r=n.formatDuration(t,this.duration,"",this.durationUnits,this.maxInterval,f)),"date"==this.type&&(r=n.formatDate(new Date(t),this.currentDateFormat,e)),this.recalculateToPercents?r+="%":(i=this.unit)&&(r="left"==this.unitPosition?i+r:r+i),this.labelFunction&&(r="date"==this.type?this.labelFunction(r,new Date(t),this).toString():this.labelFunction(t,r,this).toString()),r},getMinorGridStep:function(n,t){var f=[5,4,2],e,u,i,r;for(60>t&&f.shift(),e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),u=0;u<f.length;u++)if(i=n/f[u],r=Math.floor(Math.log(Math.abs(i))*Math.LOG10E),!(1<Math.abs(e-r)))if(1>n){if(r=Math.pow(10,-r)*i,r==Math.round(r))return i}else if(i==Math.round(i))return i},stackGraphs:function(t){var h=this.stackType,p,l;"stacked"==h&&(h="regular");"line"==h&&(h="none");"100% stacked"==h&&(h="100%");this.stackType=h;var c=[],o=[],s=[],a=[],f,y=this.chart.graphs,v,r,u,e,i,b=this.baseValue,w=!1;if(("line"==t||"step"==t||"smoothedLine"==t)&&(w=!0),w&&("regular"==h||"100%"==h))for(e=0;e<y.length;e++)u=y[e],u.stackGraph=null,u.hidden||(r=u.type,u.chart==this.chart&&u.valueAxis==this&&t==r&&u.stackable&&(v&&(u.stackGraph=v),v=u));for(u=this.start-10,v=this.end+10,e=this.data.length-1,u=n.fitToBounds(u,0,e),v=n.fitToBounds(v,0,e),i=u;i<=v;i++)for(p=0,e=0;e<y.length;e++)(u=y[e],u.hidden)?u.newStack&&(s[i]=NaN,o[i]=NaN):(r=u.type,u.chart==this.chart&&u.valueAxis==this&&t==r&&u.stackable)&&((r=this.data[i].axes[this.id].graphs[u.id],f=r.values.value,isNaN(f))?u.newStack&&(s[i]=NaN,o[i]=NaN):(l=n.getDecimals(f),p<l&&(p=l),isNaN(a[i])?a[i]=Math.abs(f):a[i]+=Math.abs(f),a[i]=n.roundTo(a[i],p),l=u.fillToGraph,w&&l&&(l=this.data[i].axes[this.id].graphs[l.id])&&(r.values.open=l.values.value),"regular"==h&&(w&&(isNaN(c[i])?(c[i]=f,r.values.close=f,r.values.open=this.baseValue):(r.values.close=isNaN(f)?c[i]:f+c[i],r.values.open=c[i],c[i]=r.values.close)),"column"==t&&(u.newStack&&(s[i]=NaN,o[i]=NaN),r.values.close=f,0>f?(r.values.close=f,isNaN(o[i])?r.values.open=b:(r.values.close+=o[i],r.values.open=o[i]),o[i]=r.values.close):(r.values.close=f,isNaN(s[i])?r.values.open=b:(r.values.close+=s[i],r.values.open=s[i]),s[i]=r.values.close)))));for(i=this.start;i<=this.end;i++)for(e=0;e<y.length;e++)(u=y[e],u.hidden)?u.newStack&&(s[i]=NaN,o[i]=NaN):(r=u.type,u.chart==this.chart&&u.valueAxis==this&&t==r&&u.stackable&&(r=this.data[i].axes[this.id].graphs[u.id],f=r.values.value,isNaN(f)||(c=f/a[i]*100,r.values.percents=c,r.values.total=a[i],u.newStack&&(s[i]=NaN,o[i]=NaN),"100%"==h&&(isNaN(o[i])&&(o[i]=0),isNaN(s[i])&&(s[i]=0),0>c?(r.values.close=n.fitToBounds(c+o[i],-100,100),r.values.open=o[i],o[i]=r.values.close):(r.values.close=n.fitToBounds(c+s[i],-100,100),r.values.open=s[i],s[i]=r.values.close)))))},recalculate:function(){for(var r=this.chart,l=r.graphs,u,f,t,e,o,h=0;h<l.length;h++)if(u=l[h],u.valueAxis==this){f="value";("candlestick"==u.type||"ohlc"==u.type)&&(f="open");var s,i,c=this.end+2,c=n.fitToBounds(this.end+1,0,this.data.length-1),e=this.start;if(0<e&&e--,i=this.start,u.compareFromStart&&(i=0),!isNaN(r.startTime)&&(t=r.categoryAxis)){var a=t.minDuration(),a=new Date(r.startTime+a/2),v=n.resetDateToMin(new Date(r.startTime),t.minPeriod).getTime();n.resetDateToMin(new Date(a),t.minPeriod).getTime()>v&&i++}for((t=r.recalculateFromDate)&&(t=n.getDate(t,r.dataDateFormat,"fff"),i=r.getClosestIndex(r.chartData,"time",t.getTime(),!0,0,r.chartData.length),c=r.chartData.length-1),t=i;t<=c&&(i=this.data[t].axes[this.id].graphs[u.id],s=i.values[f],u.recalculateValue&&(s=i.dataContext[u.valueField+u.recalculateValue]),isNaN(s));t++);for(this.recBaseValue=s,f=e;f<=c;f++){i=this.data[f].axes[this.id].graphs[u.id];i.percents={};e=i.values;for(o in e)i.percents[o]="percents"!=o?e[o]/s*100-100:e[o]}}},getMinMax:function(){for(var i=!1,u=this.chart,t=u.graphs,f,r=0;r<t.length;r++)f=t[r].type,("line"==f||"step"==f||"smoothedLine"==f)&&this.expandMinMax&&(i=!0);if(i&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++),"serial"==u.type&&(!0!==u.categoryAxis.parseDates||i||this.end<this.data.length-1&&this.end++),this.includeAllValues&&(this.start=0,this.end=this.data.length-1),i=this.minMaxMultiplier,u=this.getExtremes(this.start,this.end),this.min=u.min,this.max=u.max,this.minRR=this.min,this.maxRR=this.max,i=(this.max-this.min)*(i-1),this.min-=i,this.max+=i,i=this.guides.length,this.includeGuidesInMinMax&&0<i)for(u=0;u<i;u++)t=this.guides[u],t.toValue<this.min&&(this.min=t.toValue),t.value<this.min&&(this.min=t.value),t.toValue>this.max&&(this.max=t.toValue),t.value>this.max&&(this.max=t.value);isNaN(this.minimum)||(this.min=this.minimum);isNaN(this.maximum)||(this.max=this.maximum);"date"==this.type&&this.getDateMinMax();this.min>this.max&&(i=this.max,this.max=this.min,this.min=i);isNaN(this.minZoom)||(this.min=this.minZoom);isNaN(this.maxZoom)||(this.max=this.maxZoom);this.minCalc=this.min;this.maxCalc=this.max;this.minReal=this.min;this.maxReal=this.max;0===this.min&&0===this.max&&(this.max=9);this.min>this.max&&(this.min=this.max-1);i=this.min;u=this.max;t=this.max-this.min;r=0===t?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(t))*Math.LOG10E))/10;isNaN(this.maximum)&&(this.max=Math.ceil(this.max/r)*r+r);isNaN(this.minimum)&&(this.min=Math.floor(this.min/r)*r-r);0>this.min&&0<=i&&(this.min=0);0<this.max&&0>=u&&(this.max=0);"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100);t=this.max-this.min;r=Math.pow(10,Math.floor(Math.log(Math.abs(t))*Math.LOG10E))/10;this.step=Math.ceil(t/this.gridCountR/r)*r;t=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E));t=n.fixStepE(t);r=Math.ceil(this.step/t);5<r&&(r=10);5>=r&&2<r&&(r=5);this.step=Math.ceil(this.step/(t*r))*t*r;isNaN(this.setStep)||(this.step=this.setStep);1>t?(this.maxDecCount=Math.abs(Math.log(Math.abs(t))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=n.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0;this.min=this.step*Math.floor(this.min/this.step);this.max=this.step*Math.ceil(this.max/this.step);0>this.min&&0<=i&&(this.min=0);0<this.max&&0>=u&&(this.max=0);1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal));t=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E));0===this.min&&(this.minReal=t);0===this.min&&1<this.minReal&&(this.minReal=1);0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min);this.logarithmic&&(2<Math.log(u)*Math.LOG10E-Math.log(i)*Math.LOG10E?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E)),this.maxReal=this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(u))*Math.LOG10E))):(i=Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E))/10,Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10<i&&(this.minReal=this.min=10*i)))},getExtremes:function(n,t){for(var u,f,o,s,r,i,e,h=n;h<=t;h++){o=this.data[h].axes[this.id].graphs;for(s in o)if(o.hasOwnProperty(s)&&(r=this.chart.graphsById[s],r.includeInMinMax&&(!r.hidden||this.includeHidden)))if(isNaN(u)&&(u=Infinity),isNaN(f)&&(f=-Infinity),this.foundGraphs=!0,r=o[s].values,this.recalculateToPercents&&(r=o[s].percents),this.minMaxField)i=r[this.minMaxField],i<u&&(u=i),i>f&&(f=i);else for(e in r)r.hasOwnProperty(e)&&"percents"!=e&&"total"!=e&&"error"!=e&&(i=r[e],i<u&&(u=i),i>f&&(f=i))}return{min:u,max:f}},zoomOut:function(n){this.maxZoom=this.minZoom=NaN;this.zoomToRelativeValues(0,1,n)},zoomToRelativeValues:function(n,t,i){var r;this.reversed&&(r=n,n=1-t,t=1-r);var u=this.fullMax,r=this.fullMin,f=r+(u-r)*n,e=r+(u-r)*t;return 0<=this.minimum&&0>f&&(f=0),this.logarithmic&&(u=Math.log(u)*Math.LOG10E-Math.log(r)*Math.LOG10E,f=Math.pow(10,u*n+Math.log(r)*Math.LOG10E),e=Math.pow(10,u*t+Math.log(r)*Math.LOG10E)),this.zoomToValues(f,e,i)},zoomToValues:function(t,i,r){var u,f,e;return i<t&&(u=i,i=t,t=u),f=this.fullMax,u=this.fullMin,this.relativeStart=(t-u)/(f-u),this.relativeEnd=(i-u)/(f-u),this.logarithmic&&(f=Math.log(f)*Math.LOG10E-Math.log(u)*Math.LOG10E,e=Math.log(i)/Math.LN10-Math.log(u)*Math.LOG10E,this.relativeStart=(Math.log(t)/Math.LN10-Math.log(u)*Math.LOG10E)/f,this.relativeEnd=e/f),this.minZoom!=t||this.maxZoom!=i?(this.minZoom=t,this.maxZoom=i,u={type:"axisZoomed"},u.chart=this.chart,u.valueAxis=this,u.startValue=t,u.endValue=i,u.relativeStart=this.relativeStart,u.relativeEnd=this.relativeEnd,this.prevStartValue==t&&this.prevEndValue==i||this.fire(u),this.prevStartValue=t,this.prevEndValue=i,r||(t={},n.copyProperties(u,t),t.type="axisIntZoomed",this.fire(t)),0===this.relativeStart&&1==this.relativeEnd&&(this.maxZoom=this.minZoom=NaN),!0):void 0},coordinateToValue:function(n){if(isNaN(n))return NaN;var i=this.axisWidth,t=this.stepWidth,u=this.reversed,f=this.rotate,r=this.min,e=this.minReal;return!0===this.logarithmic?Math.pow(10,(f?!0===u?(i-n)/t:n/t:!0===u?n/t:(i-n)/t)+Math.log(e)*Math.LOG10E):!0===u?f?r-(n-i)/t:n/t+r:f?n/t+r:r-(n-i)/t},getCoordinate:function(n,t){if(isNaN(n))return NaN;var i=this.rotate,e=this.reversed,f=this.axisWidth,u=this.stepWidth,r=this.min,o=this.minReal;return!0===this.logarithmic?(0===n&&(n=this.treatZeroAs),r=Math.log(n)*Math.LOG10E-Math.log(o)*Math.LOG10E,i=i?!0===e?f-u*r:u*r:!0===e?u*r:f-u*r):i=!0===e?i?f-u*(n-r):u*(n-r):i?u*(n-r):f-u*(n-r),1e7<Math.abs(i)&&(i=i/Math.abs(i)*1e7),t||(i=Math.round(i)),i},synchronizeWithAxis:function(n){this.synchronizeWith=n;this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(){if(this.synchronizeWith){n.isString(this.synchronizeWith)&&(this.synchronizeWith=this.chart.getValueAxisById(this.synchronizeWith));var t=this.synchronizeWith,i=t.min,u=t.max,t=t.step,r=this.synchronizationMultiplier;r&&(this.min=i*r,this.max=u*r,this.step=t*r,i=Math.abs(Math.log(Math.abs(Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E))))*Math.LOG10E),this.maxDecCount=i=Math.round(i),this.draw())}}})}(),function(){var n=window.AmCharts;n.RecAxis=n.Class({construct:function(t){var f=t.chart,i=t.axisThickness,r=t.axisColor,c=t.axisAlpha,e=t.offset,l=t.dx,u=t.dy,o=t.x,s=t.y,h=t.height,v=t.width,a=f.container;"H"==t.orientation?(r=n.line(a,[0,v],[0,0],r,c,i),this.axisWidth=t.width,"bottom"==t.position?(u=i/2+e+h+s-1,i=o):(u=-i/2-e+s+u,i=l+o)):(this.axisWidth=t.height,"right"==t.position?(r=n.line(a,[0,0,-l],[0,h,h-u],r,c,i),u=s+u,i=i/2+e+l+v+o-1):(r=n.line(a,[0,0],[0,h],r,c,i),u=s,i=-i/2-e+o));r.translate(i,u);i=f.container.set();i.push(r);f.axesSet.push(i);n.setCN(f,r,t.bcn+"line");this.axisSet=i;this.set=r}})}(),function(){var n=window.AmCharts;n.RecItem=n.Class({construct:function(t,i,r,u,f,e,o,s,h,c,l,a){var g,ii,b,bt,ot,pt,nt,w;i=Math.round(i);g=t.chart;this.value=r;void 0==r&&(r="");h||(h=0);void 0==u&&(u=!0);ii=g.fontFamily;b=t.fontSize;void 0==b&&(b=g.fontSize);bt=t.color;void 0==bt&&(bt=g.color);void 0!==l&&(bt=l);ot=t.chart.container;pt=ot.set();this.set=pt;var ht=t.axisThickness,oi=t.axisColor,ni=t.axisAlpha,y=t.tickLength,dt=t.gridAlpha,gt=t.gridThickness,ri=t.gridColor,ui=t.dashLength,si=t.fillColor,ti=t.fillAlpha,hi=t.labelsEnabled;l=t.labelRotationR;var fi=t.counter,d=t.inside,ct=t.labelOffset,ft=t.dx,rt=t.dy,ci=t.orientation,lt=t.position,kt=t.previousCoord,it=t.height,at=t.width,et=t.offset,ut,st;o?(void 0!==o.id&&(a=g.classNamePrefix+"-guide-"+o.id),hi=!0,isNaN(o.tickLength)||(y=o.tickLength),void 0!=o.lineColor&&(ri=o.lineColor),void 0!=o.color&&(bt=o.color),isNaN(o.lineAlpha)||(dt=o.lineAlpha),isNaN(o.dashLength)||(ui=o.dashLength),isNaN(o.lineThickness)||(gt=o.lineThickness),!0===o.inside&&(d=!0,0<et&&(et=0)),isNaN(o.labelRotation)||(l=o.labelRotation),isNaN(o.fontSize)||(b=o.fontSize),o.position&&(lt=o.position),void 0!==o.boldLabel&&(s=o.boldLabel),isNaN(o.labelOffset)||(ct=o.labelOffset)):""===r&&(y=0);c&&!isNaN(t.minorTickLength)&&(y=t.minorTickLength);nt="start";0<f&&(nt="middle");t.centerLabels&&(nt="middle");var k=l*Math.PI/180,vt,yt,p=0,v=0,wt=0,tt=vt=0,ei=0;"V"==ci&&(l=0);hi&&""!==r&&(w=t.autoWrap&&0===l?n.wrappedText(ot,r,bt,ii,b,nt,s,Math.abs(f),0):n.text(ot,r,bt,ii,b,nt,s),nt=w.getBBox(),tt=nt.width,ei=nt.height);"H"==ci?(0<=i&&i<=at+1&&(0<y&&0<ni&&i+h<=at+1&&(ut=n.line(ot,[i+h,i+h],[0,y],oi,ni,gt),pt.push(ut)),0<dt&&(st=n.line(ot,[i,i+ft,i+ft],[it,it+rt,rt],ri,dt,gt,ui),pt.push(st))),v=0,p=i,o&&90==l&&d&&(p-=b),!1===u?(nt="start",v="bottom"==lt?d?v+y:v-y:d?v-y:v+y,p+=3,0<f&&(p+=f/2-3,nt="middle"),0<l&&(nt="middle")):nt="middle",1==fi&&0<ti&&!o&&!c&&kt<at&&(u=n.fitToBounds(i,0,at),kt=n.fitToBounds(kt,0,at),vt=u-kt,0<vt&&(yt=n.rect(ot,vt,t.height,si,ti),yt.translate(u-vt+ft,rt),pt.push(yt))),"bottom"==lt?(v+=it+b/2+et,d?(0<l?(v=it-tt/2*Math.sin(k)-y-3,t.centerRotatedLabels||(p+=tt/2*Math.cos(k)-2)):0>l?(v=it+tt*Math.sin(k)-y-1,p+=-tt*Math.cos(k)-ei*Math.sin(k)-4):v-=y+b+3+3,v-=ct):(0<l?(v=it+tt/2*Math.sin(k)+y+3,t.centerRotatedLabels||(p-=tt/2*Math.cos(k))):0>l?(v=it+y+3-tt/2*Math.sin(k)+2,p+=tt/2*Math.cos(k)):v+=y+ht+3+3,v+=ct)):(v+=rt+b/2-et,p+=ft,d?(0<l?(v=tt/2*Math.sin(k)+y+3,t.centerRotatedLabels||(p-=tt/2*Math.cos(k))):v+=y+3,v+=ct):(0<l?(v=-(tt/2)*Math.sin(k)-y-6,t.centerRotatedLabels||(p+=tt/2*Math.cos(k))):v-=y+b+3+ht+3,v-=ct)),"bottom"==lt?vt=(d?it-y-1:it+ht-1)+et:(wt=ft,vt=(d?rt:rt-y-ht+1)-et),e&&(p+=e),b=p,0<l&&(b+=tt/2*Math.cos(k)),w&&(e=0,d&&(e=tt/2*Math.cos(k)),b+e>at+2||0>b))&&(w.remove(),w=null):(0<=i&&i<=it+1&&(0<y&&0<ni&&i+h<=it+1&&(ut=n.line(ot,[0,y+1],[i+h,i+h],oi,ni,gt),pt.push(ut)),0<dt&&(st=n.line(ot,[0,ft,at+ft],[i,i+rt,i+rt],ri,dt,gt,ui),pt.push(st))),nt="end",(!0===d&&"left"==lt||!1===d&&"right"==lt)&&(nt="start"),v=i-ei/2+2,1==fi&&0<ti&&!o&&!c&&(u=n.fitToBounds(i,0,it),kt=n.fitToBounds(kt,0,it),k=u-kt,yt=n.polygon(ot,[0,t.width,t.width,0],[0,0,k,k],si,ti),yt.translate(ft,u-k+rt),pt.push(yt)),v+=b/2,"right"==lt?(p+=ft+at+et,v+=rt,d?(e||(v-=b/2+3),p=p-(y+4)-ct):(p+=y+4+ht,v-=2,p+=ct)):d?(p+=y+4-et,e||(v-=b/2+3),o&&(p+=ft,v+=rt),p+=ct):(p+=-y-ht-6-et,v-=2,p-=ct),ut&&("right"==lt?(wt+=ft+et+at-1,vt+=rt,wt=d?wt-ht:wt+ht):(wt-=et,d||(wt-=y+ht))),e&&(v+=e),d=-3,"right"==lt&&(d+=rt),w&&(v>it+1||v<d-b/10)&&(w.remove(),w=null));ut&&(ut.translate(wt,vt),n.setCN(g,ut,t.bcn+"tick"),n.setCN(g,ut,a,!0),o&&n.setCN(g,ut,"guide"));!1===t.visible&&(ut&&ut.remove(),w&&(w.remove(),w=null));w&&(w.attr({"text-anchor":nt}),w.translate(p,v,NaN,!0),0!==l&&w.rotate(-l,t.chart.backgroundColor),t.allLabels.push(w),this.label=w,n.setCN(g,w,t.bcn+"label"),n.setCN(g,w,a,!0),o&&n.setCN(g,w,"guide"));st&&(n.setCN(g,st,t.bcn+"grid"),n.setCN(g,st,a,!0),o&&n.setCN(g,st,"guide"));yt&&(n.setCN(g,yt,t.bcn+"fill"),n.setCN(g,yt,a,!0));c?st&&n.setCN(g,st,t.bcn+"grid-minor"):(t.counter=0===fi?1:0,t.previousCoord=i);0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}})}(),function(){var n=window.AmCharts;n.RecFill=n.Class({construct:function(t,i,r,u){var c=t.dx,l=t.dy,f=t.orientation,h=0,e,o,s;r<i&&(o=i,i=r,r=o);e=u.fillAlpha;isNaN(e)&&(e=0);o=t.chart.container;s=u.fillColor;"V"==f?(i=n.fitToBounds(i,0,t.height),r=n.fitToBounds(r,0,t.height)):(i=n.fitToBounds(i,0,t.width),r=n.fitToBounds(r,0,t.width));r-=i;isNaN(r)&&(r=4,h=2,e=0);0>r&&"object"==typeof s&&(s=s.join(",").split(",").reverse());"V"==f?(f=n.rect(o,t.width,r,s,e),f.translate(c,i-h+l)):(f=n.rect(o,r,t.height,s,e),f.translate(i-h+c,l));n.setCN(t.chart,f,"guide-fill");u.id&&n.setCN(t.chart,f,"guide-fill-"+u.id);this.set=o.set([f])},graphics:function(){return this.set},getLabel:function(){}})}(),function(){var n=window.AmCharts;n.AmChart=n.Class({construct:function(t){this.svgIcons=this.tapToActivate=!0;this.theme=t;this.classNamePrefix="amcharts";this.addClassNames=!1;this.version="3.20.20";n.addChart(this);this.createEvents("buildStarted","dataUpdated","init","rendered","drawn","failed","resized","animationFinished");this.height=this.width="100%";this.dataChanged=!0;this.chartCreated=!1;this.previousWidth=this.previousHeight=0;this.backgroundColor="#FFFFFF";this.borderAlpha=this.backgroundAlpha=0;this.color=this.borderColor="#000000";this.fontFamily="Verdana";this.fontSize=11;this.usePrefixes=!1;this.autoResize=!0;this.autoDisplay=!1;this.addCodeCredits=this.accessible=!0;this.touchStartTime=this.touchClickDuration=0;this.precision=-1;this.percentPrecision=2;this.decimalSeparator=".";this.thousandsSeparator=",";this.labels=[];this.allLabels=[];this.titles=[];this.marginRight=this.marginLeft=this.autoMarginOffset=0;this.timeOuts=[];this.creditsPosition="top-left";var r=document.createElement("div"),i=r.style;i.overflow="hidden";i.position="relative";i.textAlign="left";this.chartDiv=r;r=document.createElement("div");i=r.style;i.overflow="hidden";i.position="relative";i.textAlign="left";this.legendDiv=r;this.titleHeight=0;this.hideBalloonTime=150;this.handDrawScatter=2;this.cssScale=this.handDrawThickness=1;this.cssAngle=0;this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}];this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:""},{number:.001,prefix:"m"}];this.panEventsEnabled=!0;this.product="amcharts";this.animations=[];this.balloon=new n.AmBalloon(this.theme);this.balloon.chart=this;this.processTimeout=0;this.processCount=1e3;this.animatable=[];this.langObj={};n.applyTheme(this,t,"AmChart")},drawChart:function(){0<this.realWidth&&0<this.realHeight&&(this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.brr(),this.renderFix(),this.chartDiv&&(this.boundingRect=this.chartDiv.getBoundingClientRect()))},makeAccessible:function(n,t,i){this.accessible&&n&&(i&&n.setAttr("role",i),n.setAttr("aria-label",t))},drawBackground:function(){var i,r;n.remove(this.background);var u=this.container,t=this.backgroundColor,f=this.backgroundAlpha,e=this.set;n.isModern||0!==f||(f=.001);i=this.updateWidth();this.realWidth=i;r=this.updateHeight();this.realHeight=r;t=n.polygon(u,[0,i-1,i-1,0],[0,0,r-1,r-1],t,f,1,this.borderColor,this.borderAlpha);n.setCN(this,t,"bg");this.background=t;e.push(t);(t=this.backgroundImage)&&(u=u.image(t,0,0,i,r),n.setCN(this,t,"bg-image"),this.bgImg=u,e.push(u))},drawTitles:function(t){var o=this.titles,u,f,i,r,e,s,h;if(this.titleHeight=0,n.ifArray(o)){for(u=20,f=0;f<o.length;f++)i=o[f],i=n.processObject(i,n.Title,this.theme),!1!==i.enabled&&(r=i.color,void 0===r&&(r=this.color),e=i.size,isNaN(e)&&(e=this.fontSize+2),isNaN(i.alpha),s=this.marginLeft,h=!0,void 0!==i.bold&&(h=i.bold),r=n.wrappedText(this.container,i.text,r,this.fontFamily,e,"middle",h,this.realWidth-35),r.translate(s+(this.realWidth-this.marginRight-s)/2,u),r.node.style.pointerEvents="none",i.sprite=r,void 0!==i.tabIndex&&r.setAttr("tabindex",i.tabIndex),n.setCN(this,r,"title"),i.id&&n.setCN(this,r,"title-"+i.id),r.attr({opacity:i.alpha}),u+=r.getBBox().height+5,t?r.remove():this.freeLabelsSet.push(r));this.titleHeight=u-10}},write:function(n){var t=this,i,r;if(t.listeners)for(i=0;i<t.listeners.length;i++)r=t.listeners[i],t.addListener(r.event,r.method);t.fire({type:"buildStarted",chart:t});t.afterWriteTO&&clearTimeout(t.afterWriteTO);0<t.processTimeout?t.afterWriteTO=setTimeout(function(){t.afterWrite.call(t,n)},t.processTimeout):t.afterWrite(n)},afterWrite:function(t){var f,s,i;if(f="object"!=typeof t?document.getElementById(t):t){for(;f.firstChild;)f.removeChild(f.firstChild);this.div=f;f.style.overflow="hidden";f.style.textAlign="left";t=this.chartDiv;var o=this.legendDiv,r=this.legend,u=o.style,e=t.style;if(this.measure(),this.previousHeight=this.divRealHeight,this.previousWidth=this.divRealWidth,i=document.createElement("div"),s=i.style,s.position="relative",this.containerDiv=i,i.className=this.classNamePrefix+"-main-div",t.className=this.classNamePrefix+"-chart-div",f.appendChild(i),(f=this.exportConfig)&&n.AmExport&&!this.AmExport&&(this.AmExport=new n.AmExport(this,f)),this.amExport&&n.AmExport&&(this.AmExport=n.extend(this.amExport,new n.AmExport(this),!0)),this.AmExport&&this.AmExport.init&&this.AmExport.init(),r){if(r=this.addLegend(r,r.divId),r.enabled)switch(u.left=null,u.top=null,u.right=null,e.left=null,e.right=null,e.top=null,u.position="relative",e.position="relative",s.width="100%",s.height="100%",r.position){case"bottom":i.appendChild(t);i.appendChild(o);break;case"top":i.appendChild(o);i.appendChild(t);break;case"absolute":u.position="absolute";e.position="absolute";void 0!==r.left&&(u.left=r.left+"px");void 0!==r.right&&(u.right=r.right+"px");void 0!==r.top&&(u.top=r.top+"px");void 0!==r.bottom&&(u.bottom=r.bottom+"px");r.marginLeft=0;r.marginRight=0;i.appendChild(t);i.appendChild(o);break;case"right":u.position="relative";e.position="absolute";i.appendChild(t);i.appendChild(o);break;case"left":u.position="absolute";e.position="relative";i.appendChild(t);i.appendChild(o);break;case"outside":i.appendChild(t)}else i.appendChild(t);this.prevLegendPosition=r.position}else i.appendChild(t);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0);this.initChart()}},createLabelsSet:function(){n.remove(this.labelsSet);this.labelsSet=this.container.set();this.freeLabelsSet.push(this.labelsSet)},initChart:function(){this.balloon=n.processObject(this.balloon,n.AmBalloon,this.theme);window.AmCharts_path&&(this.path=window.AmCharts_path);void 0===this.path&&(this.path=n.getPath());void 0===this.path&&(this.path="amcharts/");this.path=n.normalizeUrl(this.path);void 0===this.pathToImages&&(this.pathToImages=this.path+"images/");this.initHC||(n.callInitHandler(this),this.initHC=!0);n.applyLang(this.language,this);var t=this.numberFormatter;t&&(isNaN(t.precision)||(this.precision=t.precision),void 0!==t.thousandsSeparator&&(this.thousandsSeparator=t.thousandsSeparator),void 0!==t.decimalSeparator&&(this.decimalSeparator=t.decimalSeparator));(t=this.percentFormatter)&&!isNaN(t.precision)&&(this.percentPrecision=t.precision);this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator};this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator};this.destroy();(t=this.container)?(t.container.innerHTML="",t.width=this.realWidth,t.height=this.realHeight,t.addDefs(this),this.chartDiv.appendChild(t.container)):t=new n.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this);this.container=t;this.extension=".png";this.svgIcons&&n.SVG&&(this.extension=".svg");this.checkDisplay();this.checkTransform(this.div);t.chart=this;n.VML||n.SVG?(t.handDrawn=this.handDrawn,t.handDrawScatter=this.handDrawScatter,t.handDrawThickness=this.handDrawThickness,n.remove(this.set),this.set=t.set(),n.remove(this.gridSet),this.gridSet=t.set(),n.remove(this.cursorLineSet),this.cursorLineSet=t.set(),n.remove(this.graphsBehindSet),this.graphsBehindSet=t.set(),n.remove(this.bulletBehindSet),this.bulletBehindSet=t.set(),n.remove(this.columnSet),this.columnSet=t.set(),n.remove(this.graphsSet),this.graphsSet=t.set(),n.remove(this.trendLinesSet),this.trendLinesSet=t.set(),n.remove(this.axesSet),this.axesSet=t.set(),n.remove(this.cursorSet),this.cursorSet=t.set(),n.remove(this.scrollbarsSet),this.scrollbarsSet=t.set(),n.remove(this.bulletSet),this.bulletSet=t.set(),n.remove(this.freeLabelsSet),this.freeLabelsSet=t.set(),n.remove(this.axesLabelsSet),this.axesLabelsSet=t.set(),n.remove(this.balloonsSet),this.balloonsSet=t.set(),n.remove(this.plotBalloonsSet),this.plotBalloonsSet=t.set(),n.remove(this.zoomButtonSet),this.zoomButtonSet=t.set(),n.remove(this.zbSet),this.zbSet=null,n.remove(this.linkSet),this.linkSet=t.set()):this.fire({type:"failed",chart:this})},premeasure:function(){var n=this.div,t,i;if(n){try{this.boundingRect=this.chartDiv.getBoundingClientRect()}catch(r){}t=n.offsetWidth;i=n.offsetHeight;n.clientHeight&&(t=n.clientWidth,i=n.clientHeight);(t!=this.mw||i!=this.mh)&&(this.mw=t,this.mh=i,this.measure())}},measure:function(){var t=this.div;if(t){var f=this.chartDiv,i=t.offsetWidth,r=t.offsetHeight,e=this.container;t.clientHeight&&(i=t.clientWidth,r=t.clientHeight);var r=Math.round(r),i=Math.round(i),t=Math.round(n.toCoordinate(this.width,i)),u=Math.round(n.toCoordinate(this.height,r));(i!=this.previousWidth||r!=this.previousHeight)&&0<t&&0<u&&(f.style.width=t+"px",f.style.height=u+"px",f.style.padding=0,e&&e.setSize(t,u),this.balloon=n.processObject(this.balloon,n.AmBalloon,this.theme));this.balloon&&this.balloon.setBounds&&this.balloon.setBounds(2,2,t-2,u);this.updateWidth();this.balloon.chart=this;this.realWidth=t;this.realHeight=u;this.divRealWidth=i;this.divRealHeight=r}},checkDisplay:function(){if(this.autoDisplay&&this.container){var t=n.rect(this.container,10,10),i=t.getBBox();0===i.width&&0===i.height&&(this.divRealHeight=this.divRealWidth=this.realHeight=this.realWidth=0,this.previousWidth=this.previousHeight=NaN);t.remove()}},checkTransform:function(n){var t;if(this.autoTransform&&window.getComputedStyle&&n){if(n.style&&(t=window.getComputedStyle(n,null),t&&(t=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform"))&&"none"!==t)){var i=t.split("(")[1].split(")")[0].split(","),t=i[0],i=i[1],t=Math.sqrt(t*t+i*i);isNaN(t)||(this.cssScale*=t)}n.parentNode&&this.checkTransform(n.parentNode)}},destroy:function(){this.chartDiv.innerHTML="";this.clearTimeOuts();this.legend&&this.legend.destroy()},clearTimeOuts:function(){var t=this.timeOuts,n;if(t)for(n=0;n<t.length;n++)clearTimeout(t[n]);this.timeOuts=[]},clear:function(t){try{document.removeEventListener("touchstart",this.docfn1,!0);document.removeEventListener("touchend",this.docfn2,!0)}catch(i){}if(n.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]),this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null,this.clearTimeOuts(),this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv)),t||n.removeChart(this),t=this.div)for(;t.firstChild;)t.removeChild(t.firstChild);this.legend&&this.legend.destroy();this.AmExport&&this.AmExport.clear&&this.AmExport.clear()},setMouseCursor:function(t){"auto"==t&&n.isNN&&(t="default");this.chartDiv.style.cursor=t;this.legendDiv.style.cursor=t},redrawLabels:function(){var t,n;for(this.labels=[],t=this.allLabels,this.createLabelsSet(),n=0;n<t.length;n++)this.drawLabel(t[n])},drawLabel:function(t){var i=this;if(i.container&&!1!==t.enabled){t=n.processObject(t,n.Label,i.theme);var f=t.y,r=t.text,u=t.align,s=t.size,h=t.color,e=t.rotation,c=t.alpha,l=t.bold,o=n.toCoordinate(t.x,i.realWidth),f=n.toCoordinate(f,i.realHeight);o||(o=0);f||(f=0);void 0===h&&(h=i.color);isNaN(s)&&(s=i.fontSize);u||(u="start");"left"==u&&(u="start");"right"==u&&(u="end");"center"==u&&(u="middle",e?f=i.realHeight-f+f/2:o=i.realWidth/2-o);void 0===c&&(c=1);void 0===e&&(e=0);f+=s/2;r=n.text(i.container,r,h,i.fontFamily,s,u,l,c);r.translate(o,f);void 0!==t.tabIndex&&r.setAttr("tabindex",t.tabIndex);n.setCN(i,r,"label");t.id&&n.setCN(i,r,"label-"+t.id);0!==e&&r.rotate(e);t.url?(r.setAttr("cursor","pointer"),r.click(function(){n.getURL(t.url,i.urlTarget)})):r.node.style.pointerEvents="none";i.labelsSet.push(r);i.labels.push(r)}},addLabel:function(n,t,i,r,u,f,e,o,s,h){n={x:n,y:t,text:i,align:r,size:u,color:f,alpha:o,rotation:e,bold:s,url:h,enabled:!0};this.container&&this.drawLabel(n);this.allLabels.push(n)},clearLabels:function(){for(var t=this.labels,n=t.length-1;0<=n;n--)t[n].remove();this.labels=[];this.allLabels=[]},updateHeight:function(){var n=this.divRealHeight,t=this.legend,i;return t&&(i=this.legendDiv.offsetHeight,t=t.position,("top"==t||"bottom"==t)&&(n-=i,(0>n||isNaN(n))&&(n=0),this.chartDiv.style.height=n+"px")),n},updateWidth:function(){var n=this.divRealWidth,e=this.divRealHeight,t=this.legend,i,r;if(t){i=this.legendDiv;r=i.offsetWidth;isNaN(t.width)||(r=t.width);t.ieW&&(r=t.ieW);var o=i.offsetHeight,i=i.style,u=this.chartDiv.style,f=t.position;("right"==f||"left"==f)&&void 0===t.divId&&(n-=r,(0>n||isNaN(n))&&(n=0),u.width=n+"px",this.balloon.setBounds(2,2,n-2,this.realHeight),"left"==f?(u.left=r+"px",i.left="0px"):(u.left="0px",i.left=n+"px"),e>o&&(i.top=(e-o)/2+"px"))}return n},getTitleHeight:function(){return this.drawTitles(!0),this.titleHeight},addTitle:function(n,t,i,r,u){return isNaN(t)&&(t=this.fontSize+2),n={text:n,size:t,color:i,alpha:r,bold:u,enabled:!0},this.titles.push(n),n},handleWheel:function(n){var t=0;n||(n=window.event);n.wheelDelta?t=n.wheelDelta/120:n.detail&&(t=-n.detail/3);t&&this.handleWheelReal(t,n.shiftKey);n.preventDefault&&n.preventDefault()},handleWheelReal:function(){},handleDocTouchStart:function(){this.handleMouseMove();this.tmx=this.mouseX;this.tmy=this.mouseY;this.touchStartTime=(new Date).getTime()},handleDocTouchEnd:function(){-.5<this.tmx&&this.tmx<this.divRealWidth+1&&0<this.tmy&&this.tmy<this.divRealHeight?(this.handleMouseMove(),4>Math.abs(this.mouseX-this.tmx)&&4>Math.abs(this.mouseY-this.tmy)?(this.tapped=!0,this.panRequired&&this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="none",this.chartDiv.style.touchAction="none")):this.mouseIsOver||this.resetTouchStyle()):(this.tapped=!1,this.resetTouchStyle())},resetTouchStyle:function(){this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="auto",this.chartDiv.style.touchAction="auto")},checkTouchDuration:function(n){var t=this,i=(new Date).getTime();if(n)if(n.touches)t.isTouchEvent=!0;else if(!t.isTouchEvent)return!0;if(i-t.touchStartTime>t.touchClickDuration)return!0;setTimeout(function(){t.resetTouchDuration()},300)},resetTouchDuration:function(){this.isTouchEvent=!1},checkTouchMoved:function(){if(4<Math.abs(this.mouseX-this.tmx)||4<Math.abs(this.mouseY-this.tmy))return!0},addListeners:function(){var n=this,t=n.chartDiv;document.addEventListener?("ontouchstart"in document.documentElement&&(t.addEventListener("touchstart",function(t){n.handleTouchStart.call(n,t)},!0),t.addEventListener("touchmove",function(t){n.handleMouseMove.call(n,t)},!0),t.addEventListener("touchend",function(t){n.handleTouchEnd.call(n,t)},!0),n.docfn1=function(t){n.handleDocTouchStart.call(n,t)},n.docfn2=function(t){n.handleDocTouchEnd.call(n,t)},document.addEventListener("touchstart",n.docfn1,!0),document.addEventListener("touchend",n.docfn2,!0)),t.addEventListener("mousedown",function(t){n.mouseIsOver=!0;n.handleMouseMove.call(n,t);n.handleMouseDown.call(n,t);n.handleDocTouchStart.call(n,t)},!0),t.addEventListener("mouseover",function(t){n.handleMouseOver.call(n,t)},!0),t.addEventListener("mouseout",function(t){n.handleMouseOut.call(n,t)},!0),t.addEventListener("mouseup",function(t){n.handleDocTouchEnd.call(n,t)},!0)):(t.attachEvent("onmousedown",function(t){n.handleMouseDown.call(n,t)}),t.attachEvent("onmouseover",function(t){n.handleMouseOver.call(n,t)}),t.attachEvent("onmouseout",function(t){n.handleMouseOut.call(n,t)}))},dispDUpd:function(){this.skipEvents||(this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,this.fire({type:"dataUpdated",chart:this})),this.chartCreated||(this.chartCreated=!0,this.fire({type:"init",chart:this})),this.chartRendered||(this.fire({type:"rendered",chart:this}),this.chartRendered=!0),this.fire({type:"drawn",chart:this}));this.skipEvents=!1},validateSize:function(){var n=this,t,i;n.premeasure();n.checkDisplay();n.cssScale=1;n.cssAngle=0;n.checkTransform(n.div);(n.divRealWidth!=n.previousWidth||n.divRealHeight!=n.previousHeight)&&(t=n.legend,0<n.realWidth&&0<n.realHeight&&(n.sizeChanged=!0,t&&(n.legendInitTO&&clearTimeout(n.legendInitTO),i=setTimeout(function(){t.invalidateSize()},10),n.timeOuts.push(i),n.legendInitTO=i),n.marginsUpdated=!1,clearTimeout(n.initTO),i=setTimeout(function(){n.initChart()},10),n.timeOuts.push(i),n.initTO=i),n.renderFix(),t&&t.renderFix&&t.renderFix(),clearTimeout(n.resizedTO),n.resizedTO=setTimeout(function(){n.fire({type:"resized",chart:n})},10),n.previousHeight=n.divRealHeight,n.previousWidth=n.divRealWidth)},invalidateSize:function(){this.previousHeight=this.previousWidth=NaN;this.invalidateSizeReal()},invalidateSizeReal:function(){var n=this,t;n.marginsUpdated=!1;clearTimeout(n.validateTO);t=setTimeout(function(){n.validateSize()},5);n.timeOuts.push(t);n.validateTO=t},validateData:function(n){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated=!1,this.initChart(n))},validateNow:function(n,t){this.initTO&&clearTimeout(this.initTO);n&&(this.dataChanged=!0,this.marginsUpdated=!1);this.skipEvents=t;this.chartRendered=!1;var i=this.legend;i&&i.position!=this.prevLegendPosition&&(this.previousWidth=this.mw=0,i.invalidateSize&&(i.invalidateSize(),this.validateSize()));this.write(this.div)},showItem:function(n){n.hidden=!1;this.initChart()},hideItem:function(n){n.hidden=!0;this.initChart()},hideBalloon:function(){var n=this;clearTimeout(n.hoverInt);clearTimeout(n.balloonTO);n.hoverInt=setTimeout(function(){n.hideBalloonReal.call(n)},n.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var n=this.balloon;n&&n.hide&&n.hide()},showBalloon:function(n,t,i,r,u){var f=this;clearTimeout(f.balloonTO);clearTimeout(f.hoverInt);f.balloonTO=setTimeout(function(){f.showBalloonReal.call(f,n,t,i,r,u)},1)},showBalloonReal:function(n,t,i,r,u){this.handleMouseMove();var f=this.balloon;f.enabled&&(f.followCursor(!1),f.changeColor(t),!i||f.fixedPosition?(f.setPosition(r,u),isNaN(r)||isNaN(u)?f.followCursor(!0):f.followCursor(!1)):f.followCursor(!0),n&&f.showBalloon(n))},handleMouseOver:function(){this.outTO&&clearTimeout(this.outTO);n.resetMouseOver();this.mouseIsOver=!0},handleMouseOut:function(){var t=this;n.resetMouseOver();t.outTO&&clearTimeout(t.outTO);t.outTO=setTimeout(function(){t.handleMouseOutReal()},10)},handleMouseOutReal:function(){this.mouseIsOver=!1},handleMouseMove:function(n){var t,i,r,u,f;if(n||(n=window.event),this.mouse2Y=this.mouse2X=NaN,n){if(n.touches){if(f=n.touches.item(1),f&&this.panEventsEnabled&&this.boundingRect&&(r=f.clientX-this.boundingRect.left,u=f.clientY-this.boundingRect.top),n=n.touches.item(0),!n)return}else this.wasTouched=!1;this.boundingRect&&n.clientX&&(t=n.clientX-this.boundingRect.left,i=n.clientY-this.boundingRect.top);isNaN(r)?this.mouseX=t:(this.mouseX=Math.min(t,r),this.mouse2X=Math.max(t,r));isNaN(u)?this.mouseY=i:(this.mouseY=Math.min(i,u),this.mouse2Y=Math.max(i,u));this.autoTransform&&(this.mouseX/=this.cssScale,this.mouseY/=this.cssScale)}},handleTouchStart:function(n){this.hideBalloonReal();n&&(n.touches&&this.tapToActivate&&!this.tapped||!this.panRequired)||(this.handleMouseMove(n),this.handleMouseDown(n))},handleTouchEnd:function(t){this.wasTouched=!0;this.handleMouseMove(t);n.resetMouseOver();this.handleReleaseOutside(t)},handleReleaseOutside:function(){this.handleDocTouchEnd.call(this)},handleMouseDown:function(t){n.resetMouseOver();this.mouseIsOver=!0;t&&t.preventDefault&&(this.panEventsEnabled?t.preventDefault():t.touches||t.preventDefault())},addLegend:function(t,i){t=n.processObject(t,n.AmLegend,this.theme);t.divId=i;t.ieW=0;var r;return r="object"!=typeof i&&i?document.getElementById(i):i,this.legend=t,t.chart=this,r?(t.div=r,t.position="outside",t.autoMargins=!1):t.div=this.legendDiv,t},removeLegend:function(){this.legend=void 0;this.previousWidth=0;this.legendDiv.innerHTML=""},handleResize:function(){(n.isPercents(this.width)||n.isPercents(this.height))&&this.invalidateSizeReal();this.renderFix()},renderFix:function(){if(!n.VML){var t=this.container;t&&t.renderFix()}},getSVG:function(){if(n.hasSVG)return this.container},animate:function(t,i,r,u,f,e,o){return t["an_"+i]&&n.removeFromArray(this.animations,t["an_"+i]),r={obj:t,frame:0,attribute:i,from:r,to:u,time:f,effect:e,suffix:o},t["an_"+i]=r,this.animations.push(r),r},setLegendData:function(n){var t=this.legend;t&&t.setData(n)},stopAnim:function(t){n.removeFromArray(this.animations,t)},updateAnimations:function(){var i;if(this.container&&this.container.update(),this.animations)for(i=this.animations.length-1;0<=i;i--){var t=this.animations[i],u=n.updateRate*t.time,e=t.frame+1,r=t.obj,f=t.attribute;if(e<=u){t.frame++;var o=Number(t.from),s=Number(t.to)-o,u=n[t.effect](0,e,o,s,u);0===s?(this.animations.splice(i,1),r.node.style[f]=Number(t.to)+t.suffix):r.node.style[f]=u+t.suffix}else r.node.style[f]=Number(t.to)+t.suffix,r.animationFinished=!0,this.animations.splice(i,1)}},update:function(){var n,i,t,r;if(this.updateAnimations(),n=this.animatable,0<n.length){for(i=!0,t=n.length-1;0<=t;t--)r=n[t],r&&(r.animationFinished?n.splice(t,1):i=!1);i&&(this.fire({type:"animationFinished",chart:this}),this.animatable=[])}},inIframe:function(){try{return window.self!==window.top}catch(n){return!0}},brr:function(){}});n.Slice=n.Class({construct:function(){}});n.SerialDataItem=n.Class({construct:function(){}});n.GraphDataItem=n.Class({construct:function(){}});n.Guide=n.Class({construct:function(t){this.cname="Guide";n.applyTheme(this,t,this.cname)}});n.Title=n.Class({construct:function(t){this.cname="Title";n.applyTheme(this,t,this.cname)}});n.Label=n.Class({construct:function(t){this.cname="Label";n.applyTheme(this,t,this.cname)}})}(),function(){var n=window.AmCharts;n.AmGraph=n.Class({construct:function(t){this.cname="AmGraph";this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph");this.type="line";this.stackable=!0;this.columnCount=1;this.columnIndex=0;this.centerCustomBullets=this.showBalloon=!0;this.maxBulletSize=50;this.minBulletSize=4;this.balloonText="[[value]]";this.hidden=this.scrollbar=this.animationPlayed=!1;this.pointPosition="middle";this.depthCount=1;this.includeInMinMax=!0;this.negativeBase=0;this.visibleInLegend=!0;this.showAllValueLabels=!1;this.showBulletsAt=this.showBalloonAt="close";this.lineThickness=1;this.dashLength=0;this.connect=!0;this.lineAlpha=1;this.bullet="none";this.bulletBorderThickness=2;this.bulletBorderAlpha=0;this.bulletAlpha=1;this.bulletSize=8;this.cornerRadiusTop=this.hideBulletsCount=this.bulletOffset=0;this.cursorBulletAlpha=1;this.gradientOrientation="vertical";this.dy=this.dx=0;this.periodValue="";this.clustered=!0;this.periodSpan=1;this.accessibleLabel="[[title]] [[category]] [[value]]";this.accessibleSkipText="Press enter to skip [[title]]";this.y=this.x=0;this.switchable=!0;this.tcc=this.minDistance=1;this.labelRotation=0;this.labelAnchor="auto";this.labelOffset=3;this.bcn="graph-";this.dateFormat="MMM DD, YYYY";this.noRounding=!0;n.applyTheme(this,t,this.cname)},init:function(){this.createBalloon()},draw:function(){var t=this.chart,e,r,u,i,f;t.isRolledOverBullet=!1;e=t.type;t.drawGraphs&&(isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:t.decimalSeparator,thousandsSeparator:t.thousandsSeparator}),r=t.container,this.container=r,this.destroy(),u=r.set(),this.set=u,u.translate(this.x,this.y),i=r.set(),this.bulletSet=i,i.translate(this.x,this.y),this.behindColumns?(t.graphsBehindSet.push(u),t.bulletBehindSet.push(i)):(t.graphsSet.push(u),t.bulletSet.push(i)),f=this.bulletAxis,n.isString(f)&&(this.bulletAxis=t.getValueAxisById(f)),r=r.set(),n.remove(this.columnsSet),this.columnsSet=r,n.setCN(t,u,"graph-"+this.type),n.setCN(t,u,"graph-"+this.id),n.setCN(t,i,"graph-"+this.type),n.setCN(t,i,"graph-"+this.id),this.columnsArray=[],this.ownColumns=[],this.allBullets=[],this.animationArray=[],i=this.labelPosition,i||(f=this.valueAxis.stackType,i="top","column"==this.type&&(t.rotate&&(i="right"),"100%"==f||"regular"==f)&&(i="middle"),this.labelPosition=i),n.ifArray(this.data)&&(t=!1,"xy"==e?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(t=!0):this.valueAxis.axisCreated&&(t=!0),!this.hidden&&t&&this.createGraph()),u.push(r))},createGraph:function(){var t=this,r=t.chart,i;if(t.startAlpha=r.startAlpha,t.seqAn=r.sequencedAnimation,t.baseCoord=t.valueAxis.baseCoord,void 0===t.fillAlphas&&(t.fillAlphas=0),t.bulletColorR=t.bulletColor,void 0===t.bulletColorR&&(t.bulletColorR=t.lineColorR,t.bulletColorNegative=t.negativeLineColor),void 0===t.bulletAlpha&&(t.bulletAlpha=t.lineAlpha),("step"==i||n.VML)&&(t.noRounding=!1),i=r.type,"gantt"==i&&(i="serial"),clearTimeout(t.playedTO),!isNaN(t.valueAxis.min)&&!isNaN(t.valueAxis.max)){switch(i){case"serial":t.categoryAxis&&(t.createSerialGraph(),"candlestick"==t.type&&1>t.valueAxis.minMaxMultiplier&&t.positiveClip(t.set));break;case"radar":t.createRadarGraph();break;case"xy":t.createXYGraph()}t.playedTO=setTimeout(function(){t.setAnimationPlayed.call(t)},500*t.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var s=[],h=[],e=this.xAxis,c=this.yAxis,r,n,o;for(this.pmh=c.height,this.pmw=e.width,this.pmy=this.pmx=0,r=this.start;r<=this.end;r++){var t=this.data[r].axes[e.id].graphs[this.id],i=t.values,u=i.x,n=i.y,i=e.getCoordinate(u,this.noRounding),f=c.getCoordinate(n,this.noRounding);!isNaN(u)&&!isNaN(n)&&(s.push(i),h.push(f),t.x=i,t.y=f,u=this.createBullet(t,i,f,r),n=this.labelText)&&(n=this.createLabel(t,n),o=0,u&&(o=u.size),this.positionLabel(t,i,f,n,o))}this.drawLineGraph(s,h);this.launchAnimation()},createRadarGraph:function(){for(var w=this.valueAxis.stackType,e=[],o=[],s=[],h=[],a,v,l,y,i,n,p,c=this.start;c<=this.end;c++)if(i=this.data[c].axes[this.valueAxis.id].graphs[this.id],"none"==w||"3d"==w?n=i.values.value:(n=i.values.close,p=i.values.open),isNaN(n))this.connect||(this.drawLineGraph(e,o,s,h),e=[],o=[],s=[],h=[]);else{var r=this.valueAxis.getCoordinate(n,this.noRounding)-this.height,r=r*this.valueAxis.rMultiplier,t=-360/(this.end-this.start+1)*c;if("middle"==this.valueAxis.pointPosition&&(t-=180/(this.end-this.start+1)),n=r*Math.sin(t/180*Math.PI),r*=Math.cos(t/180*Math.PI),e.push(n),o.push(r),!isNaN(p)){var u=this.valueAxis.getCoordinate(p,this.noRounding)-this.height,u=u*this.valueAxis.rMultiplier,f=u*Math.sin(t/180*Math.PI),t=u*Math.cos(t/180*Math.PI);s.push(f);h.push(t);isNaN(l)&&(l=f);isNaN(y)&&(y=t)}t=this.createBullet(i,n,r,c);i.x=n;i.y=r;(f=this.labelText)&&(f=this.createLabel(i,f),u=0,t&&(u=t.size),this.positionLabel(i,n,r,f,u));isNaN(a)&&(a=n);isNaN(v)&&(v=r)}e.push(a);o.push(v);isNaN(l)||(s.push(l),h.push(y));this.drawLineGraph(e,o,s,h);this.launchAnimation()},positionLabel:function(n,t,i,r,u){var f;if(r){var w=this.chart,p=this.valueAxis,c="middle",y=!1,l=this.labelPosition,e=r.getBBox(),o=this.chart.rotate,s=n.isNegative,h=this.fontSize;void 0===h&&(h=this.chart.fontSize);i-=e.height/2-h/2-1;void 0!==n.labelIsNegative&&(s=n.labelIsNegative);switch(l){case"right":l=o?s?"left":"right":"right";break;case"top":l=o?"top":s?"bottom":"top";break;case"bottom":l=o?"bottom":s?"top":"bottom";break;case"left":l=o?s?"right":"left":"left"}var h=n.columnGraphics,a=0,v=0;h&&(a=h.x,v=h.y);f=this.labelOffset;switch(l){case"right":c="start";t+=u/2+f;break;case"top":i=p.reversed?i+(u/2+e.height/2+f):i-(u/2+e.height/2+f);break;case"bottom":i=p.reversed?i-(u/2+e.height/2+f):i+(u/2+e.height/2+f);break;case"left":c="end";t-=u/2+f;break;case"inside":"column"==this.type&&(y=!0,o?s?(c="end",t=a-3-f):(c="start",t=a+3+f):i=s?v+7+f:v-10-f);break;case"middle":"column"==this.type&&(y=!0,o?t-=(t-a)/2+f-3:i-=(i-v)/2+f-3)}return"auto"!=this.labelAnchor&&(c=this.labelAnchor),r.attr({"text-anchor":c}),this.labelRotation&&r.rotate(this.labelRotation),r.translate(t,i),!this.showAllValueLabels&&h&&y&&(e=r.getBBox(),e.height>n.columnHeight||e.width>n.columnWidth)&&(r.remove(),r=null),r&&"radar"!=w.type&&(o?((0>i||i>this.height)&&(r.remove(),r=null),!this.showAllValueLabels&&r&&(0>t||t>this.width)&&(r.remove(),r=null)):((0>t||t>this.width)&&(r.remove(),r=null),!this.showAllValueLabels&&r&&(0>i||i>this.height)&&(r.remove(),r=null))),r&&this.allBullets.push(r),r}},getGradRotation:function(){var n=270;return"horizontal"==this.gradientOrientation&&(n=0),this.gradientRotation=n},createSerialGraph:function(){var hu,br,fr,yi,lf,pi,af,u,kr,gi,cu,si,bt,er,lu,vf,au,ye,kt,pe,we,ar,dr,yf,pf,ht,wf,bf,kf,vu,yu,pu,df,gf,ne,be,te,ie,wi,vr;this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var it=this.chart,or=this.id,nr=this.index,ii=this.data,ct=this.chart.container,s=this.valueAxis,k=this.type,w=this.columnWidthReal,ei=this.showBulletsAt;isNaN(this.columnWidth)||(w=this.columnWidth);isNaN(w)&&(w=.8);var tr=this.useNegativeColorIfDown,d=this.width,nt=this.height,yo=this.y,tt=this.rotate,bi=this.columnCount,wu=n.toCoordinate(this.cornerRadiusTop,w/2),re=this.connect,l=[],a=[],yr,gr,ue,nu,ir=this.chart.graphs.length,tu,ft=this.dx/this.tcc,lt=this.dy/this.tcc,at=s.stackType,sr=this.start,pr=this.end,ki=this.scrollbar,iu="graph-column-";ki&&(iu="scrollbar-graph-column-");var ke=this.categoryAxis,de=this.baseCoord,bu=this.negativeBase,rt=this.columnIndex,et=this.lineThickness,ri=this.lineAlpha,ku=this.lineColorR,hi=this.dashLength,hr=this.set,ge,du=this.getGradRotation(),ci=this.chart.columnSpacing,ut=ke.cellWidth,no=(ut*w-bi)/bi;ci>no&&(ci=no);var g,t,gu,fe=nt,ee=d,nf=0,oe=0,se,he,tf,rf,ce=this.fillColorsR,cr=this.negativeFillColors,di=this.negativeLineColor,ru=this.fillAlphas,uu=this.negativeFillAlphas;if("object"==typeof ru&&(ru=ru[0]),"object"==typeof uu&&(uu=uu[0]),hu=this.noRounding,"step"==k&&(hu=!1),br=s.getCoordinate(s.min),s.logarithmic&&(br=s.getCoordinate(s.minReal)),this.minCoord=br,this.resetBullet&&(this.bullet="none"),ki||"line"!=k&&"smoothedLine"!=k&&"step"!=k||(1==ii.length&&"step"!=k&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!cr&&void 0==di||tr)||(fr=bu,fr>s.max&&(fr=s.max),fr<s.min&&(fr=s.min),s.logarithmic&&(fr=s.minReal),yi=s.getCoordinate(fr),lf=s.getCoordinate(s.max),tt?(fe=nt,ee=Math.abs(lf-yi),se=nt,he=Math.abs(br-yi),rf=oe=0,s.reversed?(nf=0,tf=yi):(nf=yi,tf=0)):(ee=d,fe=Math.abs(lf-yi),he=d,se=Math.abs(br-yi),tf=nf=0,s.reversed?(rf=yo,oe=yi):rf=yi)),pi=Math.round,this.pmx=pi(nf),this.pmy=pi(oe),this.pmh=pi(fe),this.pmw=pi(ee),this.nmx=pi(tf),this.nmy=pi(rf),this.nmh=pi(se),this.nmw=pi(he),n.isModern||(this.nmy=this.nmx=0,this.nmh=this.height),this.clustered||(bi=1),w="column"==k?(ut*w-ci*(bi-1))/bi:ut*w,1>w&&(w=1),af=this.fixedColumnWidth,isNaN(af)||(w=af),"line"==k||"step"==k||"smoothedLine"==k){if(0<sr){for(u=sr-1;-1<u;u--)if(g=ii[u],t=g.axes[s.id].graphs[or],gu=t.values.value,!isNaN(gu)){sr=u;break}if(this.lineColorField)for(u=sr;-1<u;u--)if(g=ii[u],t=g.axes[s.id].graphs[or],t.lineColor){this.lineColorSwitched=t.lineColor;void 0===this.bulletColor&&(this.bulletColorSwitched=this.lineColorSwitched);break}if(this.fillColorsField)for(u=sr;-1<u;u--)if(g=ii[u],t=g.axes[s.id].graphs[or],t.fillColors){this.fillColorsSwitched=t.fillColors;break}if(this.dashLengthField)for(u=sr;-1<u;u--)if(g=ii[u],t=g.axes[s.id].graphs[or],!isNaN(t.dashLength)){this.dashLengthSwitched=t.dashLength;break}}if(pr<ii.length-1)for(u=pr+1;u<ii.length;u++)if(g=ii[u],t=g.axes[s.id].graphs[or],gu=t.values.value,!isNaN(gu)){pr=u;break}}pr<ii.length-1&&pr++;var v=[],y=[],rr=!1;("line"==k||"step"==k||"smoothedLine"==k)&&(this.stackable&&"regular"==at||"100%"==at||this.fillToGraph)&&(rr=!0);var to=this.noStepRisers,uf=-1e3,ff=-1e3,ef=this.minDistance,lr=!0,fu=!1;for(u=sr;u<=pr;u++){if(g=ii[u],t=g.axes[s.id].graphs[or],t.index=u,gi=NaN,tr&&void 0==this.openField)for(cu=u+1;cu<ii.length&&(!ii[cu]||!(kr=ii[u+1].axes[s.id].graphs[or])||!kr.values||(gi=kr.values.value,isNaN(gi)));cu++);var c,h,e,b,bt=NaN,i=NaN,r=NaN,o=NaN,f=NaN,vt=NaN,dt=NaN,yt=NaN,gt=NaN,ui=NaN,li=NaN,pt=NaN,ot=NaN,p=NaN,le=NaN,ae=NaN,wt=NaN,ht=void 0,ur=ce,wr=ru,ai=ku,fi,ni,ve=this.proCandlesticks,of=this.topRadius,oi=nt-1,st=d-1,eu=this.pattern;if(void 0!=t.pattern&&(eu=t.pattern),isNaN(t.alpha)||(wr=t.alpha),isNaN(t.dashLength)||(hi=t.dashLength),si=t.values,s.recalculateToPercents&&(si=t.percents),"none"==at&&(rt=isNaN(t.columnIndex)?this.columnIndex:t.columnIndex),si){if(p=this.stackable&&"none"!=at&&"3d"!=at?si.close:si.value,("candlestick"==k||"ohlc"==k)&&(p=si.close,ae=si.low,dt=s.getCoordinate(ae),le=si.high,gt=s.getCoordinate(le)),wt=si.open,r=s.getCoordinate(p,hu),isNaN(wt)||(f=s.getCoordinate(wt,hu),tr&&"regular"!=at&&"100%"!=at&&(gi=wt,wt=f=NaN)),tr&&(void 0==this.openField?kr&&(kr.isNegative=gi<p?!0:!1,isNaN(gi)&&(t.isNegative=!lr)):t.isNegative=gi>p?!0:!1),!ki)switch(this.showBalloonAt){case"close":t.y=r;break;case"open":t.y=f;break;case"high":t.y=gt;break;case"low":t.y=dt}bt=g.x[ke.id];er=this.periodSpan-1;"step"!=k||isNaN(g.cellWidth)||(ut=g.cellWidth);var ti=Math.floor(ut/2)+Math.floor(er*ut/2),vi=ti,sf=0;"left"==this.stepDirection&&(sf=(2*ut+er*ut)/2,bt-=sf);"center"==this.stepDirection&&(sf=ut/2,bt-=sf);"start"==this.pointPosition&&(bt-=ut/2+Math.floor(er*ut/2),ti=0,vi=Math.floor(ut)+Math.floor(er*ut));"end"==this.pointPosition&&(bt+=ut/2+Math.floor(er*ut/2),ti=Math.floor(ut)+Math.floor(er*ut),vi=0);to&&(lu=this.columnWidth,isNaN(lu)||(ti*=lu,vi*=lu));ki||(t.x=bt);-1e5>bt&&(bt=-1e5);bt>d+1e5&&(bt=d+1e5);tt?(i=r,o=f,f=r=bt,isNaN(wt)&&!this.fillToGraph&&(o=de),vt=dt,yt=gt):(o=i=bt,isNaN(wt)&&!this.fillToGraph&&(f=de));(!ve&&p<wt||ve&&p<ge)&&(t.isNegative=!0,cr&&(ur=cr),uu&&(wr=uu),void 0!=di&&(ai=di));fu=!1;isNaN(p)||(tr?p>gi?(lr&&(fu=!0),lr=!1):(lr||(fu=!0),lr=!0):t.isNegative=p<bu?!0:!1,ge=p);vf=!1;ki&&it.chartScrollbar.ignoreCustomColors&&(vf=!0);vf||(void 0!=t.color&&(ur=t.color),t.fillColors&&(ur=t.fillColors));r=n.fitToBounds(r,-3e4,3e4);switch(k){case"line":isNaN(p)?re||(this.drawLineGraph(l,a,v,y),l=[],a=[],v=[],y=[]):((Math.abs(i-uf)>=ef||Math.abs(r-ff)>=ef)&&(l.push(i),a.push(r),uf=i,ff=r),ui=i,li=r,pt=i,ot=r,!rr||isNaN(f)||isNaN(o)||(v.push(o),y.push(f)),(fu||void 0!=t.lineColor&&t.lineColor!=this.lineColorSwitched||void 0!=t.fillColors&&t.fillColors!=this.fillColorsSwitched||!isNaN(t.dashLength))&&(this.drawLineGraph(l,a,v,y),l=[i],a=[r],v=[],y=[],!rr||isNaN(f)||isNaN(o)||(v.push(o),y.push(f)),tr?(lr?(this.lineColorSwitched=ku,this.fillColorsSwitched=ce):(this.lineColorSwitched=di,this.fillColorsSwitched=cr),void 0===this.bulletColor&&(this.bulletColorSwitched=ku)):(this.lineColorSwitched=t.lineColor,this.fillColorsSwitched=t.fillColors,void 0===this.bulletColor&&(this.bulletColorSwitched=this.lineColorSwitched)),this.dashLengthSwitched=t.dashLength),t.gap&&(this.drawLineGraph(l,a,v,y),l=[],a=[],v=[],y=[]));break;case"smoothedLine":isNaN(p)?re||(this.drawSmoothedGraph(l,a,v,y),l=[],a=[],v=[],y=[]):((Math.abs(i-uf)>=ef||Math.abs(r-ff)>=ef)&&(l.push(i),a.push(r),uf=i,ff=r),ui=i,li=r,pt=i,ot=r,!rr||isNaN(f)||isNaN(o)||(v.push(o),y.push(f)),void 0==t.lineColor&&void 0==t.fillColors&&isNaN(t.dashLength)||(this.drawSmoothedGraph(l,a,v,y),l=[i],a=[r],v=[],y=[],!rr||isNaN(f)||isNaN(o)||(v.push(o),y.push(f)),this.lineColorSwitched=t.lineColor,this.fillColorsSwitched=t.fillColors,this.dashLengthSwitched=t.dashLength),t.gap&&(this.drawSmoothedGraph(l,a,v,y),l=[],a=[],v=[],y=[]));break;case"step":isNaN(p)?re||((1>=this.periodSpan||1<this.periodSpan&&i-yr>ti+vi)&&(yr=gr=NaN),this.drawLineGraph(l,a,v,y),l=[],a=[],v=[],y=[]):(tt?(isNaN(yr)||(l.push(yr),a.push(r-ti)),a.push(r-ti),l.push(i),a.push(r+vi),l.push(i),!rr||isNaN(f)||isNaN(o)||(isNaN(ue)||(v.push(ue),y.push(f-ti)),v.push(o),y.push(f-ti),v.push(o),y.push(f+vi))):(isNaN(gr)||(a.push(gr),l.push(i-ti)),l.push(i-ti),a.push(r),l.push(i+vi),a.push(r),!rr||isNaN(f)||isNaN(o)||(isNaN(nu)||(v.push(o-ti),y.push(nu)),v.push(o-ti),y.push(f),v.push(o+vi),y.push(f))),yr=i,gr=r,ue=o,nu=f,ui=i,li=r,pt=i,ot=r,(fu||void 0!=t.lineColor||void 0!=t.fillColors||!isNaN(t.dashLength))&&(au=l[l.length-2],ye=a[a.length-2],l.pop(),a.pop(),v.pop(),y.pop(),this.drawLineGraph(l,a,v,y),l=[au],a=[ye],v=[],y=[],rr&&(v=[au,au+ti+vi],y=[nu,nu]),tt?(a.push(r+vi),l.push(i)):(l.push(i+vi),a.push(r)),this.lineColorSwitched=t.lineColor,this.fillColorsSwitched=t.fillColors,this.dashLengthSwitched=t.dashLength,tr&&(lr?(this.lineColorSwitched=ku,this.fillColorsSwitched=ce):(this.lineColorSwitched=di,this.fillColorsSwitched=cr))),(to||t.gap)&&(yr=gr=NaN,this.drawLineGraph(l,a,v,y),l=[],a=[],v=[],y=[]));break;case"column":if(fi=ai,void 0!=t.lineColor&&(fi=t.lineColor),!isNaN(p)){tr||(t.isNegative=p<bu?!0:!1);t.isNegative&&(cr&&(ur=cr),void 0!=di&&(fi=di));var io=s.min,ro=s.max,hf=wt;isNaN(hf)&&(hf=bu);p<io&&hf<io||p>ro&&hf>ro||(tt?("3d"==at?(h=r-(bi/2-this.depthCount+1)*(w+ci)+ci/2+lt*rt,c=o+ft*rt,kt=rt):(h=Math.floor(r-(bi/2-rt)*(w+ci)+ci/2),c=o,kt=0),e=w,ui=i,li=h+w/2,pt=i,ot=h+w/2,h+e>nt+kt*lt&&(e=nt-h+kt*lt),h<kt*lt&&(e+=h,h=kt*lt),b=i-o,pe=c,c=n.fitToBounds(c,0,d),b+=pe-c,b=n.fitToBounds(b,-c,d-c+ft*rt),t.labelIsNegative=0>b?!0:!1,0===b&&1/p==1/-0&&(t.labelIsNegative=!0),isNaN(g.percentWidthValue)||(e=this.height*g.percentWidthValue/100,h=bt-e/2,li=h+e/2),e=n.roundTo(e,2),b=n.roundTo(b,2),h<nt&&0<e&&(ht=new n.Cuboid(ct,b,e,ft-it.d3x,lt-it.d3y,ur,wr,et,fi,ri,du,wu,tt,hi,eu,of,iu),t.columnWidth=Math.abs(b),t.columnHeight=Math.abs(e))):("3d"==at?(c=i-(bi/2-this.depthCount+1)*(w+ci)+ci/2+ft*rt,h=f+lt*rt,kt=rt):(c=i-(bi/2-rt)*(w+ci)+ci/2,h=f,kt=0),e=w,ui=c+w/2,li=r,pt=c+w/2,ot=r,c+e>d+kt*ft&&(e=d-c+kt*ft),c<kt*ft&&(e+=c-kt*ft,c=kt*ft),b=r-f,t.labelIsNegative=0<b?!0:!1,0===b&&1/p!=1/Math.abs(p)&&(t.labelIsNegative=!0),we=h,h=n.fitToBounds(h,this.dy,nt),b+=we-h,b=n.fitToBounds(b,-h+lt*kt,nt-h),isNaN(g.percentWidthValue)||(e=this.width*g.percentWidthValue/100,c=bt-e/2,ui=c+e/2),e=n.roundTo(e,2),b=n.roundTo(b,2),c<d+rt*ft&&0<e&&(this.showOnAxis&&(h-=lt/2),ht=new n.Cuboid(ct,e,b,ft-it.d3x,lt-it.d3y,ur,wr,et,fi,this.lineAlpha,du,wu,tt,hi,eu,of,iu),t.columnHeight=Math.abs(b),t.columnWidth=Math.abs(e))));ht&&(ni=ht.set,n.setCN(it,ht.set,"graph-"+this.type),n.setCN(it,ht.set,"graph-"+this.id),t.className&&n.setCN(it,ht.set,t.className,!0),t.columnGraphics=ni,c=n.roundTo(c,2),h=n.roundTo(h,2),ni.translate(c,h),(t.url||this.showHandOnHover)&&ni.setAttr("cursor","pointer"),ki||("none"==at&&(tu=tt?(this.end+1-u)*ir-nr:ir*u+nr),"3d"==at&&(tt?(tu=(this.end+1-u)*ir-nr-1e3*this.depthCount,ui+=ft*rt,pt+=ft*rt,t.y+=ft*rt):(tu=(ir-nr)*(u+1)+1e3*this.depthCount,li+=lt*rt,ot+=lt*rt,t.y+=lt*rt)),("regular"==at||"100%"==at)&&(tu=tt?0<si.value?(this.end+1-u)*ir+nr:(this.end+1-u)*ir-nr:0<si.value?ir*u+nr:ir*u-nr),this.columnsArray.push({column:ht,depth:tu}),t.x=tt?h+e/2:c+e/2,this.ownColumns.push(ht),this.animateColumns(ht,u,i,o,r,f),this.addListeners(ni,t),void 0!==this.tabIndex&&ni.setAttr("tabindex",this.tabIndex)),this.columnsSet.push(ni))}break;case"candlestick":if(!isNaN(wt)&&!isNaN(p)){if(fi=ai,void 0!=t.lineColor&&(fi=t.lineColor),ui=i,ot=li=r,pt=i,tt){if("open"==ei&&(pt=o),"high"==ei&&(pt=yt),"low"==ei&&(pt=vt),i=n.fitToBounds(i,0,st),o=n.fitToBounds(o,0,st),vt=n.fitToBounds(vt,0,st),yt=n.fitToBounds(yt,0,st),0===i&&0===o&&0===vt&&0===yt)continue;if(i==st&&o==st&&vt==st&&yt==st)continue;h=r-w/2;c=o;e=w;h+e>nt&&(e=nt-h);0>h&&(e+=h,h=0);h<nt&&0<e&&(p>wt?(yf=[i,yt],pf=[o,vt]):(yf=[o,yt],pf=[i,vt]),!isNaN(yt)&&!isNaN(vt)&&r<nt&&0<r&&(ar=n.line(ct,yf,[r,r],fi,ri,et),dr=n.line(ct,pf,[r,r],fi,ri,et)),b=i-o,ht=new n.Cuboid(ct,b,e,ft,lt,ur,ru,et,fi,ri,du,wu,tt,hi,eu,of,iu))}else{if("open"==ei&&(ot=f),"high"==ei&&(ot=gt),"low"==ei&&(ot=dt),r=n.fitToBounds(r,0,oi),f=n.fitToBounds(f,0,oi),dt=n.fitToBounds(dt,0,oi),gt=n.fitToBounds(gt,0,oi),0===r&&0===f&&0===dt&&0===gt)continue;if(r==oi&&f==oi&&dt==oi&&gt==oi)continue;c=i-w/2;h=f+et/2;e=w;c+e>d&&(e=d-c);0>c&&(e+=c,c=0);b=r-f;c<d&&0<e&&(ve&&p>=wt&&(wr=0),ht=new n.Cuboid(ct,e,b,ft,lt,ur,wr,et,fi,ri,du,wu,tt,hi,eu,of,iu),p>wt?(wf=[r,gt],bf=[f,dt]):(wf=[f,gt],bf=[r,dt]),!isNaN(gt)&&!isNaN(dt)&&i<d&&0<i&&(ar=n.line(ct,[i,i],wf,fi,ri,et),dr=n.line(ct,[i,i],bf,fi,ri,et),n.setCN(it,ar,this.bcn+"line-high"),t.className&&n.setCN(it,ar,t.className,!0),n.setCN(it,dr,this.bcn+"line-low"),t.className&&n.setCN(it,dr,t.className,!0)))}ht&&(ni=ht.set,t.columnGraphics=ni,hr.push(ni),ni.translate(c,h-et/2),(t.url||this.showHandOnHover)&&ni.setAttr("cursor","pointer"),ar&&(hr.push(ar),hr.push(dr)),ki||(t.x=tt?h+e/2:c+e/2,this.animateColumns(ht,u,i,o,r,f),this.addListeners(ni,t),void 0!==this.tabIndex&&ni.setAttr("tabindex",this.tabIndex)))}break;case"ohlc":if(!(isNaN(wt)||isNaN(le)||isNaN(ae)||isNaN(p))){if(kf=ct.set(),hr.push(kf),p<wt&&(t.isNegative=!0,void 0!=di&&(ai=di)),void 0!=t.lineColor&&(ai=t.lineColor),tt){if(ot=r,pt=i,"open"==ei&&(pt=o),"high"==ei&&(pt=yt),"low"==ei&&(pt=vt),vt=n.fitToBounds(vt,0,st),yt=n.fitToBounds(yt,0,st),0===i&&0===o&&0===vt&&0===yt)continue;if(i==st&&o==st&&vt==st&&yt==st)continue;var uo=r-w/2,uo=n.fitToBounds(uo,0,nt),fo=n.fitToBounds(r,0,nt),eo=r+w/2,eo=n.fitToBounds(eo,0,nt);0<=o&&o<=st&&(yu=n.line(ct,[o,o],[uo,fo],ai,ri,et,hi));0<r&&r<nt&&(vu=n.line(ct,[vt,yt],[r,r],ai,ri,et,hi));0<=i&&i<=st&&(pu=n.line(ct,[i,i],[fo,eo],ai,ri,et,hi))}else{ot=r;"open"==ei&&(ot=f);"high"==ei&&(ot=gt);"low"==ei&&(ot=dt);var pt=i,dt=n.fitToBounds(dt,0,oi),gt=n.fitToBounds(gt,0,oi),oo=i-w/2,oo=n.fitToBounds(oo,0,d),so=n.fitToBounds(i,0,d),ho=i+w/2,ho=n.fitToBounds(ho,0,d);0<=f&&f<=oi&&(yu=n.line(ct,[oo,so],[f,f],ai,ri,et,hi));0<i&&i<d&&(vu=n.line(ct,[i,i],[dt,gt],ai,ri,et,hi));0<=r&&r<=oi&&(pu=n.line(ct,[so,ho],[r,r],ai,ri,et,hi))}hr.push(yu);hr.push(vu);hr.push(pu);n.setCN(it,yu,this.bcn+"stroke-open");n.setCN(it,pu,this.bcn+"stroke-close");n.setCN(it,vu,this.bcn+"stroke");t.className&&n.setCN(it,kf,t.className,!0);ui=i;li=r}}if(!ki&&!isNaN(p)&&(df=this.hideBulletsCount,(this.end-this.start<=df||0===df)&&(gf=this.createBullet(t,pt,ot,u),ne=this.labelText,!ne||isNaN(ui)||isNaN(ui)||(be=this.createLabel(t,ne),te=0,gf&&(te=gf.size),this.positionLabel(t,ui,li,be,te)),("regular"==at||"100%"==at)&&(ie=s.totalText,ie&&(wi=this.createLabel(t,ie,s.totalTextColor),n.setCN(it,wi,this.bcn+"label-total"),this.allBullets.push(wi),wi))))){var co=wi.getBBox(),lo=co.width,ao=co.height,ou,su,cf=s.totalTextOffset,vo=s.totals[u];vo&&vo.remove();vr=0;"column"!=k&&(vr=this.bulletSize);tt?(su=li,ou=0>p?i-lo/2-2-vr-cf:i+lo/2+3+vr+cf):(ou=ui,su=0>p?r+ao/2+vr+cf:r-ao/2-3-vr-cf);wi.translate(ou,su);s.totals[u]=wi;tt?(0>su||su>nt)&&wi.remove():(0>ou||ou>d)&&wi.remove()}}}this.lastDataItem=t;("line"==k||"step"==k||"smoothedLine"==k)&&("smoothedLine"==k?this.drawSmoothedGraph(l,a,v,y):this.drawLineGraph(l,a,v,y),ki||this.launchAnimation());this.bulletsHidden&&this.hideBullets();this.customBulletsHidden&&this.hideCustomBullets()},animateColumns:function(n,t){var i=this,r=i.chart.startDuration;0<r&&!i.animationPlayed&&(i.seqAn?(n.set.hide(),i.animationArray.push(n),r=setTimeout(function(){i.animate.call(i)},r/(i.end-i.start+1)*(t-i.start)*1e3),i.timeOuts.push(r)):i.animate(n),i.chart.animatable.push(n))},createLabel:function(t,i,r){var f=this.chart,u=t.labelColor,e;return u||(u=this.color),u||(u=f.color),r&&(u=r),r=this.fontSize,void 0===r&&(this.fontSize=r=f.fontSize),e=this.labelFunction,i=f.formatString(i,t),i=n.cleanFromEmpty(i),e&&(i=e(t,i)),void 0!==i&&""!==i?(t=n.text(this.container,i,u,f.fontFamily,r),t.node.style.pointerEvents="none",n.setCN(f,t,this.bcn+"label"),this.bulletSet.push(t),t):void 0},positiveClip:function(n){n.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(n){n.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(t,i,r,u){var f=this,v,a,k;if(1<t.length){var c=f.noRounding,y=f.set,l=f.chart,p=f.container,w=p.set(),b=p.set();y.push(b);y.push(w);var h=f.lineAlpha,e=f.lineThickness,y=f.fillAlphas,nt=f.lineColorR,o=f.negativeLineAlpha;isNaN(o)&&(o=h);v=f.lineColorSwitched;v&&(nt=v);v=f.fillColorsR;a=f.fillColorsSwitched;a&&(v=a);k=f.dashLength;(a=f.dashLengthSwitched)&&(k=a);var a=f.negativeLineColor,d=f.negativeFillColors,g=f.negativeFillAlphas,s=f.baseCoord;0!==f.negativeBase&&(s=f.valueAxis.getCoordinate(f.negativeBase,c),s>f.height&&(s=f.height),0>s&&(s=0));h=n.line(p,t,i,nt,h,e,k,!1,!0,c);h.node.setAttribute("stroke-linejoin","round");n.setCN(l,h,f.bcn+"stroke");w.push(h);w.click(function(n){f.handleGraphEvent(n,"clickGraph")}).mouseover(function(n){f.handleGraphEvent(n,"rollOverGraph")}).mouseout(function(n){f.handleGraphEvent(n,"rollOutGraph")}).touchmove(function(n){f.chart.handleMouseMove(n)}).touchend(function(n){f.chart.handleTouchEnd(n)});void 0===a||f.useNegativeColorIfDown||(e=n.line(p,t,i,a,o,e,k,!1,!0,c),e.node.setAttribute("stroke-linejoin","round"),n.setCN(l,e,f.bcn+"stroke"),n.setCN(l,e,f.bcn+"stroke-negative"),b.push(e));(0<y||0<g)&&(e=t.join(";").split(";"),o=i.join(";").split(";"),h=l.type,"serial"==h||"radar"==h?0<r.length?(r.reverse(),u.reverse(),e=t.concat(r),o=i.concat(u)):"radar"==h?(o.push(0),e.push(0)):f.rotate?(o.push(o[o.length-1]),e.push(s),o.push(o[0]),e.push(s),o.push(o[0]),e.push(e[0])):(e.push(e[e.length-1]),o.push(s),e.push(e[0]),o.push(s),e.push(t[0]),o.push(o[0])):"xy"==h&&(i=f.fillToAxis)&&(n.isString(i)&&(i=l.getValueAxisById(i)),"H"==i.orientation?(s="top"==i.position?0:i.height,e.push(e[e.length-1]),o.push(s),e.push(e[0]),o.push(s),e.push(t[0]),o.push(o[0])):(s="left"==i.position?0:i.width,o.push(o[o.length-1]),e.push(s),o.push(o[0]),e.push(s),o.push(o[0]),e.push(e[0]))),t=f.gradientRotation,0<y&&(i=n.polygon(p,e,o,v,y,1,"#000",0,t,c),i.pattern(f.pattern,NaN,l.path),n.setCN(l,i,f.bcn+"fill"),w.push(i)),d||void 0!==a)&&(isNaN(g)&&(g=y),d||(d=a),c=n.polygon(p,e,o,d,g,1,"#000",0,t,c),n.setCN(l,c,f.bcn+"fill"),n.setCN(l,c,f.bcn+"fill-negative"),c.pattern(f.pattern,NaN,l.path),b.push(c),b.click(function(n){f.handleGraphEvent(n,"clickGraph")}).mouseover(function(n){f.handleGraphEvent(n,"rollOverGraph")}).mouseout(function(n){f.handleGraphEvent(n,"rollOutGraph")}).touchmove(function(n){f.chart.handleMouseMove(n)}).touchend(function(n){f.chart.handleTouchEnd(n)}));f.applyMask(b,w)}},applyMask:function(n,t){var i=n.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(t),0<i&&this.negativeClip(n))},drawSmoothedGraph:function(t,i,r,u){var a;if(1<t.length){var h=this.set,o=this.chart,c=this.container,v=c.set(),y=c.set();h.push(y);h.push(v);var s=this.lineAlpha,f=this.lineThickness,h=this.dashLength,d=this.fillAlphas,l=this.lineColorR,p=this.fillColorsR,w=this.negativeLineColor,b=this.negativeFillColors,g=this.negativeFillAlphas,k=this.baseCoord,e=this.lineColorSwitched;e&&(l=e);(e=this.fillColorsSwitched)&&(p=e);a=this.negativeLineAlpha;isNaN(a)&&(a=s);e=this.getGradRotation();s=new n.Bezier(c,t,i,l,s,f,p,0,h,void 0,e);n.setCN(o,s,this.bcn+"stroke");v.push(s.path);void 0!==w&&(f=new n.Bezier(c,t,i,w,a,f,p,0,h,void 0,e),n.setCN(o,f,this.bcn+"stroke"),n.setCN(o,f,this.bcn+"stroke-negative"),y.push(f.path));0<d&&(s=t.join(";").split(";"),l=i.join(";").split(";"),f="",0<r.length?(r.push("M"),u.push("M"),r.reverse(),u.reverse(),s=t.concat(r),l=i.concat(u)):(this.rotate?(f+=" L"+k+","+i[i.length-1],f+=" L"+k+","+i[0]):(f+=" L"+t[t.length-1]+","+k,f+=" L"+t[0]+","+k),f+=" L"+t[0]+","+i[0]),r=new n.Bezier(c,s,l,NaN,0,0,p,d,h,f,e),n.setCN(o,r,this.bcn+"fill"),r.path.pattern(this.pattern,NaN,o.path),v.push(r.path),b||void 0!==w)&&(g||(g=d),b||(b=w),t=new n.Bezier(c,t,i,NaN,0,0,b,g,h,f,e),t.path.pattern(this.pattern,NaN,o.path),n.setCN(o,t,this.bcn+"fill"),n.setCN(o,t,this.bcn+"fill-negative"),y.push(t.path));this.applyMask(y,v)}},launchAnimation:function(){var t=this,i=t.chart.startDuration,r,u;0<i&&!t.animationPlayed&&(r=t.set,u=t.bulletSet,n.VML||(r.attr({opacity:t.startAlpha}),u.attr({opacity:t.startAlpha})),r.hide(),u.hide(),t.seqAn?(i=setTimeout(function(){t.animateGraphs.call(t)},t.index*i*1e3),t.timeOuts.push(i)):t.animateGraphs())},animateGraphs:function(){var u=this.chart,n=this.set,t=this.bulletSet,i=this.x,r=this.y,f,e;n.show();t.show();f=u.startDuration;e=u.startEffect;n&&(this.rotate?(n.translate(-1e3,r),t.translate(-1e3,r)):(n.translate(i,-1e3),t.translate(i,-1e3)),n.animate({opacity:1,translate:i+","+r},f,e),t.animate({opacity:1,translate:i+","+r},f,e),u.animatable.push(n))},animate:function(t){var r=this.chart,i=this.animationArray;!t&&0<i.length&&(t=i[0],i.shift());i=n[n.getEffect(r.startEffect)];r=r.startDuration;t&&(this.rotate?t.animateWidth(r,i):t.animateHeight(r,i),t.set.show())},legendKeyColor:function(){var t=this.legendColor,n=this.lineAlpha;return void 0===t&&(t=this.lineColorR,0===n&&(n=this.fillColorsR)&&(t="object"==typeof n?n[0]:n)),t},legendKeyAlpha:function(){var n=this.legendAlpha;return void 0===n&&(n=this.lineAlpha,this.fillAlphas>n&&(n=this.fillAlphas),0===n&&(n=this.bulletAlpha),0===n&&(n=1)),n},createBullet:function(t,i,r){var u,v;if(!isNaN(i)&&!isNaN(r)&&("none"!=this.bullet||this.customBullet||t.bullet||t.customBullet)){var s=this.chart,o=this.container,l=this.bulletOffset,e=this.bulletSize;isNaN(t.bulletSize)||(e=t.bulletSize);var a=t.values.value,f=this.maxValue,h=this.minValue,y=this.maxBulletSize,c=this.minBulletSize;isNaN(f)||(isNaN(a)||(e=(a-h)/(f-h)*(y-c)+c),h==f&&(e=y));f=e;this.bulletAxis&&(e=t.values.error,isNaN(e)||(a=e),e=this.bulletAxis.stepWidth*a);e<this.minBulletSize&&(e=this.minBulletSize);this.rotate?i=t.isNegative?i-l:i+l:r=t.isNegative?r+l:r-l;c=this.bulletColorR;t.lineColor&&void 0===this.bulletColor&&(this.bulletColorSwitched=t.lineColor);this.bulletColorSwitched&&(c=this.bulletColorSwitched);t.isNegative&&void 0!==this.bulletColorNegative&&(c=this.bulletColorNegative);void 0!==t.color&&(c=t.color);"xy"==s.type&&this.valueField&&(u=this.pattern,t.pattern&&(u=t.pattern));l=this.bullet;t.bullet&&(l=t.bullet);var a=this.bulletBorderThickness,h=this.bulletBorderColorR,y=this.bulletBorderAlpha,p=this.bulletAlpha;return h||(h=c),this.useLineColorForBulletBorder&&(h=this.lineColorR,t.isNegative&&this.negativeLineColor&&(h=this.negativeLineColor),this.lineColorSwitched&&(h=this.lineColorSwitched)),v=t.alpha,isNaN(v)||(p=v),u=n.bullet(o,l,e,c,p,a,h,y,f,0,u,s.path),f=this.customBullet,t.customBullet&&(f=t.customBullet),f&&(u&&u.remove(),"function"==typeof f?(f=new f,f.chart=s,t.bulletConfig&&(f.availableSpace=r,f.graph=this,f.graphDataItem=t,f.bulletY=r,t.bulletConfig.minCoord=this.minCoord-r,f.bulletConfig=t.bulletConfig),f.write(o),u&&f.showBullet&&f.set.push(u),t.customBulletGraphics=f.cset,u=f.set):(u=o.set(),f=o.image(f,0,0,e,e),u.push(f),this.centerCustomBullets&&f.translate(-e/2,-e/2))),u&&((t.url||this.showHandOnHover)&&u.setAttr("cursor","pointer"),("serial"==s.type||"gantt"==s.type)&&(-.5>i||i>this.width||r<-e/2||r>this.height)&&(u.remove(),u=null),u&&(this.bulletSet.push(u),u.translate(i,r),this.addListeners(u,t),this.allBullets.push(u)),t.bx=i,t.by=r,n.setCN(s,u,this.bcn+"bullet"),t.className&&n.setCN(s,u,t.className,!0)),u?(u.size=e||0,(s=this.bulletHitAreaSize)&&(o=n.circle(o,s,"#FFFFFF",.001,0),o.translate(i,r),t.hitBullet=o,this.bulletSet.push(o),this.addListeners(o,t)),t.bulletGraphics=u,void 0!==this.tabIndex&&u.setAttr("tabindex",this.tabIndex)):u={size:0},u.graphDataItem=t,u}},showBullets:function(){var t=this.allBullets,n;for(this.bulletsHidden=!1,n=0;n<t.length;n++)t[n].show()},hideBullets:function(){var t=this.allBullets,n;for(this.bulletsHidden=!0,n=0;n<t.length;n++)t[n].hide()},showCustomBullets:function(){var i=this.allBullets,n,t;for(this.customBulletsHidden=!1,n=0;n<i.length;n++)t=i[n].graphDataItem,t.customBulletGraphics&&t.customBulletGraphics.show()},hideCustomBullets:function(){var i=this.allBullets,n,t;for(this.customBulletsHidden=!0,n=0;n<i.length;n++)t=i[n].graphDataItem,t.customBulletGraphics&&t.customBulletGraphics.hide()},addListeners:function(n,t){var i=this,r,u;n.mouseover(function(n){i.handleRollOver(t,n)}).mouseout(function(n){i.handleRollOut(t,n)}).touchend(function(n){i.handleRollOver(t,n);i.chart.panEventsEnabled&&i.handleClick(t,n)}).touchstart(function(n){i.handleRollOver(t,n)}).click(function(n){i.handleClick(t,n)}).dblclick(function(n){i.handleDoubleClick(t,n)}).contextmenu(function(n){i.handleRightClick(t,n)});r=i.chart;r.accessible&&i.accessibleLabel&&(u=r.formatString(i.accessibleLabel,t),r.makeAccessible(n,u))},handleRollOver:function(n,t){var i,r;this.handleGraphEvent(t,"rollOverGraph");n&&(i=this.chart,n.bulletConfig&&(i.isRolledOverBullet=!0),r={type:"rollOverGraphItem",item:n,index:n.index,graph:this,target:this,chart:this.chart,event:t},this.fire(r),i.fire(r),clearTimeout(i.hoverInt),(i=i.chartCursor)&&i.valueBalloonsEnabled||this.showGraphBalloon(n,"V",!0))},handleRollOut:function(n,t){var i=this.chart,r;n&&(r={type:"rollOutGraphItem",item:n,index:n.index,graph:this,target:this,chart:this.chart,event:t},this.fire(r),i.fire(r),i.isRolledOverBullet=!1);this.handleGraphEvent(t,"rollOutGraph");(i=i.chartCursor)&&i.valueBalloonsEnabled||this.hideBalloon()},handleClick:function(t,i){if(!this.chart.checkTouchMoved()&&this.chart.checkTouchDuration(i)){if(t){var r={type:"clickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:i};this.fire(r);this.chart.fire(r);n.getURL(t.url,this.urlTarget)}this.handleGraphEvent(i,"clickGraph")}},handleGraphEvent:function(n,t){var i={type:t,graph:this,target:this,chart:this.chart,event:n};this.fire(i);this.chart.fire(i)},handleRightClick:function(n,t){if(n){var i={type:"rightClickGraphItem",item:n,index:n.index,graph:this,target:this,chart:this.chart,event:t};this.fire(i);this.chart.fire(i)}},handleDoubleClick:function(n,t){if(n){var i={type:"doubleClickGraphItem",item:n,index:n.index,graph:this,target:this,chart:this.chart,event:t};this.fire(i);this.chart.fire(i)}},zoom:function(n,t){this.start=n;this.end=t;this.draw()},changeOpacity:function(n){var t=this.set,i,r;if(t&&t.setAttr("opacity",n),t=this.ownColumns)for(i=0;i<t.length;i++)r=t[i].set,r&&r.setAttr("opacity",n);(t=this.bulletSet)&&t.setAttr("opacity",n)},destroy:function(){var t,i;if(n.remove(this.set),n.remove(this.bulletSet),t=this.timeOuts,t)for(i=0;i<t.length;i++)clearTimeout(t[i]);this.timeOuts=[]},createBalloon:function(){var i=this.chart,t;this.balloon?this.balloon.destroy&&this.balloon.destroy():this.balloon={};t=this.balloon;n.extend(t,i.balloon,!0);t.chart=i;t.mainSet=i.plotBalloonsSet;t.className=this.id},hideBalloon:function(){var n=this,t=n.chart;t.chartCursor?t.chartCursor.valueBalloonsEnabled||t.hideBalloon():t.hideBalloon();clearTimeout(n.hoverInt);n.hoverInt=setTimeout(function(){n.hideBalloonReal.call(n)},t.hideBalloonTime)},hideBalloonReal:function(){this.balloon&&this.balloon.hide();this.fixBulletSize()},fixBulletSize:function(){var t,i,r;n.isModern&&(t=this.resizedDItem,t&&(i=t.bulletGraphics,i&&!i.doNotScale&&(i.translate(t.bx,t.by,1),r=this.bulletAlpha,isNaN(t.alpha)||(r=t.alpha),i.setAttr("fill-opacity",r),i.setAttr("stroke-opacity",this.bulletBorderAlpha))),this.resizedDItem=null)},showGraphBalloon:function(t,i,r,u,f){var o,l;if(t){var s=this.chart,e=this.balloon,h=0,c=0,o=s.chartCursor,a=!0;if(o?o.valueBalloonsEnabled||(e=s.balloon,h=this.x,c=this.y,a=!1):(e=s.balloon,h=this.x,c=this.y,a=!1),clearTimeout(this.hoverInt),s.chartCursor&&(this.currentDataItem=t,"serial"==s.type&&s.isRolledOverBullet&&s.chartCursor.valueBalloonsEnabled)){this.hideBalloonReal();return}this.resizeBullet(t,u,f);e&&e.enabled&&this.showBalloon&&!this.hidden?(o=s.formatString(this.balloonText,t,!0),l=this.balloonFunction,l&&(o=l(t,t.graph)),o&&(o=n.cleanFromEmpty(o)),o&&""!==o?(u=s.getBalloonColor(this,t),e.drop||(e.pointerOrientation=i),i=t.x,f=t.y,s.rotate&&(i=t.y,f=t.x),i+=h,f+=c,isNaN(i)||isNaN(f)?this.hideBalloonReal():(t=this.width,l=this.height,a&&e.setBounds(h,c,t+h,l+c),e.changeColor(u),e.setPosition(i,f),e.fixPrevious(),e.fixedPosition&&(r=!1),!r&&"radar"!=s.type&&(i<h||i>t+h||f<c-.5||f>l+c)?(e.showBalloon(o),e.hide(0)):(e.followCursor(r),e.showBalloon(o)))):(this.hideBalloonReal(),e.hide(),this.resizeBullet(t,u,f))):this.hideBalloonReal()}},resizeBullet:function(t,i,r){if(this.fixBulletSize(),t&&n.isModern&&(1!=i||!isNaN(r))){var u=t.bulletGraphics;u&&!u.doNotScale&&(u.translate(t.bx,t.by,i),isNaN(r)||(u.setAttr("fill-opacity",r),u.setAttr("stroke-opacity",r)),this.resizedDItem=t)}}})}(),function(){var n=window.AmCharts;n.ChartCursor=n.Class({construct:function(t){this.cname="ChartCursor";this.createEvents("changed","zoomed","onHideCursor","onShowCursor","draw","selected","moved","panning","zoomStarted");this.enabled=!0;this.cursorAlpha=1;this.selectionAlpha=.2;this.cursorColor="#CC0000";this.categoryBalloonAlpha=1;this.color="#FFFFFF";this.type="cursor";this.zoomed=!1;this.zoomable=!0;this.pan=!1;this.categoryBalloonDateFormat="MMM DD, YYYY";this.categoryBalloonText="[[category]]";this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0;this.rolledOver=!1;this.cursorPosition="middle";this.bulletsEnabled=this.skipZoomDispatch=!1;this.bulletSize=8;this.selectWithoutZooming=this.oneBalloonOnly=!1;this.graphBulletSize=1.7;this.animationDuration=.3;this.zooming=!1;this.adjustment=0;this.avoidBalloonOverlapping=!0;this.leaveCursor=!1;this.leaveAfterTouch=!0;this.valueZoomable=!1;this.balloonPointerOrientation="horizontal";this.hLineEnabled=this.vLineEnabled=!0;this.vZoomEnabled=this.hZoomEnabled=!1;n.applyTheme(this,t,this.cname)},draw:function(){var t,i;this.destroy();t=this.chart;t.panRequired=!0;i=t.container;this.rotate=t.rotate;this.container=i;this.prevLineHeight=this.prevLineWidth=NaN;i=i.set();i.translate(this.x,this.y);this.set=i;t.cursorSet.push(i);this.createElements();n.isString(this.limitToGraph)&&(this.limitToGraph=n.getObjById(t.graphs,this.limitToGraph),this.fullWidth=!1,this.cursorPosition="middle");this.pointer=this.balloonPointerOrientation.substr(0,1).toUpperCase();this.isHidden=!1;this.hideLines();this.valueLineAxis||(this.valueLineAxis=t.valueAxes[0])},createElements:function(){var t=this,i=t.chart,h=i.dx,c=i.dy,u=t.width,s=t.height,f,r,e=t.cursorAlpha,o=t.valueLineAlpha;t.rotate?(f=o,r=e):(r=o,f=e);"xy"==i.type&&(r=e,void 0!==o&&(r=o),f=e);t.vvLine=n.line(t.container,[h,0,0],[c,0,s],t.cursorColor,f,1);n.setCN(i,t.vvLine,"cursor-line");n.setCN(i,t.vvLine,"cursor-line-vertical");t.hhLine=n.line(t.container,[0,u,u+h],[0,0,c],t.cursorColor,r,1);n.setCN(i,t.hhLine,"cursor-line");n.setCN(i,t.hhLine,"cursor-line-horizontal");t.vLine=t.rotate?t.vvLine:t.hhLine;t.set.push(t.vvLine);t.set.push(t.hhLine);t.set.node.style.pointerEvents="none";t.fullLines=t.container.set();i=i.cursorLineSet;i.push(t.fullLines);i.translate(t.x,t.y);i.clipRect(-1,-1,u+2,s+2);void 0!==t.tabIndex&&(i.setAttr("tabindex",t.tabIndex),i.keyup(function(n){t.handleKeys(n)}).focus(function(){t.showCursor()}).blur(function(){t.hideCursor()}));t.set.clipRect(0,0,u,s)},handleKeys:function(t){var i=this.prevIndex,r=this.chart,u;r&&(u=r.chartData,u&&(isNaN(i)&&(i=u.length-1),37!=t.keyCode&&40!=t.keyCode||i--,39!=t.keyCode&&38!=t.keyCode||i++,i=n.fitToBounds(i,r.startIndex,r.endIndex),(t=this.chart.chartData[i])&&this.setPosition(t.x.categoryAxis),this.prevIndex=i))},update:function(){var n=this.chart,t,i,r;if(n&&(t=n.mouseX-this.x,i=n.mouseY-this.y,this.mouseX=t,this.mouseY=i,this.mouse2X=n.mouse2X-this.x,this.mouse2Y=n.mouse2Y-this.y,n.chartData&&0<n.chartData.length)){if(this.mouseIsOver()?(this.hideGraphBalloons=!1,this.rolledOver=r=!0,this.updateDrawing(),this.vvLine&&isNaN(this.fx)&&(n.rotate||!this.limitToGraph)&&this.vvLine.translate(t,0),!this.hhLine||!isNaN(this.fy)||n.rotate&&this.limitToGraph||this.hhLine.translate(0,i),isNaN(this.mouse2X)?this.dispatchMovedEvent(t,i):r=!1):this.forceShow||this.hideCursor(),this.zooming){if(!isNaN(this.mouse2X)){isNaN(this.mouse2X0)||this.dispatchPanEvent();return}if(this.pan){this.dispatchPanEvent();return}(this.hZoomEnabled||this.vZoomEnabled)&&this.zooming&&this.updateSelection()}r&&this.showCursor()}},updateDrawing:function(){if(this.drawing&&this.chart.setMouseCursor("crosshair"),this.drawingNow&&(n.remove(this.drawingLine),1<Math.abs(this.drawStartX-this.mouseX)||1<Math.abs(this.drawStartY-this.mouseY))){var t=this.chart,i=t.marginTop,t=t.marginLeft;this.drawingLine=n.line(this.container,[this.drawStartX+t,this.mouseX+t],[this.drawStartY+i,this.mouseY+i],this.cursorColor,1,1)}},fixWidth:function(t){if(this.fullWidth&&this.prevLineWidth!=t){var i=this.vvLine,r=0;i&&(i.remove(),r=i.x);i=this.container.set();i.translate(r,0);r=n.rect(this.container,t,this.height,this.cursorColor,this.cursorAlpha,this.cursorAlpha,this.cursorColor);n.setCN(this.chart,r,"cursor-fill");r.translate(-t/2-1,0);i.push(r);this.vvLine=i;this.fullLines.push(i);this.prevLineWidth=t}},fixHeight:function(t){if(this.fullWidth&&this.prevLineHeight!=t){var i=this.hhLine,r=0;i&&(i.remove(),r=i.y);i=this.container.set();i.translate(0,r);r=n.rect(this.container,this.width,t,this.cursorColor,this.cursorAlpha);r.translate(0,-t/2);i.push(r);this.fullLines.push(i);this.hhLine=i;this.prevLineHeight=t}},fixVLine:function(n,t){var i,r,u;isNaN(n)||(isNaN(this.prevLineX)?(i=0,r=this.mouseX,this.limitToGraph&&(u=this.chart.categoryAxis,u&&(this.chart.rotate||(i="bottom"==u.position?this.height:-this.height),r=n)),this.vvLine.translate(r,i)):this.prevLineX!=n&&this.vvLine.translate(this.prevLineX,this.prevLineY),this.fx=n,this.prevLineX!=n&&(i=this.animationDuration,this.zooming&&(i=0),this.vvLine.stop(),this.vvLine.animate({translate:n+","+t},i,"easeOutSine"),this.prevLineX=n,this.prevLineY=t))},fixHLine:function(n,t){var i,r,u;isNaN(n)||(isNaN(this.prevLineY)?(i=0,r=this.mouseY,this.limitToGraph&&(u=this.chart.categoryAxis,u&&(this.chart.rotate&&(i="right"==u.position?this.width:-this.width),r=n)),this.hhLine.translate(i,r)):this.prevLineY!=n&&this.hhLine.translate(this.prevLineX,this.prevLineY),this.fy=n,this.prevLineY!=n&&(i=this.animationDuration,this.zooming&&(i=0),this.hhLine.stop(),this.hhLine.animate({translate:t+","+n},i,"easeOutSine"),this.prevLineY=n,this.prevLineX=t))},hideCursor:function(n){this.forceShow=!1;this.chart.wasTouched&&this.leaveAfterTouch||this.isHidden||this.leaveCursor||(this.hideCursorReal(),n?this.chart.handleCursorHide():this.fire({target:this,chart:this.chart,type:"onHideCursor"}),this.chart.setMouseCursor("auto"))},hideCursorReal:function(){this.hideLines();this.isHidden=!0;this.index=this.prevLineY=this.prevLineX=this.mouseY0=this.mouseX0=this.fy=this.fx=NaN},hideLines:function(){this.vvLine&&this.vvLine.hide();this.hhLine&&this.hhLine.hide();this.fullLines&&this.fullLines.hide();this.isHidden=!0;this.chart.handleCursorHide()},showCursor:function(n){!this.drawing&&this.enabled&&(this.vLineEnabled&&this.vvLine&&this.vvLine.show(),this.hLineEnabled&&this.hhLine&&this.hhLine.show(),this.isHidden=!1,this.updateFullLine(),n||this.fire({target:this,chart:this.chart,type:"onShowCursor"}),this.pan&&this.chart.setMouseCursor("move"))},updateFullLine:function(){this.zooming&&this.fullWidth&&this.selection&&(this.rotate?0<this.selection.height&&this.hhLine.hide():0<this.selection.width&&this.vvLine.hide())},updateSelection:function(){var i,t;if(!this.pan&&this.enabled){i=this.mouseX;t=this.mouseY;isNaN(this.fx)||(i=this.fx);isNaN(this.fy)||(t=this.fy);this.clearSelection();var r=this.mouseX0,u=this.mouseY0,f=this.width,e=this.height,i=n.fitToBounds(i,0,f),t=n.fitToBounds(t,0,e),o;i<r&&(o=i,i=r,r=o);t<u&&(o=t,t=u,u=o);this.hZoomEnabled?f=i-r:r=0;this.vZoomEnabled?e=t-u:u=0;isNaN(this.mouse2X)&&0<Math.abs(f)&&0<Math.abs(e)&&(i=this.chart,t=n.rect(this.container,f,e,this.cursorColor,this.selectionAlpha),n.setCN(i,t,"cursor-selection"),t.width=f,t.height=e,t.translate(r,u),this.set.push(t),this.selection=t);this.updateFullLine()}},mouseIsOver:function(){var n=this.mouseX,t=this.mouseY;if(this.justReleased)return this.justReleased=!1,!0;if(this.mouseIsDown)return!0;if(!this.chart.mouseIsOver)return this.handleMouseOut(),!1;if(0<n&&n<this.width&&0<t&&t<this.height)return!0;this.handleMouseOut()},fixPosition:function(){this.prevY=this.prevX=NaN},handleMouseDown:function(){if(this.update(),this.mouseIsOver())if(this.mouseIsDown=!0,this.mouseX0=this.mouseX,this.mouseY0=this.mouseY,this.mouse2X0=this.mouse2X,this.mouse2Y0=this.mouse2Y,this.drawing)this.drawStartY=this.mouseY,this.drawStartX=this.mouseX,this.drawingNow=!0;else if(this.dispatchMovedEvent(this.mouseX,this.mouseY),!this.pan&&isNaN(this.mouse2X0)&&(isNaN(this.fx)||(this.mouseX0=this.fx),isNaN(this.fy)||(this.mouseY0=this.fy)),this.hZoomEnabled||this.vZoomEnabled){this.zooming=!0;var n={chart:this.chart,target:this,type:"zoomStarted"};n.x=this.mouseX/this.width;n.y=this.mouseY/this.height;this.index0=n.index=this.index;this.timestamp0=this.timestamp;this.fire(n)}},registerInitialMouse:function(){},handleReleaseOutside:function(){if(this.mouseIsDown=!1,this.drawingNow){this.drawingNow=!1;n.remove(this.drawingLine);var t=this.drawStartX,i=this.drawStartY,r=this.mouseX,u=this.mouseY,f=this.chart;(2<Math.abs(t-r)||2<Math.abs(i-u))&&this.fire({type:"draw",target:this,chart:f,initialX:t,initialY:i,finalX:r,finalY:u})}this.zooming&&(this.zooming=!1,this.selectWithoutZooming?this.dispatchZoomEvent("selected"):(this.hZoomEnabled||this.vZoomEnabled)&&this.dispatchZoomEvent("zoomed"),this.rolledOver&&this.dispatchMovedEvent(this.mouseX,this.mouseY));this.mouse2Y0=this.mouse2X0=this.mouseY0=this.mouseX0=NaN},dispatchZoomEvent:function(n){var t,f;if(!this.pan&&(t=this.selection,t&&3<Math.abs(t.width)&&3<Math.abs(t.height))){var i=Math.min(this.index,this.index0),r=Math.max(this.index,this.index0),s=i,h=r,e=this.chart,u=e.chartData,o=e.categoryAxis;o&&o.parseDates&&!o.equalSpacing&&(s=u[i]?u[i].time:Math.min(this.timestamp0,this.timestamp),h=u[r]?e.getEndTime(u[r].time):Math.max(this.timestamp0,this.timestamp));t={type:n,chart:this.chart,target:this,end:h,start:s,startIndex:i,endIndex:r,selectionHeight:t.height,selectionWidth:t.width,selectionY:t.y,selectionX:t.x};this.hZoomEnabled&&4<Math.abs(this.mouseX0-this.mouseX)&&(t.startX=this.mouseX0/this.width,t.endX=this.mouseX/this.width,f=!0);this.vZoomEnabled&&4<Math.abs(this.mouseY0-this.mouseY)&&(t.startY=1-this.mouseY0/this.height,t.endY=1-this.mouseY/this.height,f=!0);f&&(this.prevY=this.prevX=NaN,this.fire(t),"selected"!=n&&this.clearSelection());this.hideCursor()}},dispatchMovedEvent:function(n,t,i,r){var f,e,u;n=Math.round(n);t=Math.round(t);this.isHidden||n==this.prevX&&t==this.prevY&&"changed"!=i||(i||(i="moved"),f=this.fx,e=this.fy,isNaN(f)&&(f=n),isNaN(e)&&(e=t),u=!1,this.zooming&&this.pan&&(u=!0),u={hidden:this.isHidden,type:i,chart:this.chart,target:this,x:n,y:t,finalX:f,finalY:e,zooming:this.zooming,panning:u,mostCloseGraph:this.mostCloseGraph,index:this.index,skip:r,hideBalloons:this.hideGraphBalloons},this.prevIndex=this.index,this.rotate?(u.position=t,u.finalPosition=e):(u.position=n,u.finalPosition=f),this.prevX=n,this.prevY=t,r?this.chart.handleCursorMove(u):(this.fire(u),"changed"==i&&this.chart.fire(u)))},dispatchPanEvent:function(){if(this.mouseIsDown){var u=n.roundTo((this.mouseX-this.mouseX0)/this.width,3),f=n.roundTo((this.mouseY-this.mouseY0)/this.height,3),t=n.roundTo((this.mouse2X-this.mouse2X0)/this.width,3),i=n.roundTo((this.mouse2Y-this.mouse2Y0)/this.height,2),r=!1;0!==Math.abs(u)&&0!==Math.abs(f)&&(r=!0);(this.prevDeltaX==u||this.prevDeltaY==f)&&(r=!1);isNaN(t)||isNaN(i)||(0!==Math.abs(t)&&0!==Math.abs(i)&&(r=!0),this.prevDelta2X!=t&&this.prevDelta2Y!=i)||(r=!1);r&&(this.hideLines(),this.fire({type:"panning",chart:this.chart,target:this,deltaX:u,deltaY:f,delta2X:t,delta2Y:i,index:this.index}),this.prevDeltaX=u,this.prevDeltaY=f,this.prevDelta2X=t,this.prevDelta2Y=i)}},clearSelection:function(){var n=this.selection;n&&(n.width=0,n.height=0,n.remove())},destroy:function(){this.clear();n.remove(this.selection);this.selection=null;clearTimeout(this.syncTO);n.remove(this.set)},clear:function(){},setTimestamp:function(n){this.timestamp=n},setIndex:function(n,t){n!=this.index&&(this.index=n,t||this.isHidden||this.dispatchMovedEvent(this.mouseX,this.mouseY,"changed"))},handleMouseOut:function(){this.enabled&&this.rolledOver&&(this.leaveCursor||this.setIndex(void 0),this.forceShow=!1,this.hideCursor(),this.rolledOver=!1)},showCursorAt:function(n){var t=this.chart.categoryAxis;t&&this.setPosition(t.categoryToCoordinate(n),n)},setPosition:function(n,t){var i=this.chart,r=i.categoryAxis,u,f;r&&(void 0===t&&(t=r.coordinateToValue(n)),r.showBalloonAt(t,n),this.forceShow=!0,r.stickBalloonToCategory?i.rotate?this.fixHLine(n,0):this.fixVLine(n,0):(this.showCursor(),i.rotate?this.hhLine.translate(0,n):this.vvLine.translate(n,0)),i.rotate?u=n:f=n,i.rotate?(this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.show()):(this.hhLine&&this.hhLine.hide(),this.vvLine&&this.vvLine.show()),this.updateFullLine(),this.isHidden=!1,this.dispatchMovedEvent(f,u,"moved",!0))},enableDrawing:function(n){this.enabled=!n;this.hideCursor();this.drawing=n},syncWithCursor:function(n,t){clearTimeout(this.syncTO);n&&(n.isHidden?this.hideCursor(!0):this.syncWithCursorReal(n,t))},isZooming:function(n){this.zooming=n},syncWithCursorReal:function(n,t){var u=n.vvLine,f=n.hhLine,i,r;this.index=n.index;this.forceShow=!0;this.zooming&&this.pan||this.showCursor(!0);this.hideGraphBalloons=t;this.justReleased=n.justReleased;this.zooming=n.zooming;this.index0=n.index0;this.mouseX0=n.mouseX0;this.mouseY0=n.mouseY0;this.mouse2X0=n.mouse2X0;this.mouse2Y0=n.mouse2Y0;this.timestamp0=n.timestamp0;this.prevDeltaX=n.prevDeltaX;this.prevDeltaY=n.prevDeltaY;this.prevDelta2X=n.prevDelta2X;this.prevDelta2Y=n.prevDelta2Y;this.fx=n.fx;this.fy=n.fy;n.zooming&&this.updateSelection();i=n.mouseX;r=n.mouseY;this.rotate?(i=NaN,this.vvLine&&this.vvLine.hide(),this.hhLine&&f&&(isNaN(n.fy)?this.hhLine.translate(0,n.mouseY):this.fixHLine(n.fy,0))):(r=NaN,this.hhLine&&this.hhLine.hide(),this.vvLine&&u&&(isNaN(n.fx)?this.vvLine.translate(n.mouseX,0):this.fixVLine(n.fx,0)));this.dispatchMovedEvent(i,r,"moved",!0)}})}(),function(){var n=window.AmCharts;n.SimpleChartScrollbar=n.Class({construct:function(t){this.createEvents("zoomed","zoomStarted","zoomEnded");this.backgroundColor="#D4D4D4";this.backgroundAlpha=1;this.selectedBackgroundColor="#EFEFEF";this.scrollDuration=this.selectedBackgroundAlpha=1;this.resizeEnabled=!0;this.hideResizeGrips=!1;this.scrollbarHeight=20;this.updateOnReleaseOnly=!1;9>document.documentMode&&(this.updateOnReleaseOnly=!0);this.dragIconHeight=this.dragIconWidth=35;this.dragIcon="dragIconRoundBig";this.dragCursorHover="cursor: move; cursor: grab; cursor: -moz-grab; cursor: -webkit-grab;";this.dragCursorDown="cursor: move; cursor: grab; cursor: -moz-grabbing; cursor: -webkit-grabbing;";this.vResizeCursor="ns-resize";this.hResizeCursor="ew-resize";this.enabled=!0;this.percentStart=this.offset=0;this.percentEnd=1;n.applyTheme(this,t,"SimpleChartScrollbar")},getPercents:function(){var n=this.getDBox(),t=n.x,i=n.y,r=n.width,n=n.height;this.rotate?(t=1-i/this.height,i=1-(i+n)/this.height):(i=t/this.width,t=(t+r)/this.width);this.percentStart=i;this.percentEnd=t},draw:function(){var t=this,e,o,f,h,i,c,l,a,v;if(t.destroy(),t.enabled){var r=t.chart.container,s=t.rotate,u=t.chart;u.panRequired=!0;e=r.set();t.set=e;s?n.setCN(u,e,"scrollbar-vertical"):n.setCN(u,e,"scrollbar-horizontal");u.scrollbarsSet.push(e);s?(o=t.scrollbarHeight,f=u.plotAreaHeight):(f=t.scrollbarHeight,o=u.plotAreaWidth);t.width=o;(t.height=f)&&o&&(i=n.rect(r,o,f,t.backgroundColor,t.backgroundAlpha,1,t.backgroundColor,t.backgroundAlpha),n.setCN(u,i,"scrollbar-bg"),t.bg=i,e.push(i),i=n.rect(r,o,f,"#000",.005),e.push(i),t.invisibleBg=i,i.click(function(){t.handleBgClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}).touchend(function(){t.handleBgClick()}),i=n.rect(r,o,f,t.selectedBackgroundColor,t.selectedBackgroundAlpha),n.setCN(u,i,"scrollbar-bg-selected"),t.selectedBG=i,e.push(i),o=n.rect(r,o,f,"#000",.005),t.dragger=o,e.push(o),o.mousedown(function(n){t.handleDragStart(n)}).mouseup(function(){t.handleDragStop()}).mouseover(function(){t.handleDraggerOver()}).mouseout(function(){t.handleMouseOut()}).touchstart(function(n){t.handleDragStart(n)}).touchend(function(){t.handleDragStop()}),f=u.pathToImages,i=t.dragIcon.replace(/\.[a-z]*$/i,""),n.isAbsolute(i)&&(f=""),s?(h=f+i+"H"+u.extension,f=t.dragIconWidth,s=t.dragIconHeight):(h=f+i+u.extension,s=t.dragIconWidth,f=t.dragIconHeight),i=r.image(h,0,0,s,f),n.setCN(u,i,"scrollbar-grip-left"),h=r.image(h,0,0,s,f),n.setCN(u,h,"scrollbar-grip-right"),c=10,l=20,u.panEventsEnabled&&(c=25,l=t.scrollbarHeight),a=n.rect(r,c,l,"#000",.005),v=n.rect(r,c,l,"#000",.005),v.translate(-(c-s)/2,-(l-f)/2),a.translate(-(c-s)/2,-(l-f)/2),s=r.set([i,v]),r=r.set([h,a]),t.iconLeft=s,e.push(t.iconLeft),t.iconRight=r,e.push(r),t.updateGripCursor(!1),u.makeAccessible(s,t.accessibleLabel),u.makeAccessible(r,t.accessibleLabel),u.makeAccessible(o,t.accessibleLabel),s.setAttr("role","menuitem"),r.setAttr("role","menuitem"),o.setAttr("role","menuitem"),void 0!==t.tabIndex&&(s.setAttr("tabindex",t.tabIndex),s.keyup(function(n){t.handleKeys(n,1,0)})),void 0!==t.tabIndex&&(o.setAttr("tabindex",t.tabIndex),o.keyup(function(n){t.handleKeys(n,1,1)})),void 0!==t.tabIndex&&(r.setAttr("tabindex",t.tabIndex),r.keyup(function(n){t.handleKeys(n,0,1)})),s.mousedown(function(){t.leftDragStart()}).mouseup(function(){t.leftDragStop()}).mouseover(function(){t.iconRollOver()}).mouseout(function(){t.iconRollOut()}).touchstart(function(){t.leftDragStart()}).touchend(function(){t.leftDragStop()}),r.mousedown(function(){t.rightDragStart()}).mouseup(function(){t.rightDragStop()}).mouseover(function(){t.iconRollOver()}).mouseout(function(){t.iconRollOut()}).touchstart(function(){t.rightDragStart()}).touchend(function(){t.rightDragStop()}),n.ifArray(u.chartData)?e.show():e.hide(),t.hideDragIcons(),t.clipDragger(!1));e.translate(t.x,t.y);e.node.style.msTouchAction="none";e.node.style.touchAction="none"}},handleKeys:function(n,t,i){var r,u;if(this.getPercents(),r=this.percentStart,u=this.percentEnd,this.rotate)var f=u,u=r,r=f;(37==n.keyCode||40==n.keyCode)&&(r-=.02*t,u-=.02*i);(39==n.keyCode||38==n.keyCode)&&(r+=.02*t,u+=.02*i);this.rotate&&(n=u,u=r,r=n);isNaN(u)||isNaN(r)||this.percentZoom(r,u,!0)},updateScrollbarSize:function(n,t){if(!isNaN(n)&&!isNaN(t)){n=Math.round(n);t=Math.round(t);var i=this.dragger,r,u,f,e,o;this.rotate?(r=0,u=n,f=this.width+1,e=t-n,i.setAttr("height",t-n),i.setAttr("y",u)):(r=n,u=0,f=t-n,e=this.height+1,o=t-n,i.setAttr("x",r),i.setAttr("width",o));this.clipAndUpdate(r,u,f,e)}},update:function(){var n,l=!1,i,t,r=this.x,u=this.y,f=this.dragger,o=this.getDBox(),e;if(o){i=o.x+r;t=o.y+u;var a=o.width,o=o.height,v=this.rotate,s=this.chart,h=this.width,c=this.height,y=s.mouseX,s=s.mouseY;n=this.initialMouse;this.forceClip&&this.clipDragger(!0);this.dragging&&(e=this.initialCoord,v?(n=e+(s-n),0>n&&(n=0),e=c-o,n>e&&(n=e),f.setAttr("y",n)):(n=e+(y-n),0>n&&(n=0),e=h-a,n>e&&(n=e),f.setAttr("x",n)),this.clipDragger(!0));this.resizingRight&&(v?(n=s-t,!isNaN(this.maxHeight)&&n>this.maxHeight&&(n=this.maxHeight),n+t>c+u&&(n=c-t+u),0>n)?(this.resizingRight=!1,l=this.resizingLeft=!0):((0===n||isNaN(n))&&(n=.1),f.setAttr("height",n)):(n=y-i,!isNaN(this.maxWidth)&&n>this.maxWidth&&(n=this.maxWidth),n+i>h+r&&(n=h-i+r),0>n)?(this.resizingRight=!1,l=this.resizingLeft=!0):((0===n||isNaN(n))&&(n=.1),f.setAttr("width",n)),this.clipDragger(!0));this.resizingLeft&&(v?(i=t,t=s,t<u&&(t=u),isNaN(t)&&(t=u),t>c+u&&(t=c+u),n=!0===l?i-t:o+i-t,!isNaN(this.maxHeight)&&n>this.maxHeight&&(n=this.maxHeight,t=i),0>n)?(this.resizingRight=!0,this.resizingLeft=!1,f.setAttr("y",i+o-u)):((0===n||isNaN(n))&&(n=.1),f.setAttr("y",t-u),f.setAttr("height",n)):(t=y,t<r&&(t=r),isNaN(t)&&(t=r),t>h+r&&(t=h+r),n=!0===l?i-t:a+i-t,!isNaN(this.maxWidth)&&n>this.maxWidth&&(n=this.maxWidth,t=i),0>n)?(this.resizingRight=!0,this.resizingLeft=!1,f.setAttr("x",i+a-r)):((0===n||isNaN(n))&&(n=.1),f.setAttr("x",t-r),f.setAttr("width",n)),this.clipDragger(!0))}},stopForceClip:function(){this.animating=this.forceClip=!1},clipDragger:function(n){var t=this.getDBox();if(t){var i=t.x,r=t.y,u=t.width,t=t.height,f=!1;this.rotate?(i=0,u=this.width+1,this.clipY!=r||this.clipH!=t)&&(f=!0):(r=0,t=this.height+1,this.clipX!=i||this.clipW!=u)&&(f=!0);f&&(this.clipAndUpdate(i,r,u,t),n&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent()))}},maskGraphs:function(){},clipAndUpdate:function(n,t,i,r){this.clipX=n;this.clipY=t;this.clipW=i;this.clipH=r;this.selectedBG.setAttr("width",i);this.selectedBG.setAttr("height",r);this.selectedBG.translate(n,t);this.updateDragIconPositions();this.maskGraphs(n,t,i,r)},dispatchScrollbarEvent:function(){var i;if(this.skipEvent)this.skipEvent=!1;else{i=this.chart;i.hideBalloon();var n=this.getDBox(),r=n.x,u=n.y,t=n.width,n=n.height;this.getPercents();this.rotate?(r=u,t=this.height/n):t=this.width/t;this.fire({type:"zoomed",position:r,chart:i,target:this,multiplier:t,relativeStart:this.percentStart,relativeEnd:this.percentEnd})}},updateDragIconPositions:function(){var i=this.getDBox(),u=i.x,f=i.y,e=this.iconLeft,o=this.iconRight,n,t,r=this.scrollbarHeight;this.rotate?(n=this.dragIconWidth,t=this.dragIconHeight,e.translate((r-t)/2,f-n/2),o.translate((r-t)/2,f+i.height-n/2)):(n=this.dragIconHeight,t=this.dragIconWidth,e.translate(u-t/2,(r-n)/2),o.translate(u-t/2+i.width,(r-n)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){this.resizingLeft||this.resizingRight||this.dragging||((this.hideResizeGrips||!this.resizeEnabled)&&(this.iconLeft.hide(),this.iconRight.hide()),this.removeCursors())},removeCursors:function(){this.chart.setMouseCursor("auto")},fireZoomEvent:function(n){this.fire({type:n,chart:this.chart,target:this})},percentZoom:function(t,i,r){if(t=n.fitToBounds(t,0,i),i=n.fitToBounds(i,t,1),this.dragger&&this.enabled){this.dragger.stop();isNaN(t)&&(t=0);isNaN(i)&&(i=1);var u,f;this.rotate?(u=this.height,i=u-u*i,f=u-u*t):(u=this.width,f=u*i,i=u*t);this.updateScrollbarSize(i,f);this.clipDragger(!1);this.getPercents();r&&this.dispatchScrollbarEvent()}},destroy:function(){this.clear();n.remove(this.set);n.remove(this.iconRight);n.remove(this.iconLeft)},clear:function(){},handleDragStart:function(){var t,i;this.enabled&&(this.fireZoomEvent("zoomStarted"),t=this.chart,this.dragger.stop(),this.removeCursors(),n.isModern&&this.dragger.node.setAttribute("style",this.dragCursorDown),this.dragging=!0,i=this.getDBox(),this.rotate?(this.initialCoord=i.y,this.initialMouse=t.mouseY):(this.initialCoord=i.x,this.initialMouse=t.mouseX))},handleDragStop:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent());this.dragging=!1;this.mouseIsOver&&this.removeCursors();n.isModern&&this.dragger.node.setAttribute("style",this.dragCursorHover);this.update();this.fireZoomEvent("zoomEnded")},handleDraggerOver:function(){this.handleMouseOver();n.isModern&&this.dragger.node.setAttribute("style",this.dragCursorHover)},leftDragStart:function(){this.fireZoomEvent("zoomStarted");this.dragger.stop();this.resizingLeft=!0;this.updateGripCursor(!0)},updateGripCursor:function(t){n.isModern&&(t=this.rotate?t?this.vResizeCursorDown:this.vResizeCursorHover:t?this.hResizeCursorDown:this.hResizeCursorHover)&&(this.iconRight&&this.iconRight.node.setAttribute("style",t),this.iconLeft&&this.iconLeft.node.setAttribute("style",t))},leftDragStop:function(){this.resizingLeft&&(this.resizingLeft=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded"));this.updateGripCursor(!1)},rightDragStart:function(){this.fireZoomEvent("zoomStarted");this.dragger.stop();this.resizingRight=!0;this.updateGripCursor(!0)},rightDragStop:function(){this.resizingRight&&(this.resizingRight=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded"));this.updateGripCursor(!1)},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.rotate?this.vResizeCursor&&this.chart.setMouseCursor(this.vResizeCursor):this.hResizeCursor&&this.chart.setMouseCursor(this.hResizeCursor);this.handleMouseOver()},getDBox:function(){if(this.dragger)return this.dragger.getBBox()},handleBgClick:function(){var t=this,r,i,u,f,e,o;if(!t.resizingRight&&!t.resizingLeft){t.zooming=!0;u=t.scrollDuration;f=t.dragger;r=t.getDBox();e=r.height;o=r.width;i=t.chart;var h=t.y,c=t.x,s=t.rotate;s?(r="y",i=i.mouseY-e/2-h,i=n.fitToBounds(i,0,t.height-e)):(r="x",i=i.mouseX-o/2-c,i=n.fitToBounds(i,0,t.width-o));t.updateOnReleaseOnly?(t.skipEvent=!1,f.setAttr(r,i),t.dispatchScrollbarEvent(),t.clipDragger()):(t.animating=!0,i=Math.round(i),s?f.animate({y:i},u,">"):f.animate({x:i},u,">"),t.forceClip=!0,clearTimeout(t.forceTO),t.forceTO=setTimeout(function(){t.stopForceClip.call(t)},5e3*u))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){this.set&&((this.resizingLeft||this.resizingRight||this.dragging)&&(this.dragging=this.resizingRight=this.resizingLeft=!1,this.updateOnRelease(),this.removeCursors()),this.animating=this.mouseIsOver=!1,this.hideDragIcons(),this.update())},handleMouseOver:function(){this.mouseIsOver=!0;this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1;this.hideDragIcons();this.removeCursors()}})}(),function(){var n=window.AmCharts;n.ChartScrollbar=n.Class({inherits:n.SimpleChartScrollbar,construct:function(t){this.cname="ChartScrollbar";n.ChartScrollbar.base.construct.call(this,t);this.graphLineColor="#BBBBBB";this.graphLineAlpha=0;this.graphFillColor="#BBBBBB";this.graphFillAlpha=1;this.selectedGraphLineColor="#888888";this.selectedGraphLineAlpha=0;this.selectedGraphFillColor="#888888";this.selectedGraphFillAlpha=1;this.gridCount=0;this.gridColor="#FFFFFF";this.gridAlpha=.7;this.skipEvent=this.autoGridCount=!1;this.color="#FFFFFF";this.scrollbarCreated=!1;this.oppositeAxis=!0;this.accessibleLabel="Zoom chart using cursor arrows";n.applyTheme(this,t,this.cname)},init:function(){var t=this.categoryAxis,r=this.chart,i=this.gridAxis,u;t||("CategoryAxis"==this.gridAxis.cname?(this.catScrollbar=!0,t=new n.CategoryAxis,t.id="scrollbar"):(t=new n.ValueAxis,t.data=r.chartData,t.id=i.id,t.type=i.type,t.maximumDate=i.maximumDate,t.minimumDate=i.minimumDate,t.minPeriod=i.minPeriod,t.minMaxField=i.minMaxField),this.categoryAxis=t);t.chart=r;u=r.categoryAxis;u&&(t.firstDayOfWeek=u.firstDayOfWeek);t.dateFormats=i.dateFormats;t.markPeriodChange=i.markPeriodChange;t.boldPeriodBeginning=i.boldPeriodBeginning;t.labelFunction=i.labelFunction;t.axisItemRenderer=n.RecItem;t.axisRenderer=n.RecAxis;t.guideFillRenderer=n.RecFill;t.inside=!0;t.fontSize=this.fontSize;t.tickLength=0;t.axisAlpha=0;n.isString(this.graph)&&(this.graph=n.getObjById(r.graphs,this.graph));(t=this.graph)&&this.catScrollbar&&(i=this.valueAxis,i||(this.valueAxis=i=new n.ValueAxis,i.visible=!1,i.scrollbar=!0,i.axisItemRenderer=n.RecItem,i.axisRenderer=n.RecAxis,i.guideFillRenderer=n.RecFill,i.labelsEnabled=!1,i.chart=r),r=this.unselectedGraph,r||(r=new n.AmGraph,r.scrollbar=!0,this.unselectedGraph=r,r.negativeBase=t.negativeBase,r.noStepRisers=t.noStepRisers),r=this.selectedGraph,r||(r=new n.AmGraph,r.scrollbar=!0,this.selectedGraph=r,r.negativeBase=t.negativeBase,r.noStepRisers=t.noStepRisers));this.scrollbarCreated=!0},draw:function(){var t=this,f,r,h,c,y,p,i,a;if(n.ChartScrollbar.base.draw.call(t),t.enabled){t.scrollbarCreated||t.init();var s=t.chart,o=s.chartData,e=t.categoryAxis,l=t.rotate,h=t.x,c=t.y,w=t.width,b=t.height,u=t.gridAxis,v=t.set;if(e.setOrientation(!l),e.parseDates=u.parseDates,"ValueAxis"==t.categoryAxis.cname&&(e.rotate=!l),e.equalSpacing=u.equalSpacing,e.minPeriod=u.minPeriod,e.startOnAxis=u.startOnAxis,e.width=w-1,e.height=b,e.gridCount=t.gridCount,e.gridColor=t.gridColor,e.gridAlpha=t.gridAlpha,e.color=t.color,e.tickLength=0,e.axisAlpha=0,e.autoGridCount=t.autoGridCount,e.parseDates&&!e.equalSpacing&&e.timeZoom(s.firstTime,s.lastTime),e.minimum=t.gridAxis.fullMin,e.maximum=t.gridAxis.fullMax,e.strictMinMax=!0,e.zoom(0,o.length-1),(u=t.graph)&&t.catScrollbar){for(f=t.valueAxis,r=u.valueAxis,f.id=r.id,f.rotate=l,f.setOrientation(l),f.width=w,f.height=b,f.dataProvider=o,f.reversed=r.reversed,f.logarithmic=r.logarithmic,f.gridAlpha=0,f.axisAlpha=0,v.push(f.set),l?(f.y=c,f.x=0):(f.x=h,f.y=0),h=Infinity,c=-Infinity,y=0;y<o.length;y++){p=o[y].axes[r.id].graphs[u.id].values;for(i in p)p.hasOwnProperty(i)&&"percents"!=i&&"total"!=i&&(a=p[i],a<h&&(h=a),a>c&&(c=a))}Infinity!=h&&(f.minimum=h);-Infinity!=c&&(f.maximum=c+.1*(c-h));h==c&&(--f.minimum,f.maximum+=1);void 0!==t.minimum&&(f.minimum=t.minimum);void 0!==t.maximum&&(f.maximum=t.maximum);f.zoom(0,o.length-1);i=t.unselectedGraph;i.id=u.id;i.bcn="scrollbar-graph-";i.rotate=l;i.chart=s;i.data=o;i.valueAxis=f;i.chart=u.chart;i.categoryAxis=t.categoryAxis;i.periodSpan=u.periodSpan;i.valueField=u.valueField;i.openField=u.openField;i.closeField=u.closeField;i.highField=u.highField;i.lowField=u.lowField;i.lineAlpha=t.graphLineAlpha;i.lineColorR=t.graphLineColor;i.fillAlphas=t.graphFillAlpha;i.fillColorsR=t.graphFillColor;i.connect=u.connect;i.hidden=u.hidden;i.width=w;i.height=b;i.pointPosition=u.pointPosition;i.stepDirection=u.stepDirection;i.periodSpan=u.periodSpan;r=t.selectedGraph;r.id=u.id;r.bcn=i.bcn+"selected-";r.rotate=l;r.chart=s;r.data=o;r.valueAxis=f;r.chart=u.chart;r.categoryAxis=e;r.periodSpan=u.periodSpan;r.valueField=u.valueField;r.openField=u.openField;r.closeField=u.closeField;r.highField=u.highField;r.lowField=u.lowField;r.lineAlpha=t.selectedGraphLineAlpha;r.lineColorR=t.selectedGraphLineColor;r.fillAlphas=t.selectedGraphFillAlpha;r.fillColorsR=t.selectedGraphFillColor;r.connect=u.connect;r.hidden=u.hidden;r.width=w;r.height=b;r.pointPosition=u.pointPosition;r.stepDirection=u.stepDirection;r.periodSpan=u.periodSpan;s=t.graphType;s||(s=u.type);i.type=s;r.type=s;o=o.length-1;i.zoom(0,o);r.zoom(0,o);r.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()});i.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()});v.push(i.set);v.push(r.set)}v.push(e.set);v.push(e.labelsSet);t.bg.toBack();t.invisibleBg.toFront();t.dragger.toFront();t.iconLeft.toFront();t.iconRight.toFront()}},timeZoom:function(t,i,r){this.startTime=t;this.endTime=i;this.timeDifference=i-t;this.skipEvent=!n.toBoolean(r);this.zoomScrollbar();this.dispatchScrollbarEvent()},zoom:function(n,t){this.start=n;this.end=t;this.skipEvent=!0;this.zoomScrollbar()},dispatchScrollbarEvent:function(){var s,t,h,e;if(this.categoryAxis&&"ValueAxis"==this.categoryAxis.cname)n.ChartScrollbar.base.dispatchScrollbarEvent.call(this);else if(this.skipEvent)this.skipEvent=!1;else{s=this.chart.chartData;e=this.dragger.getBBox();t=e.x;var r=e.y,u=e.width,e=e.height,f=this.chart;this.rotate?(t=r,h=e):h=u;u={type:"zoomed",target:this};u.chart=f;var i=this.categoryAxis,c=this.stepWidth,r=f.minSelectedTime,e=f.maxSelectedTime,o=!1;i.parseDates&&!i.equalSpacing?(s=f.lastTime,f=f.firstTime,i=Math.round(t/c)+f,t=this.dragging?i+this.timeDifference:Math.round((t+h)/c)+f,i>t&&(i=t),0<r&&t-i<r&&(t=Math.round(i+(t-i)/2),o=Math.round(r/2),i=t-o,t+=o,o=!0),0<e&&t-i>e&&(t=Math.round(i+(t-i)/2),o=Math.round(e/2),i=t-o,t+=o,o=!0),t>s&&(t=s),t-r<i&&(i=t-r),i<f&&(i=f),i+r>t&&(t=i+r),i!=this.startTime||t!=this.endTime)&&(this.startTime=i,this.endTime=t,u.start=i,u.end=t,u.startDate=new Date(i),u.endDate=new Date(t),this.fire(u)):(i.startOnAxis||(t+=c/2),h-=this.stepWidth/2,r=i.xToIndex(t),t=i.xToIndex(t+h),(r!=this.start||this.end!=t)&&(i.startOnAxis&&(this.resizingRight&&r==t&&t++,this.resizingLeft&&r==t&&(0<r?r--:t=1)),this.start=r,this.end=this.dragging?this.start+this.difference:t,u.start=this.start,u.end=this.end,i.parseDates&&(s[this.start]&&(u.startDate=new Date(s[this.start].time)),s[this.end]&&(u.endDate=new Date(s[this.end].time))),this.fire(u)),this.percentStart=r,this.percentEnd=t);o&&this.zoomScrollbar(!0)}},zoomScrollbar:function(n){var u,t,r,i;(!(this.dragging||this.resizingLeft||this.resizingRight||this.animating)||n)&&this.dragger&&this.enabled&&(r=this.chart,n=r.chartData,i=this.categoryAxis,i.parseDates&&!i.equalSpacing?(n=i.stepWidth,t=r.firstTime,u=n*(this.startTime-t),t=n*(this.endTime-t)):(n[this.start]&&(u=n[this.start].x[i.id]),n[this.end]&&(t=n[this.end].x[i.id]),n=i.stepWidth,i.startOnAxis||(r=n/2,u-=r,t+=r)),this.stepWidth=n,isNaN(u)||isNaN(t)||this.updateScrollbarSize(u,t))},maskGraphs:function(n,t,i,r){var u=this.selectedGraph;u&&u.set.clipRect(n,t,i,r)},handleDragStart:function(){n.ChartScrollbar.base.handleDragStart.call(this);this.difference=this.end-this.start;this.timeDifference=this.endTime-this.startTime;0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){n.ChartScrollbar.base.handleBackgroundClick.call(this);this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}})}(),function(){var n=window.AmCharts;n.AmBalloon=n.Class({construct:function(t){this.cname="AmBalloon";this.enabled=!0;this.fillColor="#FFFFFF";this.fillAlpha=.8;this.borderThickness=2;this.borderColor="#FFFFFF";this.borderAlpha=1;this.cornerRadius=0;this.maxWidth=220;this.horizontalPadding=8;this.verticalPadding=4;this.pointerWidth=6;this.pointerOrientation="V";this.color="#000000";this.adjustBorderColor=!0;this.show=this.follow=this.showBullet=!1;this.bulletSize=3;this.shadowAlpha=.4;this.shadowColor="#000000";this.fadeOutDuration=this.animationDuration=.3;this.fixedPosition=!0;this.offsetY=6;this.offsetX=1;this.textAlign="center";this.disableMouseEvents=!0;this.deltaSignX=this.deltaSignY=1;n.isModern||(this.offsetY*=1.5);this.sdy=this.sdx=0;n.applyTheme(this,t,this.cname)},draw:function(){var f=this.pointToX,o=this.pointToY,a,s,p,i,r,it,rt,ot,t;if(n.isModern||(this.drop=!1),a=this.chart,n.VML&&(this.fadeOutDuration=0),this.xAnim&&a.stopAnim(this.xAnim),this.yAnim&&a.stopAnim(this.yAnim),this.sdy=this.sdx=0,!isNaN(f)){var st=this.follow,v=a.container,y=this.set;if(n.remove(y),this.removeDiv(),y=v.set(),y.node.style.pointerEvents="none",this.set=y,this.mainSet?(this.mainSet.push(this.set),this.sdx=this.mainSet.x,this.sdy=this.mainSet.y):a.balloonsSet.push(y),this.show){var e=this.l,b=this.t,w=this.r,g=this.b,s=this.balloonColor,c=this.fillColor,ut=this.borderColor,nt=c;void 0!=s&&(this.adjustBorderColor?nt=ut=s:c=s);var k=this.horizontalPadding,tt=this.verticalPadding,h=this.pointerWidth,l=this.pointerOrientation,d=this.cornerRadius,u=a.fontFamily,t=this.fontSize;void 0==t&&(t=a.fontSize);s=document.createElement("div");p=a.classNamePrefix;s.className=p+"-balloon-div";this.className&&(s.className=s.className+" "+p+"-balloon-div-"+this.className);p=s.style;this.disableMouseEvents&&(p.pointerEvents="none");p.position="absolute";i=this.minWidth;r="";isNaN(i)||(r="min-width:"+(i-2*k)+"px; ");s.innerHTML='<div style="text-align:'+this.textAlign+"; "+r+"max-width:"+this.maxWidth+"px; font-size:"+t+"px; color:"+this.color+"; font-family:"+u+'">'+this.text+"<\/div>";a.chartDiv.appendChild(s);this.textDiv=s;it=s.offsetWidth;rt=s.offsetHeight;s.clientHeight&&(it=s.clientWidth,rt=s.clientHeight);u=rt+2*tt;r=it+2*k;!isNaN(i)&&r<i&&(r=i);window.opera&&(u+=2);ot=!1;t=this.offsetY;a.handDrawn&&(t+=a.handDrawScatter+2);"H"!=l?(i=f-r/2,o<b+u+10&&"down"!=l?(ot=!0,st&&(o+=t),t=o+h,this.deltaSignY=-1):(st&&(o-=t),t=o-u-h,this.deltaSignY=1)):(2*h>u&&(h=u/2),t=o-u/2,f<e+(w-e)/2?(i=f+h,this.deltaSignX=-1):(i=f-r-h,this.deltaSignX=1));t+u>=g&&(t=g-u);t<b&&(t=b);i<e&&(i=e);i+r>w&&(i=w-r);var b=t+tt,g=i+k,ft=this.shadowAlpha,ct=this.shadowColor,k=this.borderThickness,lt=this.bulletSize,et,tt=this.fillAlpha,ht=this.borderAlpha;this.showBullet&&(et=n.circle(v,lt,nt,tt),y.push(et));this.drop?(e=r/1.6,w=0,"V"==l&&(l="down"),"H"==l&&(l="left"),"down"==l&&(i=f+1,t=o-e-e/3),"up"==l&&(w=180,i=f+1,t=o+e+e/3),"left"==l&&(w=270,i=f+e+e/3+2,t=o),"right"==l&&(w=90,i=f-e-e/3+2,t=o),b=t-rt/2+1,g=i-it/2-1,c=n.drop(v,e,w,c,tt,k,ut,ht)):0<d||0===h?(0<ft&&(f=n.rect(v,r,u,c,0,k+1,ct,ft,d),n.isModern?f.translate(1,1):f.translate(4,4),y.push(f)),c=n.rect(v,r,u,c,tt,k,ut,ht,d)):(nt=[],d=[],"H"!=l?(e=f-i,e>r-h&&(e=r-h),e<h&&(e=h),nt=[0,e-h,f-i,e+h,r,r,0,0],d=ot?[0,0,o-t,0,0,u,u,0]:[u,u,o-t,u,u,0,0,u]):(l=o-t,l>u-h&&(l=u-h),l<h&&(l=h),d=[0,l-h,o-t,l+h,u,u,0,0],nt=f<e+(w-e)/2?[0,0,i<f?0:f-i,0,0,r,r,0]:[r,r,i+r>f?r:f-i,r,r,0,0,r]),0<ft&&(f=n.polygon(v,nt,d,c,0,k,ct,ft),f.translate(1,1),y.push(f)),c=n.polygon(v,nt,d,c,tt,k,ut,ht));this.bg=c;y.push(c);c.toFront();n.setCN(a,c,"balloon-bg");this.className&&n.setCN(a,c,"balloon-bg-"+this.className);v=1*this.deltaSignX;g+=this.sdx;b+=this.sdy;p.left=g+"px";p.top=b+"px";y.translate(i-v,t,1,!0);c=c.getBBox();this.bottom=t+u+1;this.yPos=c.y+t;et&&et.translate(this.pointToX-i+v,o-t);o=this.animationDuration;0<this.animationDuration&&!st&&!isNaN(this.prevX)&&(y.translate(this.prevX,this.prevY,NaN,!0),y.animate({translate:i-v+","+t},o,"easeOutSine"),s&&(p.left=this.prevTX+"px",p.top=this.prevTY+"px",this.xAnim=a.animate({node:s},"left",this.prevTX,g,o,"easeOutSine","px"),this.yAnim=a.animate({node:s},"top",this.prevTY,b,o,"easeOutSine","px")));this.prevX=i-v;this.prevY=t;this.prevTX=g;this.prevTY=b}}},fixPrevious:function(){this.rPrevX=this.prevX;this.rPrevY=this.prevY;this.rPrevTX=this.prevTX;this.rPrevTY=this.prevTY},restorePrevious:function(){this.prevX=this.rPrevX;this.prevY=this.rPrevY;this.prevTX=this.rPrevTX;this.prevTY=this.rPrevTY},followMouse:function(){var n,t,i;if(this.follow&&this.show&&(n=this.chart.mouseX-this.offsetX*this.deltaSignX-this.sdx,t=this.chart.mouseY-this.sdy,this.pointToX=n,this.pointToY=t,n!=this.previousX||t!=this.previousY))if(this.previousX=n,this.previousY=t,0===this.cornerRadius)this.draw();else if(i=this.set,i){var r=i.getBBox(),n=n-r.width/2,u=t-r.height-10;n<this.l&&(n=this.l);n>this.r-r.width&&(n=this.r-r.width);u<this.t&&(u=t+10);i.translate(n,u);t=this.textDiv.style;t.left=n+this.horizontalPadding+"px";t.top=u+this.verticalPadding+"px"}},changeColor:function(n){this.balloonColor=n},setBounds:function(n,t,i,r){this.l=n;this.t=t;this.r=i;this.b=r;this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(n){(this.text!=n||this.positionChanged)&&(this.text=n,this.isHiding=!1,this.show=!0,this.destroyTO&&clearTimeout(this.destroyTO),n=this.chart,this.fadeAnim1&&n.stopAnim(this.fadeAnim1),this.fadeAnim2&&n.stopAnim(this.fadeAnim2),this.draw(),this.positionChanged=!1)},hide:function(n){var t=this,r,i;t.text=void 0;isNaN(n)&&(n=t.fadeOutDuration);r=t.chart;0<n&&!t.isHiding?(t.isHiding=!0,t.destroyTO&&clearTimeout(t.destroyTO),t.destroyTO=setTimeout(function(){t.destroy.call(t)},1e3*n),t.follow=!1,t.show=!1,i=t.set,i&&(i.setAttr("opacity",t.fillAlpha),t.fadeAnim1=i.animate({opacity:0},n,"easeInSine")),t.textDiv&&(t.fadeAnim2=r.animate({node:t.textDiv},"opacity",1,0,n,"easeInSine",""))):(t.show=!1,t.follow=!1,t.destroy())},setPosition:function(n,t){(n!=this.pointToX||t!=this.pointToY)&&(this.previousX=this.pointToX,this.previousY=this.pointToY,this.pointToX=n,this.pointToY=t,this.positionChanged=!0)},followCursor:function(n){var t=this,i,r;t.follow=n;clearInterval(t.interval);i=t.chart.mouseX-t.sdx;r=t.chart.mouseY-t.sdy;!isNaN(i)&&n&&(t.pointToX=i-t.offsetX*t.deltaSignX,t.pointToY=r,t.followMouse(),t.interval=setInterval(function(){t.followMouse.call(t)},40))},removeDiv:function(){if(this.textDiv){var n=this.textDiv.parentNode;n&&n.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval);n.remove(this.set);this.removeDiv();this.set=null}})}(),function(){var n=window.AmCharts;n.AmCoordinateChart=n.Class({inherits:n.AmChart,construct:function(t){n.AmCoordinateChart.base.construct.call(this,t);this.theme=t;this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph");this.startAlpha=1;this.startDuration=0;this.startEffect="elastic";this.sequencedAnimation=!0;this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" ");this.balloonDateFormat="MMM DD, YYYY";this.valueAxes=[];this.graphs=[];this.guides=[];this.gridAboveGraphs=!1;n.applyTheme(this,t,"AmCoordinateChart")},initChart:function(){n.AmCoordinateChart.base.initChart.call(this);this.drawGraphs=!0;var t=this.categoryAxis;t&&(this.categoryAxis=n.processObject(t,n.CategoryAxis,this.theme));this.processValueAxes();this.createValueAxes();this.processGraphs();this.processGuides();n.VML&&(this.startAlpha=1);this.setLegendData(this.graphs);this.gridAboveGraphs&&(this.gridSet.toFront(),this.bulletSet.toFront(),this.balloonsSet.toFront())},createValueAxes:function(){if(0===this.valueAxes.length){var t=new n.ValueAxis;this.addValueAxis(t)}},parseData:function(){this.processValueAxes();this.processGraphs()},parseSerialData:function(n){var i,t;if(this.chartData=[],n)if(0<this.processTimeout)for(1>this.processCount&&(this.processCount=1),i=n.length/this.processCount,this.parseCount=Math.ceil(i)-1,t=0;t<i;t++)this.delayParseSerialData(n,t);else this.parseCount=0,this.parsePartSerialData(n,0,n.length,0);else this.onDataUpdated()},delayParseSerialData:function(n,t){var i=this,r=i.processCount;setTimeout(function(){i.parsePartSerialData.call(i,n,t*r,(t+1)*r,t)},i.processTimeout)},parsePartSerialData:function(t,i,r,u){var p,nt,e,tt,it,rt,l,ut,w,ht,ft,a,et,v,f,s,ot,b,y,k,h,ct,o,d,c,lt;r>t.length&&(r=t.length);var g=this.graphs,at={},st=this.seriesIdField;for(st||(st=this.categoryField),p=!1,e=this.categoryAxis,e&&(p=e.parseDates,tt=e.forceShowField,rt=e.classNameField,it=e.labelColorField,nt=e.categoryFunction),w={},p&&(l=n.extractPeriod(e.minPeriod),ut=l.period,l=l.count,ht=n.getPeriodDuration(ut,l)),ft={},this.lookupTable=ft,et=this.dataDateFormat,v={},a=i;a<r;a++)if(f={},s=t[a],i=s[this.categoryField],f.dataContext=s,f.category=nt?nt(i,s,e):String(i),tt&&(f.forceShow=s[tt]),rt&&(f.className=s[rt]),it&&(f.labelColor=s[it]),ft[s[st]]=f,!p||(e.categoryFunction?i=e.categoryFunction(i,s,e):(!et||i instanceof Date||(i=i.toString()+" |"),i=n.getDate(i,et,e.minPeriod)),i=n.resetDateToMin(i,ut,l,e.firstDayOfWeek),f.category=i,f.time=i.getTime(),!isNaN(f.time))){for(ot=this.valueAxes,f.axes={},f.x={},b=0;b<ot.length;b++)for(y=ot[b].id,f.axes[y]={},f.axes[y].graphs={},k=0;k<g.length;k++)if(i=g[k],h=i.id,c=1.1,isNaN(i.gapPeriod)||(c=i.gapPeriod),ct=i.periodValue,i.valueAxis.id==y){if(f.axes[y].graphs[h]={},o={},o.index=a,d=s,i.dataProvider&&(d=at),o.values=this.processValues(d,i,ct),!i.connect||i.forceGap&&!isNaN(i.gapPeriod))if(v&&v[h]&&0<c&&f.time-w[h]>=ht*c&&(v[h].gap=!0),i.forceGap){c=0;for(lt in o.values)c++;0<c&&(w[h]=f.time,v[h]=o)}else w[h]=f.time,v[h]=o;this.processFields(i,o,d);o.category=f.category;o.serialDataItem=f;o.graph=i;f.axes[y].graphs[h]=o}this.chartData[a]=f}if(this.parseCount==u){for(t=0;t<g.length;t++)i=g[t],i.dataProvider&&this.parseGraphData(i);this.dataChanged=!1;this.dispatchDataUpdated=!0;this.onDataUpdated()}},processValues:function(t,i,r){var s={},f,c=!1,h,o,u,e;for("candlestick"!=i.type&&"ohlc"!=i.type||""===r||(c=!0),h="value error open close low high".split(" "),o=0;o<h.length;o++)u=h[o],"value"!=u&&"error"!=u&&c&&(r=u.charAt(0).toUpperCase()+u.slice(1)),e=t[i[u+"Field"]+r],null!==e&&(f=Number(e),isNaN(f)||(s[u]=f),"date"==i.valueAxis.type&&void 0!==e&&(f=n.getDate(e,i.chart.dataDateFormat),s[u]=f.getTime()));return s},parseGraphData:function(n){var e=n.dataProvider,t=n.seriesIdField,r;for(t||(t=this.seriesIdField),t||(t=this.categoryField),r=0;r<e.length;r++){var u=e[r],f=this.lookupTable[String(u[t])],i=n.valueAxis.id;f&&(i=f.axes[i].graphs[n.id],i.serialDataItem=f,i.values=this.processValues(u,n,n.periodValue),this.processFields(n,i,u))}},addValueAxis:function(n){n.chart=this;this.valueAxes.push(n);this.validateData()},removeValueAxesAndGraphs:function(){for(var t=this.valueAxes,n=t.length-1;-1<n;n--)this.removeValueAxis(t[n])},removeValueAxis:function(n){for(var i=this.graphs,r,t=i.length-1;0<=t;t--)r=i[t],r&&r.valueAxis==n&&this.removeGraph(r);for(i=this.valueAxes,t=i.length-1;0<=t;t--)i[t]==n&&i.splice(t,1);this.validateData()},addGraph:function(n){this.graphs.push(n);this.chooseGraphColor(n,this.graphs.length-1);this.validateData()},removeGraph:function(n){for(var i=this.graphs,t=i.length-1;0<=t;t--)i[t]==n&&(i.splice(t,1),n.destroy());this.validateData()},handleValueAxisZoom:function(){},processValueAxes:function(){for(var r=this.valueAxes,t,i=0;i<r.length;i++)t=r[i],t=n.processObject(t,n.ValueAxis,this.theme),r[i]=t,t.chart=this,t.init(),this.listenTo(t,"axisIntZoomed",this.handleValueAxisZoom),t.id||(t.id="valueAxisAuto"+i+"_"+(new Date).getTime()),void 0===t.usePrefixes&&(t.usePrefixes=this.usePrefixes)},processGuides:function(){var u=this.guides,f=this.categoryAxis,r,t,i;if(u)for(r=0;r<u.length;r++)t=u[r],(void 0!==t.category||void 0!==t.date)&&f&&f.addGuide(t),t.id||(t.id="guideAuto"+r+"_"+(new Date).getTime()),i=t.valueAxis,i?(n.isString(i)&&(i=this.getValueAxisById(i)),i?i.addGuide(t):this.valueAxes[0].addGuide(t)):isNaN(t.value)||this.valueAxes[0].addGuide(t)},processGraphs:function(){var r=this.graphs,i,t;for(this.graphsById={},i=0;i<r.length;i++)t=r[i],t=n.processObject(t,n.AmGraph,this.theme),r[i]=t,this.chooseGraphColor(t,i),t.chart=this,t.init(),n.isString(t.valueAxis)&&(t.valueAxis=this.getValueAxisById(t.valueAxis)),t.valueAxis||(t.valueAxis=this.valueAxes[0]),t.id||(t.id="graphAuto"+i+"_"+(new Date).getTime()),this.graphsById[t.id]=t},formatString:function(t,i,r){var f=i.graph,u=f.valueAxis;return u.duration&&i.values.value&&(u=n.formatDuration(i.values.value,u.duration,"",u.durationUnits,u.maxInterval,u.numberFormatter),t=t.split("[[value]]").join(u)),t=n.massReplace(t,{"[[title]]":f.title,"[[description]]":i.description}),t=r?n.fixNewLines(t):n.fixBrakes(t),n.cleanFromEmpty(t)},getBalloonColor:function(t,i,r){var u=t.lineColor,f=t.balloonColor;return r&&(f=u),r=t.fillColorsR,"object"==typeof r?u=r[0]:void 0!==r&&(u=r),i.isNegative&&(r=t.negativeLineColor,t=t.negativeFillColors,"object"==typeof t?r=t[0]:void 0!==t&&(r=t),void 0!==r&&(u=r)),void 0!==i.color&&(u=i.color),void 0!==i.lineColor&&(u=i.lineColor),i=i.fillColors,void 0!==i&&(u=i,n.ifArray(i)&&(u=i[0])),void 0===f&&(f=u),f},getGraphById:function(t){return n.getObjById(this.graphs,t)},getValueAxisById:function(t){return n.getObjById(this.valueAxes,t)},processFields:function(t,i,r){var f,u,o,e;for(t.itemColors&&(f=t.itemColors,u=i.index,i.color=u<f.length?f[u]:n.randomColor()),f="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className columnIndex".split(" "),u=0;u<f.length;u++)o=f[u],e=t[o+"Field"],e&&(e=r[e],n.isDefined(e)&&(i[o]=e));i.dataContext=r},chooseGraphColor:function(t,i){if(t.lineColor)t.lineColorR=t.lineColor;else{var r;r=this.colors.length>i?this.colors[i]:t.lineColorR?t.lineColorR:n.randomColor();t.lineColorR=r}t.fillColorsR=t.fillColors?t.fillColors:t.lineColorR;t.bulletBorderColorR=t.bulletBorderColor?t.bulletBorderColor:t.useLineColorForBulletBorder?t.lineColorR:t.bulletColor;t.bulletColorR=t.bulletColor?t.bulletColor:t.lineColorR;(r=this.patterns)&&(t.pattern=r[i])},handleLegendEvent:function(n){var r=n.type,t,i;if(n=n.dataItem){t=n.hidden;i=n.showBalloon;switch(r){case"clickMarker":this.textClickEnabled&&(i?this.hideGraphsBalloon(n):this.showGraphsBalloon(n));break;case"clickLabel":i?this.hideGraphsBalloon(n):this.showGraphsBalloon(n);break;case"rollOverItem":t||this.highlightGraph(n);break;case"rollOutItem":t||this.unhighlightGraph();break;case"hideItem":this.hideGraph(n);break;case"showItem":this.showGraph(n)}}},highlightGraph:function(n){var r=this.graphs,t,i,u;if(r&&(i=.2,this.legend&&(i=this.legend.rollOverGraphAlpha),1!=i))for(t=0;t<r.length;t++)u=r[t],u!=n&&u.changeOpacity(i)},unhighlightGraph:function(){var n,t;if(this.legend&&(n=this.legend.rollOverGraphAlpha),1!=n)for(n=this.graphs,t=0;t<n.length;t++)n[t].changeOpacity(1)},showGraph:function(n){n.switchable&&(n.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(n){n.switchable&&(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),n.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(n){n.showBalloon=!1;this.updateLegend()},showGraphsBalloon:function(n){n.showBalloon=!0;this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){var t=this.graphs,n;if(t)for(n=0;n<t.length;n++)t[n].animationPlayed=!1},animateAgain:function(){this.resetAnimation();this.validateNow()}})}(),function(){var n=window.AmCharts;n.TrendLine=n.Class({construct:function(t){this.cname="TrendLine";this.createEvents("click");this.isProtected=!1;this.dashLength=0;this.lineColor="#00CC00";this.lineThickness=this.lineAlpha=1;n.applyTheme(this,t,this.cname)},draw:function(){var t=this;t.destroy();var o=t.chart,c=o.container,s,h,i,u,e=t.categoryAxis,l=t.initialDate,v=t.initialCategory,a=t.finalDate,f=t.finalCategory,r=t.valueAxis,y=t.valueAxisX,p=t.initialXValue,w=t.finalXValue,b=t.initialValue,k=t.finalValue,d=r.recalculateToPercents,g=o.dataDateFormat;e&&(l&&(l=n.getDate(l,g,"fff"),t.initialDate=l,s=e.dateToCoordinate(l)),v&&(s=e.categoryToCoordinate(v)),a&&(a=n.getDate(a,g,"fff"),t.finalDate=a,h=e.dateToCoordinate(a)),f&&(h=e.categoryToCoordinate(f)));y&&!d&&(isNaN(p)||(s=y.getCoordinate(p)),isNaN(w)||(h=y.getCoordinate(w)));r&&!d&&(isNaN(b)||(i=r.getCoordinate(b)),isNaN(k)||(u=r.getCoordinate(k)));isNaN(s)||isNaN(h)||isNaN(i)||isNaN(i)||(o.rotate?(e=[i,u],u=[s,h]):(e=[s,h],u=[i,u]),l=t.lineColor,i=n.line(c,e,u,l,t.lineAlpha,t.lineThickness,t.dashLength),s=e,h=u,f=e[1]-e[0],r=u[1]-u[0],0===f&&(f=.01),0===r&&(r=.01),v=f/Math.abs(f),a=r/Math.abs(r),r=Math.PI/2-Math.asin(f/(f*r/Math.abs(f*r)*Math.sqrt(Math.pow(f,2)+Math.pow(r,2)))),f=Math.abs(5*Math.cos(r)),r=Math.abs(5*Math.sin(r)),s.push(e[1]-v*r,e[0]-v*r),h.push(u[1]+a*f,u[0]+a*f),u=n.polygon(c,s,h,l,.005,0),c=c.set([u,i]),c.translate(o.marginLeftReal,o.marginTopReal),o.trendLinesSet.push(c),n.setCN(o,i,"trend-line"),n.setCN(o,i,"trend-line-"+t.id),t.line=i,t.set=c,(i=t.initialImage)&&(i=n.processObject(i,n.Image,t.theme),i.chart=o,i.draw(),i.translate(s[0]+i.offsetX,h[0]+i.offsetY),c.push(i.set)),(i=t.finalImage)&&(i=n.processObject(i,n.Image,t.theme),i.chart=o,i.draw(),i.translate(s[1]+i.offsetX,h[1]+i.offsetY),c.push(i.set)),u.mouseup(function(){t.handleLineClick()}).mouseover(function(){t.handleLineOver()}).mouseout(function(){t.handleLineOut()}),u.touchend&&u.touchend(function(){t.handleLineClick()}),c.clipRect(0,0,o.plotAreaWidth,o.plotAreaHeight))},handleLineClick:function(){this.fire({type:"click",trendLine:this,chart:this.chart})},handleLineOver:function(){var n=this.rollOverColor;void 0!==n&&this.line.attr({stroke:n});this.balloonText&&(clearTimeout(this.chart.hoverInt),n=this.line.getBBox(),this.chart.showBalloon(this.balloonText,this.lineColor,!0,this.x+n.x+n.width/2,this.y+n.y+n.height/2))},handleLineOut:function(){this.line.attr({stroke:this.lineColor});this.balloonText&&this.chart.hideBalloon()},destroy:function(){n.remove(this.set)}})}(),function(){var n=window.AmCharts;n.Image=n.Class({construct:function(t){this.cname="Image";this.height=this.width=20;this.rotation=this.offsetY=this.offsetX=0;this.balloonColor=this.color="#000000";this.opacity=1;n.applyTheme(this,t,this.cname)},draw:function(){var n=this,i,t,r;n.set&&n.set.remove();i=n.chart.container;n.set=i.set();n.url?(t=i.image(n.url,0,0,n.width,n.height),r=1):n.svgPath&&(t=i.path(n.svgPath),t.setAttr("fill",n.color),t.setAttr("stroke",n.outlineColor),i=t.getBBox(),r=Math.min(n.width/i.width,n.height/i.height));t&&(t.setAttr("opacity",n.opacity),n.set.rotate(n.rotation),t.translate(-n.width/2,-n.height/2,r),n.balloonText&&t.mouseover(function(){n.chart.showBalloon(n.balloonText,n.balloonColor,!0)}).mouseout(function(){n.chart.hideBalloon()}).touchend(function(){n.chart.hideBalloon()}).touchstart(function(){n.chart.showBalloon(n.balloonText,n.balloonColor,!0)}),n.set.push(t))},translate:function(n,t){this.set&&this.set.translate(n,t)}})}(),function(){var n=window.AmCharts;n.circle=function(t,i,r,u,f,e,o,s,h){return 0>=i&&(i=.001),(void 0==f||0===f)&&(f=.01),void 0===e&&(e="#000000"),void 0===o&&(o=0),u={fill:r,stroke:e,"fill-opacity":u,"stroke-width":f,"stroke-opacity":o},t=isNaN(h)?t.circle(0,0,i).attr(u):t.ellipse(0,0,i,h).attr(u),s&&t.gradient("radialGradient",[r,n.adjustLuminosity(r,-.6)]),t};n.text=function(t,i,r,u,f,e,o,s){return e||(e="middle"),"right"==e&&(e="end"),"left"==e&&(e="start"),isNaN(s)&&(s=1),void 0!==i&&(i=String(i),n.isIE&&!n.isModern&&(i=i.replace("&amp;","&"),i=i.replace("&","&amp;"))),r={fill:r,"font-family":u,"font-size":f+"px",opacity:s},!0===o&&(r["font-weight"]="bold"),r["text-anchor"]=e,t.text(i,r)};n.polygon=function(t,i,r,u,f,e,o,s,h,c,l){var v,y,a;for(isNaN(e)&&(e=.01),isNaN(s)&&(s=f),v=u,y=!1,"object"==typeof v&&1<v.length&&(y=!0,v=v[0]),void 0===o&&(o=v),f={fill:v,stroke:o,"fill-opacity":f,"stroke-width":e,"stroke-opacity":s},void 0!==l&&0<l&&(f["stroke-dasharray"]=l),l=n.dx,e=n.dy,t.handDrawn&&(r=n.makeHD(i,r,t.handDrawScatter),i=r[0],r=r[1]),o=Math.round,c&&(i[a]=n.roundTo(i[a],5),r[a]=n.roundTo(r[a],5),o=Number),s="M"+(o(i[0])+l)+","+(o(r[0])+e),a=1;a<i.length;a++)c&&(i[a]=n.roundTo(i[a],5),r[a]=n.roundTo(r[a],5)),s+=" L"+(o(i[a])+l)+","+(o(r[a])+e);return t=t.path(s+" Z").attr(f),y&&t.gradient("linearGradient",u,h),t};n.rect=function(t,i,r,u,f,e,o,s,h,c,l){var a,p,v,y;return isNaN(i)||isNaN(r)?t.set():(isNaN(e)&&(e=0),void 0===h&&(h=0),void 0===c&&(c=270),isNaN(f)&&(f=0),a=u,p=!1,"object"==typeof a&&(a=a[0],p=!0),void 0===o&&(o=a),void 0===s&&(s=f),i=Math.round(i),r=Math.round(r),v=0,y=0,0>i&&(i=Math.abs(i),v=-i),0>r&&(r=Math.abs(r),y=-r),v+=n.dx,y+=n.dy,f={fill:a,stroke:o,"fill-opacity":f,"stroke-opacity":s},void 0!==l&&0<l&&(f["stroke-dasharray"]=l),t=t.rect(v,y,i,r,h,e).attr(f),p&&t.gradient("linearGradient",u,c),t)};n.bullet=function(t,i,r,u,f,e,o,s,h,c,l,a,v){var y;"circle"==i&&(i="round");switch(i){case"round":y=n.circle(t,r/2,u,f,e,o,s);break;case"square":y=n.polygon(t,[-r/2,r/2,r/2,-r/2],[r/2,r/2,-r/2,-r/2],u,f,e,o,s,c-180,void 0,v);break;case"rectangle":y=n.polygon(t,[-r,r,r,-r],[r/2,r/2,-r/2,-r/2],u,f,e,o,s,c-180,void 0,v);break;case"diamond":y=n.polygon(t,[-r/2,0,r/2,0],[0,-r/2,0,r/2],u,f,e,o,s);break;case"triangleUp":y=n.triangle(t,r,0,u,f,e,o,s);break;case"triangleDown":y=n.triangle(t,r,180,u,f,e,o,s);break;case"triangleLeft":y=n.triangle(t,r,270,u,f,e,o,s);break;case"triangleRight":y=n.triangle(t,r,90,u,f,e,o,s);break;case"bubble":y=n.circle(t,r/2,u,f,e,o,s,!0);break;case"line":y=n.line(t,[-r/2,r/2],[0,0],u,f,e,o,s);break;case"yError":y=t.set();y.push(n.line(t,[0,0],[-r/2,r/2],u,f,e));y.push(n.line(t,[-h,h],[-r/2,-r/2],u,f,e));y.push(n.line(t,[-h,h],[r/2,r/2],u,f,e));break;case"xError":y=t.set();y.push(n.line(t,[-r/2,r/2],[0,0],u,f,e));y.push(n.line(t,[-r/2,-r/2],[-h,h],u,f,e));y.push(n.line(t,[r/2,r/2],[-h,h],u,f,e))}return y&&y.pattern(l,NaN,a),y};n.triangle=function(n,t,i,r,u,f,e,o){(void 0===f||0===f)&&(f=1);void 0===e&&(e="#000");void 0===o&&(o=0);r={fill:r,stroke:e,"fill-opacity":u,"stroke-width":f,"stroke-opacity":o};t/=2;var s;return 0===i&&(s=" M"+-t+","+t+" L0,"+-t+" L"+t+","+t+" Z"),180==i&&(s=" M"+-t+","+-t+" L0,"+t+" L"+t+","+-t+" Z"),90==i&&(s=" M"+-t+","+-t+" L"+t+",0 L"+-t+","+t+" Z"),270==i&&(s=" M"+-t+",0 L"+t+","+t+" L"+t+","+-t+" Z"),n.path(s).attr(r)};n.line=function(t,i,r,u,f,e,o,s,h,c,l){if(t.handDrawn&&!l)return n.handDrawnLine(t,i,r,u,f,e,o,s,h,c,l);for(e={fill:"none","stroke-width":e},void 0!==o&&0<o&&(e["stroke-dasharray"]=o),isNaN(f)||(e["stroke-opacity"]=f),u&&(e.stroke=u),u=Math.round,c&&(u=Number,i[0]=n.roundTo(i[0],5),r[0]=n.roundTo(r[0],5)),c=n.dx,f=n.dy,o="M"+(u(i[0])+c)+","+(u(r[0])+f),s=1;s<i.length;s++)i[s]=n.roundTo(i[s],5),r[s]=n.roundTo(r[s],5),o+=" L"+(u(i[s])+c)+","+(u(r[s])+f);return n.VML?t.path(o,void 0,!0).attr(e):(h&&(o+=" M0,0 L0,0"),t.path(o).attr(e))};n.makeHD=function(n,t,i){for(var c,l=[],a=[],r=1;r<n.length;r++)for(var f=Number(n[r-1]),e=Number(t[r-1]),o=Number(n[r]),s=Number(t[r]),h=Math.round(Math.sqrt(Math.pow(o-f,2)+Math.pow(s-e,2))/50)+1,o=(o-f)/h,s=(s-e)/h,u=0;u<=h;u++)c=e+u*s+Math.random()*i,l.push(f+u*o+Math.random()*i),a.push(c);return[l,a]};n.handDrawnLine=function(t,i,r,u,f,e,o,s,h,c){for(var p=t.set(),l=1;l<i.length;l++)for(var y=[i[l-1],i[l]],v=[r[l-1],r[l]],v=n.makeHD(y,v,t.handDrawScatter),y=v[0],v=v[1],a=1;a<y.length;a++)p.push(n.line(t,[y[a-1],y[a]],[v[a-1],v[a]],u,f,e+Math.random()*t.handDrawThickness-t.handDrawThickness/2,o,s,h,c,!0));return p};n.doNothing=function(n){return n};n.drop=function(n,t,i,r,u,f,e,o){var s=1/180*Math.PI,h=i-20,v=Math.sin(h*s)*t,y=Math.cos(h*s)*t,p=Math.sin((h+40)*s)*t,w=Math.cos((h+40)*s)*t,a=.8*t,c=-t/3,l=t/3;return 0===i&&(c=-c,l=0),180==i&&(l=0),90==i&&(c=0),270==i&&(c=0,l=-l),i={fill:r,stroke:e,"stroke-width":f,"stroke-opacity":o,"fill-opacity":u},t="M"+v+","+y+" A"+t+","+t+",0,1,1,"+p+","+w+(" A"+a+","+a+",0,0,0,"+(Math.sin((h+20)*s)*t+l)+","+(Math.cos((h+20)*s)*t+c)),t+=" A"+a+","+a+",0,0,0,"+v+","+y,n.path(t,void 0,void 0,"1000,1000").attr(i)};n.wedge=function(t,i,r,u,f,e,o,s,h,c,l,a,v,y){var p=Math.round,et,tt,ct,ht,lt;e=p(e);o=p(o);s=p(s);var k=p(o/e*s),ot=n.VML,b=359.5+e/100;359.94<b&&(b=359.94);f>=b&&(f=b);var w=1/180*Math.PI,b=i+Math.sin(u*w)*s,d=r-Math.cos(u*w)*k,g=i+Math.sin(u*w)*e,nt=r-Math.cos(u*w)*o,it=i+Math.sin((u+f)*w)*e,rt=r-Math.cos((u+f)*w)*o,ut=i+Math.sin((u+f)*w)*s,w=r-Math.cos((u+f)*w)*k,ft={fill:n.adjustLuminosity(c.fill,-.2),"stroke-opacity":0,"fill-opacity":c["fill-opacity"]},st=0;if(180<Math.abs(f)&&(st=1),u=t.set(),ot&&(b=p(10*b),g=p(10*g),it=p(10*it),ut=p(10*ut),d=p(10*d),nt=p(10*nt),rt=p(10*rt),w=p(10*w),i=p(10*i),h=p(10*h),r=p(10*r),e*=10,o*=10,s*=10,k*=10,1>Math.abs(f)&&1>=Math.abs(it-g)&&1>=Math.abs(rt-nt)&&(et=!0)),f="",a&&(ft["fill-opacity"]=0,ft["stroke-opacity"]=c["stroke-opacity"]/2,ft.stroke=c.stroke),0<h){for(tt=" M"+b+","+(d+h)+" L"+g+","+(nt+h),ot?(et||(tt+=" A"+(i-e)+","+(h+r-o)+","+(i+e)+","+(h+r+o)+","+g+","+(nt+h)+","+it+","+(rt+h)),tt+=" L"+ut+","+(w+h),0<s&&(et||(tt+=" B"+(i-s)+","+(h+r-k)+","+(i+s)+","+(h+r+k)+","+ut+","+(h+w)+","+b+","+(h+d)))):(tt+=" A"+e+","+o+",0,"+st+",1,"+it+","+(rt+h)+" L"+ut+","+(w+h),0<s&&(tt+=" A"+s+","+k+",0,"+st+",0,"+b+","+(d+h))),tt+=" Z",ct=h,ot&&(ct/=10),ht=0;ht<ct;ht+=10)lt=t.path(tt,void 0,void 0,"1000,1000").attr(ft),u.push(lt),lt.translate(0,-ht);tt=t.path(" M"+b+","+d+" L"+b+","+(d+h)+" L"+g+","+(nt+h)+" L"+g+","+nt+" L"+b+","+d+" Z",void 0,void 0,"1000,1000").attr(ft);h=t.path(" M"+it+","+rt+" L"+it+","+(rt+h)+" L"+ut+","+(w+h)+" L"+ut+","+w+" L"+it+","+rt+" Z",void 0,void 0,"1000,1000").attr(ft);u.push(tt);u.push(h)}if(ot?(et||(f=" A"+p(i-e)+","+p(r-o)+","+p(i+e)+","+p(r+o)+","+p(g)+","+p(nt)+","+p(it)+","+p(rt)),o=" M"+p(b)+","+p(d)+" L"+p(g)+","+p(nt)+f+" L"+p(ut)+","+p(w)):o=" M"+b+","+d+" L"+g+","+nt+(" A"+e+","+o+",0,"+st+",1,"+it+","+rt)+" L"+ut+","+w,0<s&&(ot?et||(o+=" B"+(i-s)+","+(r-k)+","+(i+s)+","+(r+k)+","+ut+","+w+","+b+","+d):o+=" A"+s+","+k+",0,"+st+",0,"+b+","+d),t.handDrawn&&(s=n.line(t,[b,g],[d,nt],c.stroke,c.thickness*Math.random()*t.handDrawThickness,c["stroke-opacity"]),u.push(s)),t=t.path(o+" Z",void 0,void 0,"1000,1000").attr(c),l){for(s=[],k=0;k<l.length;k++)s.push(n.adjustLuminosity(c.fill,l[k]));"radial"!=y||n.isModern||(s=[]);0<s.length&&t.gradient(y+"Gradient",s)}return n.isModern&&"radial"==y&&t.grad&&(t.grad.setAttribute("gradientUnits","userSpaceOnUse"),t.grad.setAttribute("r",e),t.grad.setAttribute("cx",i),t.grad.setAttribute("cy",r)),t.pattern(a,NaN,v),u.wedge=t,u.push(t),u};n.rgb2hex=function(n){return(n=n.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===n.length?"#"+("0"+parseInt(n[1],10).toString(16)).slice(-2)+("0"+parseInt(n[2],10).toString(16)).slice(-2)+("0"+parseInt(n[3],10).toString(16)).slice(-2):""};n.adjustLuminosity=function(t,i){t&&-1!=t.indexOf("rgb")&&(t=n.rgb2hex(t));t=String(t).replace(/[^0-9a-f]/gi,"");6>t.length&&(t=String(t[0])+String(t[0])+String(t[1])+String(t[1])+String(t[2])+String(t[2]));i=i||0;for(var f="#",r,u=0;3>u;u++)r=parseInt(t.substr(2*u,2),16),r=Math.round(Math.min(Math.max(0,r+r*i),255)).toString(16),f+=("00"+r).substr(r.length);return f}}(),function(){var n=window.AmCharts;n.Bezier=n.Class({construct:function(t,i,r,u,f,e,o,s,h,c,l){var a,v;for("object"==typeof o&&1<o.length&&(v=!0,a=o,o=o[0]),"object"==typeof s&&(s=s[0]),0===s&&(o="none"),e={fill:o,"fill-opacity":s,"stroke-width":e},void 0!==h&&0<h&&(e["stroke-dasharray"]=h),isNaN(f)||(e["stroke-opacity"]=f),u&&(e.stroke=u),u="M"+Math.round(i[0])+","+Math.round(r[0]),f=[],h=0;h<i.length;h++)isNaN(i[h])||isNaN(r[h])?(u+=this.drawSegment(f),h<i.length-1&&(u+="L"+i[h+1]+","+r[h+1]),f=[]):f.push({x:Number(i[h]),y:Number(r[h])});u+=this.drawSegment(f);c?u+=c:n.VML||(u+="M0,0 L0,0");this.path=t.path(u).attr(e);this.node=this.path.node;v&&this.path.gradient("linearGradient",a,l)},drawSegment:function(n){return 1<n.length?(n=this.interpolate(n),this.drawBeziers(n)):""},interpolate:function(t){var f=[],e;f.push({x:t[0].x,y:t[0].y});var o=t[1].x-t[0].x,r=t[1].y-t[0].y,s=n.bezierX,h=n.bezierY;for(f.push({x:t[0].x+o/s,y:t[0].y+r/h}),e=1;e<t.length-1;e++){var u=t[e-1],i=t[e],r=t[e+1];isNaN(r.x)&&(r=i);isNaN(i.x)&&(i=u);isNaN(u.x)&&(u=i);o=r.x-i.x;r=r.y-u.y;u=i.x-u.x;u>o&&(u=o);f.push({x:i.x-u/s,y:i.y-r/h});f.push({x:i.x,y:i.y});f.push({x:i.x+u/s,y:i.y+r/h})}return r=t[t.length-1].y-t[t.length-2].y,o=t[t.length-1].x-t[t.length-2].x,f.push({x:t[t.length-1].x-o/s,y:t[t.length-1].y-r/h}),f.push({x:t[t.length-1].x,y:t[t.length-1].y}),f},drawBeziers:function(n){for(var i="",t=0;t<(n.length-1)/3;t++)i+=this.drawBezierMidpoint(n[3*t],n[3*t+1],n[3*t+2],n[3*t+3]);return i},drawBezierMidpoint:function(n,t,i,r){var u=Math.round,e=this.getPointOnSegment(n,t,.75),o=this.getPointOnSegment(r,i,.75),s=(r.x-n.x)/16,h=(r.y-n.y)/16,f=this.getPointOnSegment(n,t,.375);return n=this.getPointOnSegment(e,o,.375),n.x-=s,n.y-=h,t=this.getPointOnSegment(o,e,.375),t.x+=s,t.y+=h,i=this.getPointOnSegment(r,i,.375),s=this.getMiddle(f,n),e=this.getMiddle(e,o),o=this.getMiddle(t,i),f=" Q"+u(f.x)+","+u(f.y)+","+u(s.x)+","+u(s.y),f+=" Q"+u(n.x)+","+u(n.y)+","+u(e.x)+","+u(e.y),f+=" Q"+u(t.x)+","+u(t.y)+","+u(o.x)+","+u(o.y),f+(" Q"+u(i.x)+","+u(i.y)+","+u(r.x)+","+u(r.y))},getMiddle:function(n,t){return{x:(n.x+t.x)/2,y:(n.y+t.y)/2}},getPointOnSegment:function(n,t,i){return{x:n.x+(t.x-n.x)*i,y:n.y+(t.y-n.y)*i}}})}(),function(){var n=window.AmCharts;n.AmDraw=n.Class({construct:function(t,i,r,u){n.SVG_NS="http://www.w3.org/2000/svg";n.SVG_XLINK="http://www.w3.org/1999/xlink";n.hasSVG=!!document.createElementNS&&!!document.createElementNS(n.SVG_NS,"svg").createSVGRect;1>i&&(i=10);1>r&&(r=10);this.div=t;this.width=i;this.height=r;this.rBin=document.createElement("div");n.hasSVG?(n.SVG=!0,i=this.createSvgElement("svg"),t.appendChild(i),this.container=i,this.addDefs(u),this.R=new n.SVGRenderer(this)):n.isIE&&n.VMLRenderer&&(n.VML=!0,n.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?(i=document.createStyleSheet(),i.addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),n.vmlStyleSheet=i):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=t,this.R=new n.VMLRenderer(this,u),this.R.disableSelection(t))},createSvgElement:function(t){return document.createElementNS(n.SVG_NS,t)},circle:function(t,i,r,u){var f=new n.AmDObject("circle",this);return f.attr({r:r,cx:t,cy:i}),this.addToContainer(f.node,u),f},ellipse:function(t,i,r,u,f){var e=new n.AmDObject("ellipse",this);return e.attr({rx:r,ry:u,cx:t,cy:i}),this.addToContainer(e.node,f),e},setSize:function(n,t){0<n&&0<t&&(this.container.style.width=n+"px",this.container.style.height=t+"px")},rect:function(t,i,r,u,f,e,o){var s=new n.AmDObject("rect",this);return n.VML&&(f=Math.round(100*f/Math.min(r,u)),r+=2*e,u+=2*e,s.bw=e,s.node.style.marginLeft=-e,s.node.style.marginTop=-e),1>r&&(r=1),1>u&&(u=1),s.attr({x:t,y:i,width:r,height:u,rx:f,ry:f,"stroke-width":e}),this.addToContainer(s.node,o),s},image:function(t,i,r,u,f,e){var o=new n.AmDObject("image",this);return o.attr({x:i,y:r,width:u,height:f}),this.R.path(o,t),this.addToContainer(o.node,e),o},addToContainer:function(n,t){t||(t=this.container);t.appendChild(n)},text:function(n,t,i){return this.R.text(n,t,i)},path:function(t,i,r,u){var f=new n.AmDObject("path",this);return u||(u="100,100"),f.attr({cs:u}),r?f.attr({dd:t}):f.attr({d:t}),this.addToContainer(f.node,i),f},set:function(n){return this.R.set(n)},remove:function(n){if(n){var t=this.rBin;t.appendChild(n);t.innerHTML=""}},renderFix:function(){var i=this.container,n=i.style;n.top="0px";n.left="0px";try{var t=i.getBoundingClientRect(),r=t.left-Math.round(t.left),u=t.top-Math.round(t.top);r&&(n.left=r+"px");u&&(n.top=u+"px")}catch(f){}},update:function(){this.R.update()},addDefs:function(t){var r,i,u;n.hasSVG&&(r=this.createSvgElement("desc"),i=this.container,i.setAttribute("version","1.1"),i.style.position="absolute",this.setSize(this.width,this.height),t.accessibleTitle&&(u=this.createSvgElement("text"),i.appendChild(u),u.innerHTML=t.accessibleTitle,u.style.opacity=0),n.rtl&&(i.setAttribute("direction","rtl"),i.style.left="auto",i.style.right="0px"),t&&(t.addCodeCredits&&r.appendChild(document.createTextNode("JavaScript chart by amCharts "+t.version)),i.appendChild(r),t.defs&&(r=this.createSvgElement("defs"),i.appendChild(r),n.parseDefs(t.defs,r),this.defs=r)))}})}(),function(){var n=window.AmCharts;n.AmDObject=n.Class({construct:function(n,t){this.D=t;this.R=t.R;this.node=this.R.create(this,n);this.y=this.x=0;this.scale=1},attr:function(n){return this.R.attr(this,n),this},getAttr:function(n){return this.node.getAttribute(n)},setAttr:function(n,t){return this.R.setAttr(this,n,t),this},clipRect:function(n,t,i,r){this.R.clipRect(this,n,t,i,r)},translate:function(n,t,i,r){r||(n=Math.round(n),t=Math.round(t));this.R.move(this,n,t,i);this.x=n;this.y=t;this.scale=i;this.angle&&this.rotate(this.angle)},rotate:function(n,t){this.R.rotate(this,n,t);this.angle=n},animate:function(t,i,r){var u,f,e;for(u in t)t.hasOwnProperty(u)&&(f=u,e=t[u],r=n.getEffect(r),this.R.animate(this,f,e,i,r))},push:function(n){var t,i;n&&(t=this.node,t.appendChild(n.node),i=n.clipPath,i&&t.appendChild(i),(n=n.grad)&&t.appendChild(n))},text:function(n){this.R.setText(this,n)},remove:function(){this.stop();this.R.remove(this)},clear:function(){var n=this.node;if(n.hasChildNodes())for(;1<=n.childNodes.length;)n.removeChild(n.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var n=this.node,t;n&&(this.prevNextNode=n.nextSibling,t=n.parentNode,t&&t.appendChild(n))},toPrevious:function(){var n=this.node;n&&this.prevNextNode&&(n=n.parentNode)&&n.insertBefore(this.prevNextNode,null)},toBack:function(){var n=this.node,t,i;n&&(this.prevNextNode=n.nextSibling,t=n.parentNode,t&&(i=t.firstChild,i&&t.insertBefore(n,i)))},mouseover:function(n){return this.R.addListener(this,"mouseover",n),this},mouseout:function(n){return this.R.addListener(this,"mouseout",n),this},click:function(n){return this.R.addListener(this,"click",n),this},dblclick:function(n){return this.R.addListener(this,"dblclick",n),this},mousedown:function(n){return this.R.addListener(this,"mousedown",n),this},mouseup:function(n){return this.R.addListener(this,"mouseup",n),this},touchmove:function(n){return this.R.addListener(this,"touchmove",n),this},touchstart:function(n){return this.R.addListener(this,"touchstart",n),this},touchend:function(n){return this.R.addListener(this,"touchend",n),this},keyup:function(n){return this.R.addListener(this,"keyup",n),this},focus:function(n){return this.R.addListener(this,"focus",n),this},blur:function(n){return this.R.addListener(this,"blur",n),this},contextmenu:function(n){return this.node.addEventListener?this.node.addEventListener("contextmenu",n,!0):this.R.addListener(this,"contextmenu",n),this},stop:function(){n.removeFromArray(this.R.animations,this.an_translate);n.removeFromArray(this.R.animations,this.an_y);n.removeFromArray(this.R.animations,this.an_x)},length:function(){return this.node.childNodes.length},gradient:function(n,t,i){this.R.gradient(this,n,t,i)},pattern:function(n,t,i){n&&this.R.pattern(this,n,t,i)}})}(),function(){var n=window.AmCharts;n.VMLRenderer=n.Class({construct:function(n,t){this.chart=t;this.D=n;this.cNames={circle:"oval",ellipse:"oval",rect:"roundrect",path:"shape"};this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(n,t){var i,r,u;return"group"==t?(i=document.createElement("div"),n.type="div"):"text"==t?(i=document.createElement("div"),n.type="text"):"image"==t?(i=document.createElement("img"),n.type="image"):(n.type="shape",n.shapeType=this.cNames[t],i=document.createElement("amvml:"+this.cNames[t]),r=document.createElement("amvml:stroke"),i.appendChild(r),n.stroke=r,u=document.createElement("amvml:fill"),i.appendChild(u),n.fill=u,u.className="amvml",r.className="amvml",i.className="amvml"),i.style.position="absolute",i.style.top=0,i.style.left=0,i},path:function(n,t){n.node.setAttribute("src",t)},setAttr:function(t,i,r){var o,f;if(void 0!==r){8===document.documentMode&&(o=!0);var s=t.node,e=t.type,u=s.style;if("r"==i&&(u.width=2*r,u.height=2*r),"oval"==t.shapeType&&("rx"==i&&(u.width=2*r),"ry"==i&&(u.height=2*r)),"roundrect"==t.shapeType&&("width"!=i&&"height"!=i||--r),"cursor"==i&&(u.cursor=r),"cx"==i&&(u.left=r-n.removePx(u.width)/2),"cy"==i&&(u.top=r-n.removePx(u.height)/2),f=this.styleMap[i],"width"==f&&0>r&&(r=0),void 0!==f&&(u[f]=r),"text"==e&&("text-anchor"==i&&(t.anchor=r,f=s.clientWidth,"end"==r&&(u.marginLeft=-f+"px"),"middle"==r&&(u.marginLeft=-(f/2)+"px",u.textAlign="center"),"start"==r&&(u.marginLeft="0px")),"fill"==i&&(u.color=r),"font-weight"==i&&(u.fontWeight=r)),u=t.children)for(f=0;f<u.length;f++)u[f].setAttr(i,r);"shape"==e&&("cs"==i&&(s.style.width="100px",s.style.height="100px",s.setAttribute("coordsize",r)),"d"==i&&s.setAttribute("path",this.svgPathToVml(r)),"dd"==i&&s.setAttribute("path",r),e=t.stroke,t=t.fill,"stroke"==i&&(o?e.color=r:e.setAttribute("color",r)),"stroke-width"==i&&(o?e.weight=r:e.setAttribute("weight",r)),"stroke-opacity"==i&&(o?e.opacity=r:e.setAttribute("opacity",r)),"stroke-dasharray"==i&&(u="solid",0<r&&3>r&&(u="dot"),3<=r&&6>=r&&(u="dash"),6<r&&(u="longdash"),o?e.dashstyle=u:e.setAttribute("dashstyle",u)),("fill-opacity"==i||"opacity"==i)&&(0===r?o?t.on=!1:t.setAttribute("on",!1):o?t.opacity=r:t.setAttribute("opacity",r)),"fill"==i&&(o?t.color=r:t.setAttribute("color",r)),"rx"==i&&(o?s.arcSize=r+"%":s.setAttribute("arcsize",r+"%")))}},attr:function(n,t){for(var i in t)t.hasOwnProperty(i)&&this.setAttr(n,i,t[i])},text:function(t,i,r){var u=new n.AmDObject("text",this.D),f=u.node;return f.style.whiteSpace="pre",f.innerHTML=t,this.D.addToContainer(f,r),this.attr(u,i),u},getBBox:function(n){return this.getBox(n.node)},getBox:function(n){var h=n.offsetLeft,c=n.offsetTop,o=n.offsetWidth,s=n.offsetHeight,i,r,u,e,t,f;if(n.hasChildNodes()){for(e=0;e<n.childNodes.length;e++)i=this.getBox(n.childNodes[e]),t=i.x,isNaN(t)||(isNaN(r)?r=t:t<r&&(r=t)),f=i.y,isNaN(f)||(isNaN(u)?u=f:f<u&&(u=f)),t=i.width+t,isNaN(t)||(o=Math.max(o,t)),i=i.height+f,isNaN(i)||(s=Math.max(s,i));0>r&&(h+=r);0>u&&(c+=u)}return{x:h,y:c,width:o,height:s}},setText:function(n,t){var i=n.node;i&&(i.innerHTML=t);this.setAttr(n,"text-anchor",n.anchor)},addListener:function(n,t,i){n.node["on"+t]=i},move:function(t,i,r){var u=t.node,f=u.style;"text"==t.type&&(r-=n.removePx(f.fontSize)/2-1);"oval"==t.shapeType&&(i-=n.removePx(f.width)/2,r-=n.removePx(f.height)/2);t=t.bw;isNaN(t)||(i-=t,r-=t);isNaN(i)||isNaN(r)||(u.style.left=i+"px",u.style.top=r+"px")},svgPathToVml:function(n){var l=n.split(" "),r,t,e;for(n="",t=Math.round,e=0;e<l.length;e++){var f=l[e],u=f.substring(0,1),f=f.substring(1),i=f.split(","),o=t(i[0])+","+t(i[1]);if("M"==u&&(n+=" m "+o),"L"==u&&(n+=" l "+o),"Z"==u&&(n+=" x e"),"Q"==u){var a=r.length,c=r[a-1],s=i[0],h=i[1],o=i[2],v=i[3];r=t(r[a-2]/3+2/3*s);c=t(c/3+2/3*h);s=t(2/3*s+o/3);h=t(2/3*h+v/3);n+=" c "+r+","+c+","+s+","+h+","+o+","+v}"A"==u&&(n+=" wa "+f);"B"==u&&(n+=" at "+f);r=i}return n},animate:function(n,t,i,r,u){var f=n.node,e=this.chart,o;n.animationFinished=!1;"translate"==t&&(t=i.split(","),i=t[1],o=f.offsetTop,e.animate(n,"left",f.offsetLeft,t[0],r,u,"px"),e.animate(n,"top",o,i,r,u,"px"))},clipRect:function(n,t,i,r,u){n=n.node;0===t&&0===i?(n.style.width=r+"px",n.style.height=u+"px",n.style.overflow="hidden"):n.style.clip="rect("+i+"px "+(t+r)+"px "+(i+u)+"px "+t+"px)"},rotate:function(t,i,r){var u;if(0!==Number(i)){u=t.node;t=u.style;r||(r=this.getBGColor(u.parentNode));t.backgroundColor=r;t.paddingLeft=1;r=i*Math.PI/180;var e=Math.cos(r),o=Math.sin(r),s=n.removePx(t.left),h=n.removePx(t.top),f=u.offsetWidth,u=u.offsetHeight;i/=Math.abs(i);t.left=s+f/2-f/2*Math.cos(r)-i*u/2*Math.sin(r)+3;t.top=h-i*f/2*Math.sin(r)+i*u/2*Math.sin(r);t.cssText=t.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+e+"', M12='"+-o+"', M21='"+o+"', M22='"+e+"', sizingmethod='auto expand');"}},getBGColor:function(n){var t="#FFFFFF",i;return n.style&&(i=n.style.backgroundColor,""!==i?t=i:n.parentNode&&(t=this.getBGColor(n.parentNode))),t},set:function(t){var r=new n.AmDObject("group",this.D),i;if(this.D.container.appendChild(r.node),t)for(i=0;i<t.length;i++)r.push(t[i]);return r},gradient:function(n,t,i,r){var f="",u;for("radialGradient"==t&&(t="gradientradial",i.reverse()),"linearGradient"==t&&(t="gradient"),u=0;u<i.length;u++)f+=Math.round(100*u/(i.length-1))+"% "+i[u],u<i.length-1&&(f+=",");n=n.fill;90==r?r=0:270==r?r=180:180==r?r=90:0===r&&(r=270);8===document.documentMode?(n.type=t,n.angle=r):(n.setAttribute("type",t),n.setAttribute("angle",r));f&&(n.colors.value=f)},remove:function(n){n.clipPath&&this.D.remove(n.clipPath);this.D.remove(n.node)},disableSelection:function(n){n.onselectstart=function(){return!1};n.style.cursor="default"},pattern:function(t,i,r,u){r=t.node;t=t.fill;var f="none";i.color&&(f=i.color);r.fillColor=f;i=i.url;n.isAbsolute(i)||(i=u+i);8===document.documentMode?(t.type="tile",t.src=i):(t.setAttribute("type","tile"),t.setAttribute("src",i))},update:function(){}})}(),function(){var n=window.AmCharts;n.SVGRenderer=n.Class({construct:function(n){this.D=n;this.animations=[]},create:function(t,i){return document.createElementNS(n.SVG_NS,i)},attr:function(n,t){for(var i in t)t.hasOwnProperty(i)&&this.setAttr(n,i,t[i])},setAttr:function(n,t,i){void 0!==i&&n.node.setAttribute(t,i)},animate:function(t,i,r,u,f){t.animationFinished=!1;var e=t.node;t["an_"+i]&&n.removeFromArray(this.animations,t["an_"+i]);"translate"==i?(e=(e=e.getAttribute("transform"))?String(e).substring(10,e.length-1):"0,0",e=e.split(", ").join(" "),e=e.split(" ").join(","),0===e&&(e="0,0")):e=Number(e.getAttribute(i));r={obj:t,frame:0,attribute:i,from:e,to:r,time:u,effect:f};this.animations.push(r);t["an_"+i]=r},update:function(){for(var c=this.animations,e=c.length-1;0<=e;e--){var t=c[e],o=t.time*n.updateRate,s=t.frame+1,h=t.obj,f=t.attribute,r,i,u;if(s<=o){if(t.frame++,"translate"==f){if(r=t.from.split(","),f=Number(r[0]),r=Number(r[1]),isNaN(r)&&(r=0),i=t.to.split(","),u=Number(i[0]),i=Number(i[1]),u=0==u-f?u:Math.round(n[t.effect](0,s,f,u-f,o)),t=0==i-r?i:Math.round(n[t.effect](0,s,r,i-r,o)),f="transform",isNaN(u)||isNaN(t))continue;t="translate("+u+","+t+")"}else i=Number(t.from),r=Number(t.to),u=r-i,t=n[t.effect](0,s,i,u,o),isNaN(t)&&(t=r),0===u&&this.animations.splice(e,1);this.setAttr(h,f,t)}else"translate"==f?(i=t.to.split(","),u=Number(i[0]),i=Number(i[1]),h.translate(u,i)):(r=Number(t.to),this.setAttr(h,f,r)),h.animationFinished=!0,this.animations.splice(e,1)}},getBBox:function(n){if(n=n.node)try{return n.getBBox()}catch(t){}return{width:0,height:0,x:0,y:0}},path:function(t,i){t.node.setAttributeNS(n.SVG_XLINK,"xlink:href",i)},clipRect:function(t,i,r,u,f){var e=t.node,o=t.clipPath,s;o&&this.D.remove(o);s=e.parentNode;s&&(e=document.createElementNS(n.SVG_NS,"clipPath"),o=n.getUniqueId(),e.setAttribute("id",o),this.D.rect(i,r,u,f,0,0,e),s.appendChild(e),i="#",n.baseHref&&!n.isIE&&(i=this.removeTarget(window.location.href)+i),this.setAttr(t,"clip-path","url("+i+o+")"),this.clipPathC++,t.clipPath=e)},text:function(t,i,r){var u=new n.AmDObject("text",this.D),o,f,e;for(t=String(t).split("\n"),o=n.removePx(i["font-size"]),f=0;f<t.length;f++)e=this.create(null,"tspan"),e.appendChild(document.createTextNode(t[f])),e.setAttribute("y",(o+2)*f+Math.round(o/2)),e.setAttribute("x",0),u.node.appendChild(e);return u.node.setAttribute("y",Math.round(o/2)),this.attr(u,i),this.D.addToContainer(u.node,r),u},setText:function(n,t){var i=n.node;i&&(i.removeChild(i.firstChild),i.appendChild(document.createTextNode(t)))},move:function(n,t,i,r){isNaN(t)&&(t=0);isNaN(i)&&(i=0);t="translate("+t+","+i+")";r&&(t=t+" scale("+r+")");this.setAttr(n,"transform",t)},rotate:function(n,t){var r=n.node.getAttribute("transform"),i="rotate("+t+")";r&&(i=r+" "+i);this.setAttr(n,"transform",i)},set:function(t){var r=new n.AmDObject("g",this.D),i;if(this.D.container.appendChild(r.node),t)for(i=0;i<t.length;i++)r.push(t[i]);return r},addListener:function(n,t,i){n.node["on"+t]=i},gradient:function(t,i,r,u){var s=t.node,e=t.grad;if(e&&this.D.remove(e),i=document.createElementNS(n.SVG_NS,i),e=n.getUniqueId(),i.setAttribute("id",e),!isNaN(u)){var f=0,o=0,h=0,c=0;90==u?h=100:270==u?c=100:180==u?f=100:0===u&&(o=100);i.setAttribute("x1",f+"%");i.setAttribute("x2",o+"%");i.setAttribute("y1",h+"%");i.setAttribute("y2",c+"%")}for(u=0;u<r.length;u++)f=document.createElementNS(n.SVG_NS,"stop"),o=100*u/(r.length-1),0===u&&(o=0),f.setAttribute("offset",o+"%"),f.setAttribute("stop-color",r[u]),i.appendChild(f);s.parentNode.appendChild(i);r="#";n.baseHref&&!n.isIE&&(r=this.removeTarget(window.location.href)+r);s.setAttribute("fill","url("+r+e+")");t.grad=i},removeTarget:function(n){return n.split("#")[0]},pattern:function(t,i,r,u){var c=t.node,f,h,o,s;isNaN(r)&&(r=1);f=t.patternNode;f&&this.D.remove(f);var f=document.createElementNS(n.SVG_NS,"pattern"),l=n.getUniqueId(),e=i;i.url&&(e=i.url);n.isAbsolute(e)||-1!=e.indexOf("data:image")||(e=u+e);u=Number(i.width);isNaN(u)&&(u=4);h=Number(i.height);isNaN(h)&&(h=4);u/=r;h/=r;r=i.x;isNaN(r)&&(r=0);o=-Math.random()*Number(i.randomX);isNaN(o)||(r=o);o=i.y;isNaN(o)&&(o=0);s=-Math.random()*Number(i.randomY);isNaN(s)||(o=s);f.setAttribute("id",l);f.setAttribute("width",u);f.setAttribute("height",h);f.setAttribute("patternUnits","userSpaceOnUse");f.setAttribute("xlink:href",e);i.color&&(s=document.createElementNS(n.SVG_NS,"rect"),s.setAttributeNS(null,"height",u),s.setAttributeNS(null,"width",h),s.setAttributeNS(null,"fill",i.color),f.appendChild(s));this.D.image(e,0,0,u,h,f).translate(r,o);e="#";n.baseHref&&!n.isIE&&(e=this.removeTarget(window.location.href)+e);c.setAttribute("fill","url("+e+l+")");t.patternNode=f;c.parentNode.appendChild(f)},remove:function(n){n.clipPath&&this.D.remove(n.clipPath);n.grad&&this.D.remove(n.grad);n.patternNode&&this.D.remove(n.patternNode);this.D.remove(n.node)}})}(),function(){var n=window.AmCharts;n.AmLegend=n.Class({construct:function(t){this.enabled=!0;this.cname="AmLegend";this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","clickLabel");this.position="bottom";this.borderColor=this.color="#000000";this.borderAlpha=0;this.markerLabelGap=5;this.verticalGap=10;this.align="left";this.horizontalGap=0;this.spacing=10;this.markerDisabledColor="#AAB3B3";this.markerType="square";this.markerSize=16;this.markerBorderThickness=this.markerBorderAlpha=1;this.marginBottom=this.marginTop=0;this.marginLeft=this.marginRight=20;this.autoMargins=!0;this.valueWidth=50;this.switchable=!0;this.switchType="x";this.switchColor="#FFFFFF";this.rollOverColor="#CC0000";this.reversedOrder=!1;this.labelText="[[title]]";this.valueText="[[value]]";this.accessibleLabel="[[title]]";this.useMarkerColorForLabels=!1;this.rollOverGraphAlpha=1;this.textClickEnabled=!1;this.equalWidths=!0;this.backgroundColor="#FFFFFF";this.backgroundAlpha=0;this.useGraphSettings=!1;this.showEntries=!0;this.labelDx=0;n.applyTheme(this,t,this.cname)},setData:function(n){this.legendData=n;this.invalidateSize()},invalidateSize:function(){this.destroy();this.entries=[];this.valueLabels=[];var t=this.legendData;this.enabled&&(n.ifArray(t)||n.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var t=this.chart,r=this.position,u=this.width,s=t.divRealWidth,i=t.divRealHeight,f=this.div,e=this.legendData,o;if(this.data&&(e=this.combineLegend?this.legendData.concat(this.data):this.data),isNaN(this.fontSize)&&(this.fontSize=t.fontSize),this.maxColumnsReal=this.maxColumns,"right"==r||"left"==r?(this.maxColumnsReal=1,this.autoMargins&&(this.marginLeft=this.marginRight=10)):this.autoMargins&&(this.marginRight=t.marginRight,this.marginLeft=t.marginLeft,o=t.autoMarginOffset,"bottom"==r?(this.marginBottom=o,this.marginTop=0):(this.marginTop=o,this.marginBottom=0)),u=void 0!==u?n.toCoordinate(u,s):"right"!=r&&"left"!=r?t.realWidth:0<this.ieW?this.ieW:t.realWidth,"outside"==r?(u=f.offsetWidth,i=f.offsetHeight,f.clientHeight&&(u=f.clientWidth,i=f.clientHeight)):(isNaN(u)||(f.style.width=u+"px"),f.className="amChartsLegend "+t.classNamePrefix+"-legend-div"),this.divWidth=u,(r=this.container)?(r.container.innerHTML="",f.appendChild(r.container),r.width=u,r.height=i,r.setSize(u,i),r.addDefs(t)):r=new n.AmDraw(f,u,i,t),this.container=r,this.lx=0,this.ly=8,i=this.markerSize,i>this.fontSize&&(this.ly=i/2-1),0<i&&(this.lx+=i+this.markerLabelGap),this.titleWidth=0,(i=this.title)&&(i=n.text(this.container,i,this.color,t.fontFamily,this.fontSize,"start",!0),n.setCN(t,i,"legend-title"),i.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),t=i.getBBox(),this.titleWidth=t.width+15,this.titleHeight=t.height+6),this.index=this.maxLabelWidth=0,this.showEntries){for(t=0;t<e.length;t++)this.createEntry(e[t]);for(t=this.index=0;t<e.length;t++)this.createValue(e[t])}this.arrangeEntries();this.updateValues()},arrangeEntries:function(){var f=this.position,e=this.marginLeft+this.titleWidth,c=this.marginRight,o=this.marginTop,ut=this.marginBottom,s=this.horizontalGap,tt=this.div,y=this.divWidth,h=this.maxColumnsReal,nt=this.verticalGap,i=this.spacing,ft=y-c-e,it=0,p=0,rt=this.container,w,b,l,t,r,u,k,a;for(this.set&&this.set.remove(),w=rt.set(),this.set=w,b=rt.set(),w.push(b),l=this.entries,r=0;r<l.length;r++)t=l[r].getBBox(),u=t.width,u>it&&(it=u),t=t.height,t>p&&(p=t);var u=p=0,d=s,g=0,v=0;for(r=0;r<l.length;r++)k=l[r],this.reversedOrder&&(k=l[l.length-r-1]),t=k.getBBox(),this.equalWidths?a=u*(it+i+this.markerLabelGap):(a=d,d=d+t.width+s+i),a+t.width>ft&&0<r&&0!==u&&(p++,a=u=0,d=a+t.width+s+i,g=g+v+nt,v=0),t.height>v&&(v=t.height),k.translate(a,g),u++,!isNaN(h)&&u>=h&&(u=0,p++,g=g+v+nt,d=s,v=0),b.push(k);t=b.getBBox();h=t.height+2*nt-1;"left"==f||"right"==f?(i=t.width+2*s,y=i+e+c,tt.style.width=y+"px",this.ieW=y):i=y-e-c-1;c=n.polygon(this.container,[0,i,i,0],[0,0,h,h],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);n.setCN(this.chart,c,"legend-bg");w.push(c);w.translate(e,o);c.toBack();e=s;("top"==f||"bottom"==f||"absolute"==f||"outside"==f)&&("center"==this.align?e=s+(i-t.width)/2:"right"==this.align&&(e=s+i-t.width));b.translate(e,nt+1);this.titleHeight>h&&(h=this.titleHeight);o=h+o+ut+1;0>o&&(o=0);"absolute"!=f&&"outside"!=f&&o>this.chart.divRealHeight&&(tt.style.top="0px");tt.style.height=Math.round(o)+"px";rt.setSize(this.divWidth,o)},createEntry:function(t){var f,b,s,l,u,y,k,h,a;if(!1!==t.visibleInLegend&&!t.hideFromLegend){var i=this,e=i.chart,v=i.useGraphSettings,p=t.markerType;p&&(v=!1);t.legendEntryWidth=i.markerSize;p||(p=i.markerType);f=t.color;b=t.alpha;t.legendKeyColor&&(f=t.legendKeyColor());t.legendKeyAlpha&&(b=t.legendKeyAlpha());!0===t.hidden&&(s=f=i.markerDisabledColor);l=t.pattern;y=t.customMarker;y||(y=i.customMarker);var o=i.container,r=i.markerSize,c=0,d=0,w=r/2;v?(v=t.type,i.switchType=void 0,"line"==v||"step"==v||"smoothedLine"==v||"ohlc"==v?(u=o.set(),t.hidden||(f=t.lineColorR,s=t.bulletBorderColorR),c=n.line(o,[0,2*r],[r/2,r/2],f,t.lineAlpha,t.lineThickness,t.dashLength),n.setCN(e,c,"graph-stroke"),u.push(c),t.bullet&&(t.hidden||(f=t.bulletColorR),c=n.bullet(o,t.bullet,t.bulletSize,f,t.bulletAlpha,t.bulletBorderThickness,s,t.bulletBorderAlpha))&&(n.setCN(e,c,"graph-bullet"),c.translate(r+1,r/2),u.push(c)),w=0,c=r,d=r/3):(t.getGradRotation&&(u=t.getGradRotation(),0===u&&(u=180)),c=t.fillColorsR,!0===t.hidden&&(c=f),(u=i.createMarker("rectangle",c,t.fillAlphas,t.lineThickness,f,t.lineAlpha,u,l,t.dashLength))&&(w=r,u.translate(w,r/2)),c=r),n.setCN(e,u,"graph-"+v),n.setCN(e,u,"graph-"+t.id)):y?u=o.image(y,0,0,r,r):(isNaN(i.gradientRotation)||(k=180+i.gradientRotation),(u=i.createMarker(p,f,b,void 0,void 0,void 0,k,l))&&u.translate(r/2,r/2));n.setCN(e,u,"legend-marker");i.addListeners(u,t);o=o.set([u]);i.switchable&&t.switchable&&o.setAttr("cursor","pointer");void 0!==t.id&&n.setCN(e,o,"legend-item-"+t.id);n.setCN(e,o,t.className,!0);s=i.switchType;s&&"none"!=s&&0<r&&("x"==s?(h=i.createX(),h.translate(r/2,r/2)):h=i.createV(),h.dItem=t,!0!==t.hidden?"x"==s?h.hide():h.show():"x"!=s&&h.hide(),i.switchable||h.hide(),i.addListeners(h,t),t.legendSwitch=h,o.push(h),n.setCN(e,h,"legend-switch"));s=i.color;t.showBalloon&&i.textClickEnabled&&void 0!==i.selectedColor&&(s=i.selectedColor);i.useMarkerColorForLabels&&!l&&(s=f);!0===t.hidden&&(s=i.markerDisabledColor);f=n.massReplace(i.labelText,{"[[title]]":t.title});void 0!==i.tabIndex&&(o.setAttr("tabindex",i.tabIndex),o.setAttr("role","menuitem"),o.keyup(function(n){13==n.keyCode&&i.clickMarker(t,n)}));e.accessible&&i.accessibleLabel&&(l=n.massReplace(i.accessibleLabel,{"[[title]]":t.title}),e.makeAccessible(o,l));l=i.fontSize;u&&(r<=l&&(r=r/2+i.ly-l/2+(l+2-r)/2-d,u.translate(w,r),h&&h.translate(h.x,r)),t.legendEntryWidth=u.getBBox().width);f&&(f=n.fixBrakes(f),t.legendTextReal=f,a=i.labelWidth,a=isNaN(a)?n.text(i.container,f,s,e.fontFamily,l,"start"):n.wrappedText(i.container,f,s,e.fontFamily,l,"start",!1,a,0),n.setCN(e,a,"legend-label"),a.translate(i.lx+c,i.ly),o.push(a),i.labelDx=c,e=a.getBBox().width,i.maxLabelWidth<e&&(i.maxLabelWidth=e));i.entries[i.index]=o;t.legendEntry=i.entries[i.index];t.legendMarker=u;t.legendLabel=a;i.index++}},addListeners:function(n,t){var i=this;n&&n.mouseover(function(n){i.rollOverMarker(t,n)}).mouseout(function(n){i.rollOutMarker(t,n)}).click(function(n){i.clickMarker(t,n)})},rollOverMarker:function(n,t){this.switchable&&this.dispatch("rollOverMarker",n,t);this.dispatch("rollOverItem",n,t)},rollOutMarker:function(n,t){this.switchable&&this.dispatch("rollOutMarker",n,t);this.dispatch("rollOutItem",n,t)},clickMarker:function(n,t){this.switchable&&(!0===n.hidden?this.dispatch("showItem",n,t):this.dispatch("hideItem",n,t));this.dispatch("clickMarker",n,t)},rollOverLabel:function(n,t){n.hidden||this.textClickEnabled&&n.legendLabel&&n.legendLabel.attr({fill:this.rollOverColor});this.dispatch("rollOverItem",n,t)},rollOutLabel:function(n,t){if(!n.hidden&&this.textClickEnabled&&n.legendLabel){var i=this.color;void 0!==this.selectedColor&&n.showBalloon&&(i=this.selectedColor);this.useMarkerColorForLabels&&(i=n.lineColor,void 0===i&&(i=n.color));n.legendLabel.attr({fill:i})}this.dispatch("rollOutItem",n,t)},clickLabel:function(n,t){this.textClickEnabled?n.hidden||this.dispatch("clickLabel",n,t):this.switchable&&(!0===n.hidden?this.dispatch("showItem",n,t):this.dispatch("hideItem",n,t))},dispatch:function(n,t,i){n={type:n,dataItem:t,target:this,event:i,chart:this.chart};this.chart&&this.chart.handleLegendEvent(n);this.fire(n)},createValue:function(t){var i=this,u=i.fontSize,e=i.chart,f,o,r;if(!1!==t.visibleInLegend&&!t.hideFromLegend){if(f=i.maxLabelWidth,i.forceWidth&&(f=i.labelWidth),i.equalWidths||(i.valueAlign="left"),"left"==i.valueAlign&&t.legendLabel&&(f=t.legendLabel.getBBox().width),o=f,i.valueText&&0<i.valueWidth){r=i.color;i.useMarkerColorForValues&&(r=t.color,t.legendKeyColor&&(r=t.legendKeyColor()));!0===t.hidden&&(r=i.markerDisabledColor);var h=i.valueText,f=f+i.lx+i.labelDx+i.markerLabelGap+i.valueWidth,s="end";"left"==i.valueAlign&&(f-=i.valueWidth,s="start");r=n.text(i.container,h,r,i.chart.fontFamily,u,s);n.setCN(e,r,"legend-value");r.translate(f,i.ly);i.entries[i.index].push(r);o+=i.valueWidth+2*i.markerLabelGap;r.dItem=t;i.valueLabels.push(r)}i.index++;e=i.markerSize;e<u+7&&(e=u+7,n.VML&&(e+=3));u=i.container.rect(t.legendEntryWidth,0,o,e,0,0).attr({stroke:"none",fill:"#fff","fill-opacity":.005});u.dItem=t;i.entries[i.index-1].push(u);u.mouseover(function(n){i.rollOverLabel(t,n)}).mouseout(function(n){i.rollOutLabel(t,n)}).click(function(n){i.clickLabel(t,n)})}},createV:function(){var t=this.markerSize;return n.polygon(this.container,[t/5,t/2,t-t/5,t/2],[t/3,t-t/5,t/5,t/1.7],this.switchColor)},createX:function(){var t=(this.markerSize-4)/2,i={stroke:this.switchColor,"stroke-width":3},r=this.container,u=n.line(r,[-t,t],[-t,t]).attr(i),t=n.line(r,[-t,t],[t,-t]).attr(i);return this.container.set([u,t])},createMarker:function(t,i,r,u,f,e,o,s,h){var c=this.markerSize,l=this.container;return f||(f=this.markerBorderColor),f||(f=i),isNaN(u)&&(u=this.markerBorderThickness),isNaN(e)&&(e=this.markerBorderAlpha),n.bullet(l,t,c,i,r,u,f,e,c,o,s,this.chart.path,h)},validateNow:function(){this.invalidateSize()},updateValues:function(){var h=this.valueLabels,o=this.chart,s,l=this.data,f,t,i,r,u,c,e;if(h)for(s=0;s<h.length;s++)f=h[s],t=f.dItem,t.periodDataItem=void 0,t.periodPercentDataItem=void 0,i=" ",l?t.value?f.text(t.value):f.text(""):(r=null,void 0!==t.type?(r=t.currentDataItem,u=this.periodValueText,t.legendPeriodValueText&&(u=t.legendPeriodValueText),r?(i=this.valueText,t.legendValueText&&(i=t.legendValueText),i=o.formatString(i,r)):u&&o.formatPeriodString&&(u=n.massReplace(u,{"[[title]]":t.title}),i=o.formatPeriodString(u,t))):i=o.formatString(this.valueText,t),u=t,r&&(u=r),c=this.valueFunction,c&&(i=c(u,i,o.periodDataItem)),this.useMarkerColorForLabels&&!r&&t.lastDataItem&&(r=t.lastDataItem),r?e=o.getBalloonColor(t,r):t.legendKeyColor&&(e=t.legendKeyColor()),t.legendColorFunction&&(e=t.legendColorFunction(u,i,t.periodDataItem,t.periodPercentDataItem)),f.text(i),!t.pattern&&(this.useMarkerColorForValues&&f.setAttr("fill",e),this.useMarkerColorForLabels)&&((f=t.legendMarker)&&(f.setAttr("fill",e),f.setAttr("stroke",e)),(t=t.legendLabel)&&t.setAttr("fill",e)))},renderFix:function(){if(!n.VML&&this.enabled){var t=this.container;t&&t.renderFix()}},destroy:function(){this.div.innerHTML="";n.remove(this.set)}})}(),function(){var n=window.AmCharts;n.formatMilliseconds=function(n,t){if(-1!=n.indexOf("fff")){var i=t.getMilliseconds(),r=String(i);10>i&&(r="00"+i);10<=i&&100>i&&(r="0"+i);n=n.replace(/fff/g,r)}return n};n.extractPeriod=function(t){var i=n.stripNumbers(t),r=1;return i!=t&&(r=Number(t.slice(0,t.indexOf(i)))),{period:i,count:r}};n.getDate=function(t,i,r){return t instanceof Date?n.newDate(t,r):i&&isNaN(t)?n.stringToDate(t,i):new Date(t)};n.daysInMonth=function(n){return new Date(n.getYear(),n.getMonth()+1,0).getDate()};n.newDate=function(n,t){return t&&-1==t.indexOf("fff")?new Date(n):new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())};n.resetDateToMin=function(t,i,r,u){void 0===u&&(u=1);var l,c,h,s,o,e,f;n.useUTC?(l=t.getUTCFullYear(),c=t.getUTCMonth(),h=t.getUTCDate(),s=t.getUTCHours(),o=t.getUTCMinutes(),e=t.getUTCSeconds(),f=t.getUTCMilliseconds(),t=t.getUTCDay()):(l=t.getFullYear(),c=t.getMonth(),h=t.getDate(),s=t.getHours(),o=t.getMinutes(),e=t.getSeconds(),f=t.getMilliseconds(),t=t.getDay());switch(i){case"YYYY":l=Math.floor(l/r)*r;c=0;h=1;f=e=o=s=0;break;case"MM":c=Math.floor(c/r)*r;h=1;f=e=o=s=0;break;case"WW":h=t>=u?h-t+u:h-(7+t)+u;f=e=o=s=0;break;case"DD":f=e=o=s=0;break;case"hh":s=Math.floor(s/r)*r;f=e=o=0;break;case"mm":o=Math.floor(o/r)*r;f=e=0;break;case"ss":e=Math.floor(e/r)*r;f=0;break;case"fff":f=Math.floor(f/r)*r}return n.useUTC?(t=new Date,t.setUTCFullYear(l,c,h),t.setUTCHours(s,o,e,f)):t=new Date(l,c,h,s,o,e,f),t};n.getPeriodDuration=function(n,t){void 0===t&&(t=1);var i;switch(n){case"YYYY":i=316224e5;break;case"MM":i=26784e5;break;case"WW":i=6048e5;break;case"DD":i=864e5;break;case"hh":i=36e5;break;case"mm":i=6e4;break;case"ss":i=1e3;break;case"fff":i=1}return i*t};n.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:Infinity,count:3}};n.getMaxInterval=function(t,i){var r=n.intervals;return t>=r[i].contains?(t=Math.round(t/r[i].contains),i=r[i].nextInterval,n.getMaxInterval(t,i)):"ss"==i?r[i].nextInterval:i};n.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");n.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" ");n.monthNames="January February March April May June July August September October November December".split(" ");n.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");n.getWeekNumber=function(n){n=new Date(n);n.setHours(0,0,0);n.setDate(n.getDate()+4-(n.getDay()||7));var t=new Date(n.getFullYear(),0,1);return Math.ceil(((n-t)/864e5+1)/7)};n.stringToDate=function(t,i){var r={},u=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],c=!0,s=i.indexOf("AA"),e,o,f,h;for(-1!=s&&(t.substr(s,2),"pm"==t.toLowerCase&&(c=!1)),s=i,f=0;f<u.length;f++)o=u[f].period,r[o]=0,"date"==o&&(r[o]=1);for(f=0;f<u.length;f++)(e=u[f].pattern,o=u[f].period,-1!=i.indexOf(e))&&(h=n.getFromDateString(e,t,s),i=i.replace(e,""),("KK"==e||"K"==e||"LL"==e||"L"==e)&&(c||(h+=12)),r[o]=h);return n.useUTC?(u=new Date,u.setUTCFullYear(r.year,r.month,r.date),u.setUTCHours(r.hours,r.minutes,r.seconds,r.milliseconds)):u=new Date(r.year,r.month,r.date,r.hours,r.minutes,r.seconds,r.milliseconds),u};n.getFromDateString=function(n,t,i){if(void 0!==t)return i=i.indexOf(n),t=String(t),t=t.substr(i,n.length),"0"==t.charAt(0)&&(t=t.substr(1,t.length-1)),t=Number(t),isNaN(t)&&(t=0),-1!=n.indexOf("M")&&t--,t};n.formatDate=function(t,i,r){var s,l,c,v,a,e,o,y,h,p,w,u,f;return r||(r=n),h=n.getWeekNumber(t),n.useUTC?(s=t.getUTCFullYear(),l=t.getUTCMonth(),c=t.getUTCDate(),v=t.getUTCDay(),a=t.getUTCHours(),e=t.getUTCMinutes(),o=t.getUTCSeconds(),y=t.getUTCMilliseconds()):(s=t.getFullYear(),l=t.getMonth(),c=t.getDate(),v=t.getDay(),a=t.getHours(),e=t.getMinutes(),o=t.getSeconds(),y=t.getMilliseconds()),p=String(s).substr(2,2),w="0"+v,i=i.replace(/W/g,h),h=a,24==h&&(h=0),u=h,10>u&&(u="0"+u),i=i.replace(/JJ/g,u),i=i.replace(/J/g,h),u=a,0===u&&(u=24,-1!=i.indexOf("H")&&(c--,0===c&&(s=new Date(t),s.setDate(s.getDate()-1),l=s.getMonth(),c=s.getDate(),s=s.getFullYear()))),t=l+1,9>l&&(t="0"+t),h=c,10>c&&(h="0"+c),f=u,10>f&&(f="0"+f),i=i.replace(/HH/g,f),i=i.replace(/H/g,u),u=a,11<u&&(u-=12),f=u,10>f&&(f="0"+f),i=i.replace(/KK/g,f),i=i.replace(/K/g,u),u=a,0===u&&(u=12),12<u&&(u-=12),f=u,10>f&&(f="0"+f),i=i.replace(/LL/g,f),i=i.replace(/L/g,u),u=e,10>u&&(u="0"+u),i=i.replace(/NN/g,u),i=i.replace(/N/g,e),e=o,10>e&&(e="0"+e),i=i.replace(/SS/g,e),i=i.replace(/S/g,o),o=y,10>o?o="00"+o:100>o&&(o="0"+o),e=y,10>e&&(e="00"+e),i=i.replace(/A/g,"@A@"),i=i.replace(/QQQ/g,o),i=i.replace(/QQ/g,e),i=i.replace(/Q/g,y),i=i.replace(/YYYY/g,"@IIII@"),i=i.replace(/YY/g,"@II@"),i=i.replace(/MMMM/g,"@XXXX@"),i=i.replace(/MMM/g,"@XXX@"),i=i.replace(/MM/g,"@XX@"),i=i.replace(/M/g,"@X@"),i=i.replace(/DD/g,"@RR@"),i=i.replace(/D/g,"@R@"),i=i.replace(/EEEE/g,"@PPPP@"),i=i.replace(/EEE/g,"@PPP@"),i=i.replace(/EE/g,"@PP@"),i=i.replace(/E/g,"@P@"),i=i.replace(/@IIII@/g,s),i=i.replace(/@II@/g,p),i=i.replace(/@XXXX@/g,r.monthNames[l]),i=i.replace(/@XXX@/g,r.shortMonthNames[l]),i=i.replace(/@XX@/g,t),i=i.replace(/@X@/g,l+1),i=i.replace(/@RR@/g,h),i=i.replace(/@R@/g,c),i=i.replace(/@PPPP@/g,r.dayNames[v]),i=i.replace(/@PPP@/g,r.shortDayNames[v]),i=i.replace(/@PP@/g,w),i=i.replace(/@P@/g,v),12>a?i.replace(/@A@/g,r.amString):i.replace(/@A@/g,r.pmString)};n.changeDate=function(t,i,r,u,f){if(n.useUTC)return n.changeUTCDate(t,i,r,u,f);var e=-1;void 0===u&&(u=!0);void 0===f&&(f=!1);!0===u&&(e=1);switch(i){case"YYYY":t.setFullYear(t.getFullYear()+r*e);u||f||t.setDate(t.getDate()+1);break;case"MM":i=t.getMonth();t.setMonth(t.getMonth()+r*e);t.getMonth()>i+r*e&&t.setDate(t.getDate()-1);u||f||t.setDate(t.getDate()+1);break;case"DD":t.setDate(t.getDate()+r*e);break;case"WW":t.setDate(t.getDate()+r*e*7);break;case"hh":t.setHours(t.getHours()+r*e);break;case"mm":t.setMinutes(t.getMinutes()+r*e);break;case"ss":t.setSeconds(t.getSeconds()+r*e);break;case"fff":t.setMilliseconds(t.getMilliseconds()+r*e)}return t};n.changeUTCDate=function(n,t,i,r,u){var f=-1;void 0===r&&(r=!0);void 0===u&&(u=!1);!0===r&&(f=1);switch(t){case"YYYY":n.setUTCFullYear(n.getUTCFullYear()+i*f);r||u||n.setUTCDate(n.getUTCDate()+1);break;case"MM":t=n.getUTCMonth();n.setUTCMonth(n.getUTCMonth()+i*f);n.getUTCMonth()>t+i*f&&n.setUTCDate(n.getUTCDate()-1);r||u||n.setUTCDate(n.getUTCDate()+1);break;case"DD":n.setUTCDate(n.getUTCDate()+i*f);break;case"WW":n.setUTCDate(n.getUTCDate()+i*f*7);break;case"hh":n.setUTCHours(n.getUTCHours()+i*f);break;case"mm":n.setUTCMinutes(n.getUTCMinutes()+i*f);break;case"ss":n.setUTCSeconds(n.getUTCSeconds()+i*f);break;case"fff":n.setUTCMilliseconds(n.getUTCMilliseconds()+i*f)}return n}}(),function(){var n=window.AmCharts;n.AmSlicedChart=n.Class({inherits:n.AmChart,construct:function(t){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice");n.AmSlicedChart.base.construct.call(this,t);this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" ");this.alpha=1;this.groupPercent=0;this.groupedTitle="Other";this.groupedPulled=!1;this.groupedAlpha=1;this.marginLeft=0;this.marginBottom=this.marginTop=10;this.marginRight=0;this.hoverAlpha=1;this.outlineColor="#FFFFFF";this.outlineAlpha=0;this.outlineThickness=1;this.startAlpha=0;this.startDuration=1;this.startEffect="bounce";this.sequencedAnimation=!0;this.pullOutDuration=1;this.pullOutEffect="bounce";this.pullOnHover=this.pullOutOnlyOne=!1;this.labelsEnabled=!0;this.labelTickColor="#000000";this.labelTickAlpha=.2;this.hideLabelsPercent=0;this.urlTarget="_self";this.autoMarginOffset=10;this.gradientRatio=[];this.maxLabelWidth=200;this.accessibleLabel="[[title]]: [[percents]]% [[value]] [[description]]";n.applyTheme(this,t,"AmSlicedChart")},initChart:function(){n.AmSlicedChart.base.initChart.call(this);this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.setLegendData(this.chartData));this.drawChart()},handleLegendEvent:function(n){var r=n.type,t=n.dataItem,u=this.legend,i;if(t.wedge&&t){i=t.hidden;n=n.event;switch(r){case"clickMarker":i||u.switchable||this.clickSlice(t,n);break;case"clickLabel":i||this.clickSlice(t,n,!1);break;case"rollOverItem":i||this.rollOverSlice(t,!1,n);break;case"rollOutItem":i||this.rollOutSlice(t,n);break;case"hideItem":this.hideSlice(t,n);break;case"showItem":this.showSlice(t,n)}}},invalidateVisibility:function(){this.recalculatePercents();this.initChart();var n=this.legend;n&&n.invalidateSize()},addEventListeners:function(n,t){var i=this;n.mouseover(function(n){i.rollOverSlice(t,!0,n)}).mouseout(function(n){i.rollOutSlice(t,n)}).touchend(function(n){i.rollOverSlice(t,n)}).mouseup(function(n){i.clickSlice(t,n)}).contextmenu(function(n){i.handleRightClick(t,n)})},formatString:function(t,i,r){t=n.formatValue(t,i,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);var u=this.pf.precision;return isNaN(this.tempPrec)||(this.pf.precision=this.tempPrec),t=n.formatValue(t,i,["percents"],this.pf),t=n.massReplace(t,{"[[title]]":i.title,"[[description]]":i.description}),this.pf.precision=u,-1!=t.indexOf("[[")&&(t=n.formatDataContextValue(t,i.dataContext)),t=r?n.fixNewLines(t):n.fixBrakes(t),n.cleanFromEmpty(t)},startSlices:function(){for(var n=0;n<this.chartData.length;n++)0<this.startDuration&&this.sequencedAnimation?this.setStartTO(n):this.startSlice(this.chartData[n])},setStartTO:function(n){var t=this;n=setTimeout(function(){t.startSequenced.call(t)},t.startDuration/t.chartData.length*500*n);t.timeOuts.push(n)},pullSlices:function(n){for(var r=this.chartData,t,i=0;i<r.length;i++)t=r[i],t.pulled&&this.pullSlice(t,1,n)},startSequenced:function(){for(var t=this.chartData,n=0;n<t.length;n++)if(!t[n].started){this.startSlice(this.chartData[n]);break}},startSlice:function(n){n.started=!0;var t=n.wedge,i=this.startDuration,r=n.labelSet;t&&0<i&&(0<n.alpha&&t.show(),t.translate(n.startX,n.startY),this.animatable.push(t),t.animate({opacity:1,translate:"0,0"},i,this.startEffect));r&&0<i&&(0<n.alpha&&r.show(),r.translate(n.startX,n.startY),r.animate({opacity:1,translate:"0,0"},i,this.startEffect))},showLabels:function(){for(var r=this.chartData,n,t,i=0;i<r.length;i++)n=r[i],0<n.alpha&&(t=n.label,t&&t.show(),(n=n.tick)&&n.show())},showSlice:function(n){isNaN(n)?n.hidden=!1:this.chartData[n].hidden=!1;this.invalidateVisibility()},hideSlice:function(n){isNaN(n)?n.hidden=!0:this.chartData[n].hidden=!0;this.hideBalloon();this.invalidateVisibility()},rollOverSlice:function(t,i,r){var e,o,u,f;isNaN(t)||(t=this.chartData[t]);clearTimeout(this.hoverInt);t.hidden||(this.pullOnHover&&this.pullSlice(t,1),1>this.hoverAlpha&&t.wedge&&t.wedge.attr({opacity:this.hoverAlpha}),e=t.balloonX,o=t.balloonY,t.pulled&&(e+=t.pullX,o+=t.pullY),u=this.formatString(this.balloonText,t,!0),f=this.balloonFunction,f&&(u=f(t,u)),f=n.adjustLuminosity(t.color,-.15),u?this.showBalloon(u,f,i,e,o):this.hideBalloon(),0===t.value&&this.hideBalloon(),this.fire({type:"rollOverSlice",dataItem:t,chart:this,event:r}))},rollOutSlice:function(n,t){isNaN(n)||(n=this.chartData[n]);n.wedge&&n.wedge.attr({opacity:1});this.hideBalloon();this.fire({type:"rollOutSlice",dataItem:n,chart:this,event:t})},clickSlice:function(t,i,r){this.checkTouchDuration(i)&&(isNaN(t)||(t=this.chartData[t]),t.pulled?this.pullSlice(t,0):this.pullSlice(t,1),n.getURL(t.url,this.urlTarget),r||this.fire({type:"clickSlice",dataItem:t,chart:this,event:i}))},handleRightClick:function(n,t){isNaN(n)||(n=this.chartData[n]);this.fire({type:"rightClickSlice",dataItem:n,chart:this,event:t})},drawTicks:function(){for(var u=this.chartData,t,i,r=0;r<u.length;r++)t=u[r],t.label&&!t.skipTick&&(i=t.ty,i=n.line(this.container,[t.tx0,t.tx,t.tx2],[t.ty0,i,i],this.labelTickColor,this.labelTickAlpha),n.setCN(this,i,this.type+"-tick"),n.setCN(this,i,t.className,!0),t.tick=i,t.wedge.push(i),"AmFunnelChart"==this.cname&&i.toBack())},initialStart:function(){var n=this,t=n.startDuration,i=setTimeout(function(){n.showLabels.call(n)},1e3*t);n.timeOuts.push(i);n.chartCreated?n.pullSlices(!0):(n.startSlices(),0<t?(t=setTimeout(function(){n.pullSlices.call(n)},1200*t),n.timeOuts.push(t)):n.pullSlices(!0))},pullSlice:function(n,t,i){var r=this.pullOutDuration;!0===i&&(r=0);(i=n.wedge)&&(0<r?(i.animate({translate:t*n.pullX+","+t*n.pullY},r,this.pullOutEffect),n.labelSet&&n.labelSet.animate({translate:t*n.pullX+","+t*n.pullY},r,this.pullOutEffect)):(n.labelSet&&n.labelSet.translate(t*n.pullX,t*n.pullY),i.translate(t*n.pullX,t*n.pullY)));1==t?(n.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(n.index),n={type:"pullOutSlice",dataItem:n,chart:this}):(n.pulled=!1,n={type:"pullInSlice",dataItem:n,chart:this});this.fire(n)},pullInAll:function(n){for(var i=this.chartData,t=0;t<this.chartData.length;t++)t!=n&&i[t].pulled&&this.pullSlice(i[t],0)},pullOutAll:function(){for(var t=this.chartData,n=0;n<t.length;n++)t[n].pulled||this.pullSlice(t[n],1)},parseData:function(){var o=[],s,f,e,r,t,i,u;if(this.chartData=o,s=this.dataProvider,isNaN(this.pieAlpha)||(this.alpha=this.pieAlpha),void 0!==s){for(f=s.length,e=0,r=0;r<f;r++)t={},u=s[r],t.dataContext=u,null!==u[this.valueField]&&(t.value=Number(u[this.valueField])),(i=u[this.titleField])||(i=""),t.title=i,t.pulled=n.toBoolean(u[this.pulledField],!1),(i=u[this.descriptionField])||(i=""),t.description=i,t.labelRadius=Number(u[this.labelRadiusField]),t.switchable=!0,t.className=u[this.classNameField],t.url=u[this.urlField],i=u[this.patternField],!i&&this.patterns&&(i=this.patterns[r]),t.pattern=i,t.visibleInLegend=n.toBoolean(u[this.visibleInLegendField],!0),i=u[this.alphaField],t.alpha=void 0!==i?Number(i):this.alpha,i=u[this.colorField],void 0!==i&&(t.color=i),t.labelColor=n.toColor(u[this.labelColorField]),e+=t.value,t.hidden=!1,o[r]=t;for(r=s=0;r<f;r++)t=o[r],t.percents=t.value/e*100,t.percents<this.groupPercent&&s++;for(1<s&&(this.groupValue=0,this.removeSmallSlices(),o.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/e*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha,pattern:this.groupedPattern,className:this.groupedClassName,dataContext:{}})),f=this.baseColor,f||(f=this.pieBaseColor),e=this.brightnessStep,e||(e=this.pieBrightnessStep),r=0;r<o.length;r++)f?i=n.adjustLuminosity(f,r*e/100):(i=this.colors[r],void 0===i&&(i=n.randomColor())),void 0===o[r].color&&(o[r].color=i);this.recalculatePercents()}},recalculatePercents:function(){for(var i=this.chartData,r=0,n,t=0;t<i.length;t++)n=i[t],!n.hidden&&0<n.value&&(r+=n.value);for(t=0;t<i.length;t++)n=this.chartData[t],n.percents=!n.hidden&&0<n.value?100*n.value/r:0},removeSmallSlices:function(){for(var t=this.chartData,n=t.length-1;0<=n;n--)t[n].percents<this.groupPercent&&(this.groupValue+=t[n].value,t.splice(n,1))},animateAgain:function(){var n=this,t,i,r;for(n.startSlices(),t=0;t<n.chartData.length;t++)i=n.chartData[t],i.started=!1,r=i.wedge,r&&(r.setAttr("opacity",n.startAlpha),r.translate(i.startX,i.startY)),(r=i.labelSet)&&(r.setAttr("opacity",n.startAlpha),r.translate(i.startX,i.startY));t=n.startDuration;0<t?(t=setTimeout(function(){n.pullSlices.call(n)},1200*t),n.timeOuts.push(t)):n.pullSlices()},measureMaxLabel:function(){for(var f=this.chartData,r=0,u=0;u<f.length;u++){var i=f[u],t=this.formatString(this.labelText,i),e=this.labelFunction;e&&(t=e(i,t));i=n.text(this.container,t,this.color,this.fontFamily,this.fontSize);t=i.getBBox().width;t>r&&(r=t);i.remove()}return r}})}(),function(){var n=window.AmCharts;n.AmPieChart=n.Class({inherits:n.AmSlicedChart,construct:function(t){this.type="pie";n.AmPieChart.base.construct.call(this,t);this.cname="AmPieChart";this.pieBrightnessStep=30;this.minRadius=10;this.depth3D=0;this.startAngle=90;this.angle=this.innerRadius=0;this.startRadius="500%";this.pullOutRadius="20%";this.labelRadius=20;this.labelText="[[title]]: [[percents]]%";this.balloonText="[[title]]: [[percents]]% ([[value]])\n[[description]]";this.previousScale=1;this.adjustPrecision=!1;this.gradientType="radial";n.applyTheme(this,t,this.cname)},drawChart:function(){var v,u,rt,f,y,i,l,k;if(n.AmPieChart.base.drawChart.call(this),v=this.chartData,n.ifArray(v)){if(0<this.realWidth&&0<this.realHeight){n.VML&&(this.startAlpha=1);var ft=this.startDuration,ut=this.container,h=this.updateWidth();this.realWidth=h;u=this.updateHeight();this.realHeight=u;var o=n.toCoordinate,f=o(this.marginLeft,h),t=o(this.marginRight,h),d=o(this.marginTop,u)+this.getTitleHeight(),s=o(this.marginBottom,u)+this.depth3D,g,nt,r,w=n.toNumber(this.labelRadius),c=this.measureMaxLabel();for(c>this.maxLabelWidth&&(c=this.maxLabelWidth),this.labelText&&this.labelsEnabled||(w=c=0),g=void 0===this.pieX?(h-f-t)/2+f:o(this.pieX,this.realWidth),nt=void 0===this.pieY?(u-d-s)/2+d:o(this.pieY,u),r=o(this.radius,h,u),r||(h=0<=w?h-f-t-2*c:h-f-t,u=u-d-s,r=Math.min(h,u),u<h&&(r/=1-this.angle/90,r>h&&(r=h)),u=n.toCoordinate(this.pullOutRadius,r),r=(0<=w?r-1.8*(w+u):r-1.8*u)/2),r<this.minRadius&&(r=this.minRadius),u=o(this.pullOutRadius,r),d=n.toCoordinate(this.startRadius,r),o=o(this.innerRadius,r),o>=r&&(o=r-1),s=n.fitToBounds(this.startAngle,0,360),0<this.depth3D&&(s=270<=s?270:90),s-=90,360<s&&(s-=360),h=r-r*this.angle/90,f=c=0;f<v.length;f++)t=v[f],!0!==t.hidden&&(c+=n.roundTo(t.percents,this.pf.precision));for(c=n.roundTo(c,this.pf.precision),this.tempPrec=NaN,this.adjustPrecision&&100!=c&&(this.tempPrec=this.pf.precision+1),f=0;f<v.length;f++)if(t=v[f],!0!==t.hidden&&(this.showZeroSlices||0!==t.percents)){var a=360*t.percents/100,c=Math.sin((s+a/2)/180*Math.PI),tt=h/r*-Math.cos((s+a/2)/180*Math.PI),e=this.outlineColor;if(e||(e=t.color),y=this.alpha,isNaN(t.alpha)||(y=t.alpha),e={fill:t.color,stroke:e,"stroke-width":this.outlineThickness,"stroke-opacity":this.outlineAlpha,"fill-opacity":y},t.url&&(e.cursor="pointer"),e=n.wedge(ut,g,nt,s,a,r,h,o,this.depth3D,e,this.gradientRatio,t.pattern,this.path,this.gradientType),n.setCN(this,e,"pie-item"),n.setCN(this,e.wedge,"pie-slice"),n.setCN(this,e,t.className,!0),this.addEventListeners(e,t),t.startAngle=s,v[f].wedge=e,0<ft&&(this.chartCreated||e.setAttr("opacity",this.startAlpha)),t.ix=c,t.iy=tt,t.wedge=e,t.index=f,t.label=null,y=ut.set(),this.labelsEnabled&&this.labelText&&t.percents>=this.hideLabelsPercent){i=s+a/2;0>i&&(i+=360);360<i&&(i-=360);l=w;isNaN(t.labelRadius)||(l=t.labelRadius,0>l&&(t.skipTick=!0));var a=g+c*(r+l),it=nt+tt*(r+l),b,p=0;isNaN(rt)&&350<i&&1<v.length-f&&(rt=f-1+Math.floor((v.length-f)/2));0<=l?(90>=i&&0<=i?(k=0,b="start",p=8):90<=i&&180>i?(k=1,b="start",p=8):180<=i&&270>i?(k=2,b="end",p=-8):270<=i&&354>=i?(k=3,b="end",p=-8):354<=i&&(f>rt?(k=0,b="start",p=8):(k=3,b="end",p=-8)),t.labelQuarter=k):b="middle";i=this.formatString(this.labelText,t);(l=this.labelFunction)&&(i=l(t,i));l=t.labelColor;l||(l=this.color);""!==i&&(i=n.wrappedText(ut,i,l,this.fontFamily,this.fontSize,b,!1,this.maxLabelWidth),n.setCN(this,i,"pie-label"),n.setCN(this,i,t.className,!0),i.translate(a+1.5*p,it),0>w&&(i.node.style.pointerEvents="none"),i.node.style.cursor="default",t.ty=it,t.textX=a+1.5*p,y.push(i),this.axesSet.push(y),t.labelSet=y,t.label=i,this.addEventListeners(y,t));t.tx=a;t.tx2=a+p;t.tx0=g+c*r;t.ty0=nt+tt*r}a=o+(r-o)/2;t.pulled&&(a+=u);this.accessible&&this.accessibleLabel&&(it=this.formatString(this.accessibleLabel,t),this.makeAccessible(e,it));void 0!==this.tabIndex&&e.setAttr("tabindex",this.tabIndex);t.balloonX=c*a+g;t.balloonY=tt*a+nt;t.startX=Math.round(c*d);t.startY=Math.round(tt*d);t.pullX=Math.round(c*u);t.pullY=Math.round(tt*u);this.graphsSet.push(e);(0===t.alpha||0<ft&&!this.chartCreated)&&(e.hide(),y&&y.hide());s+=360*t.percents/100;360<s&&(s-=360)}0<w&&this.arrangeLabels();this.pieXReal=g;this.pieYReal=nt;this.radiusReal=r;this.innerRadiusReal=o;0<w&&this.drawTicks();this.initialStart();this.setDepths()}(v=this.legend)&&v.invalidateSize()}else this.cleanChart();this.dispDUpd()},setDepths:function(){for(var i=this.chartData,t=0;t<i.length;t++){var n=i[t],r=n.wedge,n=n.startAngle;0<=n&&180>n?r.toFront():180<=n&&r.toBack()}},arrangeLabels:function(){for(var i=this.chartData,r=i.length,t,n=r-1;0<=n;n--)t=i[n],0!==t.labelQuarter||t.hidden||this.checkOverlapping(n,t,0,!0,0);for(n=0;n<r;n++)t=i[n],1!=t.labelQuarter||t.hidden||this.checkOverlapping(n,t,1,!1,0);for(n=r-1;0<=n;n--)t=i[n],2!=t.labelQuarter||t.hidden||this.checkOverlapping(n,t,2,!0,0);for(n=0;n<r;n++)t=i[n],3!=t.labelQuarter||t.hidden||this.checkOverlapping(n,t,3,!1,0)},checkOverlapping:function(n,t,i,r,u){var e,f,o=this.chartData,s=o.length,h=t.label;if(h){if(!0===r)for(f=n+1;f<s;f++)o[f].labelQuarter==i&&(e=this.checkOverlappingReal(t,o[f],i))&&(f=s);else for(f=n-1;0<=f;f--)o[f].labelQuarter==i&&(e=this.checkOverlappingReal(t,o[f],i))&&(f=0);!0===e&&200>u&&isNaN(t.labelRadius)&&(e=t.ty+3*t.iy,t.ty=e,h.translate(t.textX,e),this.checkOverlapping(n,t,i,r,u+1))}},checkOverlappingReal:function(t,i,r){var e=!1,f=t.label,u=i.label;return t.labelQuarter!=r||t.hidden||i.hidden||!u||(f=f.getBBox(),r={},r.width=f.width,r.height=f.height,r.y=t.ty,r.x=t.tx,t=u.getBBox(),u={},u.width=t.width,u.height=t.height,u.y=i.ty,u.x=i.tx,n.hitTest(r,u)&&(e=!0)),e}})}(),function(){var n=window.AmCharts;n.AmRectangularChart=n.Class({inherits:n.AmCoordinateChart,construct:function(t){n.AmRectangularChart.base.construct.call(this,t);this.theme=t;this.createEvents("zoomed","changed");this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20;this.depth3D=this.angle=0;this.plotAreaFillColors="#FFFFFF";this.plotAreaFillAlphas=0;this.plotAreaBorderColor="#000000";this.plotAreaBorderAlpha=0;this.maxZoomFactor=20;this.zoomOutButtonImageSize=19;this.zoomOutButtonImage="lens";this.zoomOutText="Show all";this.zoomOutButtonColor="#e5e5e5";this.zoomOutButtonAlpha=0;this.zoomOutButtonRollOverAlpha=1;this.zoomOutButtonPadding=8;this.trendLines=[];this.autoMargins=!0;this.marginsUpdated=!1;this.autoMarginOffset=10;n.applyTheme(this,t,"AmRectangularChart")},initChart:function(){n.AmRectangularChart.base.initChart.call(this);this.updateDxy();!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1);this.processScrollbars();this.updateMargins();this.updatePlotArea();this.updateScrollbars();this.updateTrendLines();this.updateChartCursor();this.updateValueAxes();this.scrollbarOnly||this.updateGraphs()},drawChart:function(){if(n.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),n.ifArray(this.chartData)){var t=this.chartCursor;t&&t.draw()}},resetMargins:function(){var i={},n,t,r,u;if("xy"==this.type){for(t=this.xAxes,r=this.yAxes,n=0;n<t.length;n++)u=t[n],u.ignoreAxisWidth||(u.setOrientation(!0),u.fixAxisPosition(),i[u.position]=!0);for(n=0;n<r.length;n++)t=r[n],t.ignoreAxisWidth||(t.setOrientation(!1),t.fixAxisPosition(),i[t.position]=!0)}else{for(r=this.valueAxes,n=0;n<r.length;n++)t=r[n],t.ignoreAxisWidth||(t.setOrientation(this.rotate),t.fixAxisPosition(),i[t.position]=!0);(n=this.categoryAxis)&&!n.ignoreAxisWidth&&(n.setOrientation(!this.rotate),n.fixAxisPosition(),n.fixAxisPosition(),i[n.position]=!0)}i.left&&(this.marginLeft=0);i.right&&(this.marginRight=0);i.top&&(this.marginTop=0);i.bottom&&(this.marginBottom=0);this.fixMargins=i},measureMargins:function(){for(var f=this.valueAxes,t=this.autoMarginOffset,e=this.fixMargins,s=this.realWidth,h=this.realHeight,i=t,r=t,u=s,n=h,o=0;o<f.length;o++)f[o].handleSynchronization(),n=this.getAxisBounds(f[o],i,u,r,n),i=Math.round(n.l),u=Math.round(n.r),r=Math.round(n.t),n=Math.round(n.b);(f=this.categoryAxis)&&(n=this.getAxisBounds(f,i,u,r,n),i=Math.round(n.l),u=Math.round(n.r),r=Math.round(n.t),n=Math.round(n.b));e.left&&i<t&&(this.marginLeft=Math.round(-i+t),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft));e.right&&u>=s-t&&(this.marginRight=Math.round(u-s+t),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight));e.top&&r<t+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-r+t+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop));e.bottom&&n>h-t&&(this.marginBottom=Math.round(this.marginBottom+n-h+t),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom));this.initChart()},getAxisBounds:function(n,t,i,r,u){if(!n.ignoreAxisWidth){var f=n.labelsSet,e=n.tickLength;if(n.inside&&(e=0),f)switch(f=n.getBBox(),n.position){case"top":n=f.y;r>n&&(r=n);break;case"bottom":n=f.y+f.height;u<n&&(u=n);break;case"right":n=f.x+f.width+e+3;i<n&&(i=n);break;case"left":n=f.x-e;t>n&&(t=n)}}return{l:t,t:r,r:i,b:u}},drawZoomOutButton:function(){var t=this,r,i,u,o;if(!t.zbSet){r=t.container.set();t.zoomButtonSet.push(r);var f=t.color,h=t.fontSize,a=t.zoomOutButtonImageSize,l=t.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),v=t.langObj.zoomOutText||t.zoomOutText,e=t.zoomOutButtonColor,c=t.zoomOutButtonAlpha,i=t.zoomOutButtonFontSize,s=t.zoomOutButtonPadding;for(isNaN(i)||(h=i),(i=t.zoomOutButtonFontColor)&&(f=i),i=t.zoomOutButton,i&&(i.fontSize&&(h=i.fontSize),i.color&&(f=i.color),i.backgroundColor&&(e=i.backgroundColor),isNaN(i.backgroundAlpha)||(t.zoomOutButtonRollOverAlpha=i.backgroundAlpha)),o=i=0,o=t.pathToImages,l&&((n.isAbsolute(l)||void 0===o)&&(o=""),u=t.container.image(o+l+t.extension,0,0,a,a),n.setCN(t,u,"zoom-out-image"),r.push(u),u=u.getBBox(),i=u.width+5),void 0!==v&&(f=n.text(t.container,v,f,t.fontFamily,h,"start"),n.setCN(t,f,"zoom-out-label"),h=f.getBBox(),o=u?u.height/2-3:h.height/2,f.translate(i,o),r.push(f)),u=r.getBBox(),f=1,n.isModern||(f=0),e=n.rect(t.container,u.width+2*s+5,u.height+2*s-2,e,1,1,e,f),e.setAttr("opacity",c),e.translate(-s,-s),n.setCN(t,e,"zoom-out-bg"),r.push(e),e.toBack(),t.zbBG=e,u=e.getBBox(),r.translate(t.marginLeftReal+t.plotAreaWidth-u.width+s,t.marginTopReal+s),r.hide(),r.mouseover(function(){t.rollOverZB()}).mouseout(function(){t.rollOutZB()}).click(function(){t.clickZB()}).touchstart(function(){t.rollOverZB()}).touchend(function(){t.rollOutZB();t.clickZB()}),c=0;c<r.length;c++)r[c].attr({cursor:"pointer"});void 0!==t.zoomOutButtonTabIndex&&(r.setAttr("tabindex",t.zoomOutButtonTabIndex),r.setAttr("role","menuitem"),r.keyup(function(n){13==n.keyCode&&t.clickZB()}));t.zbSet=r}},rollOverZB:function(){this.rolledOverZB=!0;this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1;this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1;this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var i=this.dx,u=this.dy,e=this.marginLeftReal,s=this.marginTopReal,r=this.plotAreaWidth-1,o=this.plotAreaHeight-1,t=this.plotAreaFillColors,f=this.plotAreaFillAlphas,h=this.plotAreaBorderColor,c=this.plotAreaBorderAlpha;"object"==typeof f&&(f=f[0]);t=n.polygon(this.container,[0,r,r,0,0],[0,0,o,o,0],t,f,1,h,c,this.plotAreaGradientAngle);n.setCN(this,t,"plot-area");t.translate(e+i,s+u);this.set.push(t);0!==i&&0!==u&&(t=this.plotAreaFillColors,"object"==typeof t&&(t=t[0]),t=n.adjustLuminosity(t,-.15),r=n.polygon(this.container,[0,i,r+i,r,0],[0,u,u,0,0],t,f,1,h,c),n.setCN(this,r,"plot-area-bottom"),r.translate(e,s+o),this.set.push(r),i=n.polygon(this.container,[0,0,i,i,0],[0,o,o+u,u,0],t,f,1,h,c),n.setCN(this,i,"plot-area-left"),i.translate(e,s),this.set.push(i));(e=this.bbset)&&this.scrollbarOnly&&e.remove()},updatePlotArea:function(){var n=this.updateWidth(),t=this.updateHeight(),i=this.container;this.realWidth=n;this.realWidth=t;i&&this.container.setSize(n,t);var i=this.marginLeftReal,r=this.marginTopReal,n=n-i-this.marginRightReal-this.dx,t=t-r-this.marginBottomReal;1>n&&(n=1);1>t&&(t=1);this.plotAreaWidth=Math.round(n);this.plotAreaHeight=Math.round(t);this.plotBalloonsSet.translate(i,r)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180));this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180));this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180));this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var n=this.getTitleHeight();this.titleHeight=n;this.marginTopReal=this.marginTop-this.dy;this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=n);this.marginBottomReal=this.marginBottom;this.marginLeftReal=this.marginLeft;this.marginRightReal=this.marginRight},updateValueAxes:function(){for(var i=this.valueAxes,n,t=0;t<i.length;t++)n=i[t],this.setAxisRenderers(n),this.updateObjectSize(n)},setAxisRenderers:function(t){t.axisRenderer=n.RecAxis;t.guideFillRenderer=n.RecFill;t.axisItemRenderer=n.RecItem;t.marginsChanged=!0},updateGraphs:function(){for(var i=this.graphs,n,t=0;t<i.length;t++)n=i[t],n.index=t,n.rotate=this.rotate,this.updateObjectSize(n)},updateObjectSize:function(n){n.width=this.plotAreaWidth-1;n.height=this.plotAreaHeight-1;n.x=this.marginLeftReal;n.y=this.marginTopReal;n.dx=this.dx;n.dy=this.dy},updateChartCursor:function(){var t=this.chartCursor;t&&(t=n.processObject(t,n.ChartCursor,this.theme),this.updateObjectSize(t),this.addChartCursor(t),t.chart=this)},processScrollbars:function(){var t=this.chartScrollbar;t&&(t=n.processObject(t,n.ChartScrollbar,this.theme),this.addChartScrollbar(t))},updateScrollbars:function(){},removeChartCursor:function(){n.callMethod("destroy",[this.chartCursor]);this.chartCursor=null},zoomTrendLines:function(){for(var i=this.trendLines,n,t=0;t<i.length;t++)n=i[t],n.valueAxis.recalculateToPercents?n.set&&n.set.hide():(n.x=this.marginLeftReal,n.y=this.marginTopReal,n.draw())},handleCursorValueZoom:function(){},addTrendLine:function(n){this.trendLines.push(n)},zoomOutValueAxes:function(){for(var t=this.valueAxes,n=0;n<t.length;n++)t[n].zoomOut()},removeTrendLine:function(n){for(var i=this.trendLines,t=i.length-1;0<=t;t--)i[t]==n&&i.splice(t,1)},adjustMargins:function(n,t){var r=n.position,i=n.scrollbarHeight+n.offset;n.enabled&&("top"==r?t?this.marginLeftReal+=i:this.marginTopReal+=i:t?this.marginRightReal+=i:this.marginBottomReal+=i)},getScrollbarPosition:function(n,t,i){var r="bottom",u="top";n.oppositeAxis||(u=r,r="top");n.position=t?"bottom"==i||"left"==i?r:u:"top"==i||"right"==i?r:u},updateChartScrollbar:function(n,t){if(n){n.rotate=t;var i=this.marginTopReal,u=this.marginLeftReal,f=n.scrollbarHeight,e=this.dx,o=this.dy,r=n.offset;"top"==n.position?t?(n.y=i,n.x=u-f-r):(n.y=i-f+o-r,n.x=u+e):t?(n.y=i+o,n.x=u+this.plotAreaWidth+e+r):(n.y=i+this.plotAreaHeight+r,n.x=this.marginLeftReal)}},showZB:function(n){var t=this.zbSet;n&&(t=this.zoomOutText,""!==t&&t&&this.drawZoomOutButton());(t=this.zbSet)&&(this.zoomButtonSet.push(t),n?t.show():t.hide(),this.rollOutZB())},handleReleaseOutside:function(t){n.AmRectangularChart.base.handleReleaseOutside.call(this,t);(t=this.chartCursor)&&t.handleReleaseOutside&&t.handleReleaseOutside()},handleMouseDown:function(t){n.AmRectangularChart.base.handleMouseDown.call(this,t);var i=this.chartCursor;i&&i.handleMouseDown&&!this.rolledOverZB&&i.handleMouseDown(t)},update:function(){n.AmRectangularChart.base.update.call(this);this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(n){this.relativeZoomValueAxes(n.target.valueAxes,n.relativeStart,n.relativeEnd);this.zoomAxesAndGraphs()},zoomValueScrollbar:function(n){if(n&&n.enabled){var t=n.valueAxes[0],i=t.relativeStart,r=t.relativeEnd;t.reversed&&(r=1-i,i=1-t.relativeEnd);n.percentZoom(i,r)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){for(var t=this.valueAxes,n=0;n<t.length;n++)t[n].zoom(this.start,this.end);for(t=this.graphs,n=0;n<t.length;n++)t[n].zoom(this.start,this.end);(n=this.chartCursor)&&n.clearSelection();this.zoomTrendLines()}},handleValueAxisZoomReal:function(n,t){var i=n.relativeStart,r=n.relativeEnd;if(i>r)var u=i,i=r,r=u;this.relativeZoomValueAxes(t,i,r);this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs();this.zoomScrollbar()},relativeZoomValueAxes:function(t,i,r){var u,f,e;if(i=n.fitToBounds(i,0,1),r=n.fitToBounds(r,0,1),i>r&&(u=i,i=r,r=u),u=1/this.maxZoomFactor,f=n.getDecimals(u)+4,r-i<u&&(r=i+(r-i)/2,i=r-u/2,r+=u/2),i=n.roundTo(i,f),r=n.roundTo(r,f),u=!1,t){for(f=0;f<t.length;f++)e=t[f].zoomToRelativeValues(i,r,!0),e&&(u=e);this.showZB()}return u},addChartCursor:function(t){n.callMethod("destroy",[this.chartCursor]);t&&(this.listenTo(t,"moved",this.handleCursorMove),this.listenTo(t,"zoomed",this.handleCursorZoom),this.listenTo(t,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(t,"panning",this.handleCursorPanning),this.listenTo(t,"onHideCursor",this.handleCursorHide));this.chartCursor=t},handleCursorChange:function(){},handleCursorMove:function(n){for(var r=this.valueAxes,t,i=0;i<r.length;i++)n.panning||(t=r[i],t&&t.showBalloon&&t.showBalloon(n.x,n.y))},handleCursorZoom:function(n){if(this.skipZoomed)this.skipZoomed=!1;else{var t=this.startX0,r=this.endX0,u=this.endY0,i=this.startY0,f=n.startX,e=n.endX,o=n.startY,s=n.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN;this.handleCursorZoomReal(t+f*(r-t),t+e*(r-t),i+o*(u-i),i+s*(u-i),n)}},handleCursorHide:function(){for(var t=this.valueAxes,n=0;n<t.length;n++)t[n].hideBalloon();for(t=this.graphs,n=0;n<t.length;n++)t[n].hideBalloonReal()}})}(),function(){var n=window.AmCharts;n.AmSerialChart=n.Class({inherits:n.AmRectangularChart,construct:function(t){this.type="serial";n.AmSerialChart.base.construct.call(this,t);this.cname="AmSerialChart";this.theme=t;this.columnSpacing=5;this.columnSpacing3D=0;this.columnWidth=.8;var i=new n.CategoryAxis(t);i.chart=this;this.categoryAxis=i;this.zoomOutOnDataUpdate=!0;this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1;this.minSelectedTime=0;n.applyTheme(this,t,this.cname)},initChart:function(){n.AmSerialChart.base.initChart.call(this);this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis");this.dataChanged?this.parseData():this.onDataUpdated();this.drawGraphs=!0},onDataUpdated:function(){for(var u=this.countColumns(),n=this.chartData,r=this.graphs,t,i=0;i<r.length;i++)t=r[i],t.data=n,t.columnCount=u;0<n.length&&(this.firstTime=this.getStartTime(n[0].time),this.lastTime=this.getEndTime(n[n.length-1].time));this.drawChart();this.autoMargins&&!this.marginsUpdated?(this.marginsUpdated=!0,this.measureMargins()):this.dispDUpd()},syncGrid:function(){var u,t,i,o,r,f,e;if(this.synchronizeGrid&&(u=this.valueAxes,0<u.length)){for(o=0,i=0;i<u.length;i++)t=u[i],o<t.gridCountReal&&(o=t.gridCountReal);for(r=!1,i=0;i<u.length;i++)(t=u[i],t.gridCountReal<o)&&(f=(o-t.gridCountReal)/2,e=r=f,0!=f-Math.round(f)&&(r-=.5,e+=.5),0<=t.min&&0>t.min-r*t.step&&(e+=r,r=0),0>=t.max&&0<t.max+e*t.step&&(r+=e,e=0),f=n.getDecimals(t.step),t.minimum=n.roundTo(t.min-r*t.step,f),t.maximum=n.roundTo(t.max+e*t.step,f),t.setStep=t.step,r=t.strictMinMax=!0);for(r&&this.updateAfterValueZoom(),i=0;i<u.length;i++)t=u[i],t.minimum=NaN,t.maximum=NaN,t.setStep=NaN,t.strictMinMax=!1}},handleWheelReal:function(n,t){var u,o;if(!this.wheelBusy){var s=this.categoryAxis,f=s.parseDates,r=s.minDuration(),i=1,e=1;this.mouseWheelZoomEnabled?t||(i=-1):t&&(i=-1);o=this.chartCursor;o&&(u=o.mouseX,o=o.mouseY,i!=e&&(u=this.rotate?o/this.plotAreaHeight:u/this.plotAreaWidth,i*=u,e*=1-u),u=.05*(this.end-this.start),f&&(u=.05*(this.endTime-this.startTime)/r),1>u&&(u=1),i*=u,e*=u,(!f||s.equalSpacing)&&(i=Math.round(i),e=Math.round(e)));o=this.chartData.length;s=this.lastTime;u=this.firstTime;0>n?f?(o=this.endTime-this.startTime,f=this.startTime+i*r,r=this.endTime+e*r,0<e&&0<i&&r>=s&&(r=s,f=s-o),this.zoomToDates(new Date(f),new Date(r))):(0<e&&0<i&&this.end>=o-1&&(i=e=0),f=this.start+i,r=this.end+e,this.zoomToIndexes(f,r)):f?(o=this.endTime-this.startTime,f=this.startTime-i*r,r=this.endTime-e*r,0<e&&0<i&&f<=u&&(f=u,r=u+o),this.zoomToDates(new Date(f),new Date(r))):(0<e&&0<i&&1>this.start&&(i=e=0),f=this.start-i,r=this.end-e,this.zoomToIndexes(f,r))}},validateData:function(t){this.marginsUpdated=!1;this.zoomOutOnDataUpdate&&!t&&(this.endTime=this.end=this.startTime=this.start=NaN);n.AmSerialChart.base.validateData.call(this)},drawChart:function(){var r,u,t,i;0<this.realWidth&&0<this.realHeight?(n.AmSerialChart.base.drawChart.call(this),r=this.chartData,n.ifArray(r)&&(u=this.chartScrollbar,u&&(this.marginsUpdated||!this.autoMargins)&&u.draw(),(u=this.valueScrollbar)&&u.draw(),u=r.length-1,t=this.categoryAxis,t.parseDates&&!t.equalSpacing?(t=this.startTime,i=this.endTime,isNaN(t)||isNaN(i))&&(t=this.firstTime,i=this.lastTime):(t=this.start,i=this.end,(isNaN(t)||isNaN(i))&&(i=t=NaN),isNaN(t)&&(isNaN(this.startTime)||(t=this.getClosestIndex(r,"time",this.startTime,!0,0,r.length))),isNaN(i)&&(isNaN(this.endTime)||(i=this.getClosestIndex(r,"time",this.endTime,!1,0,r.length))),(isNaN(t)||isNaN(i))&&(t=0,i=u)),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(t,i))):this.cleanChart()},cleanChart:function(){n.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor,this.valueScrollbar])},updateCategoryAxis:function(n,t,i){n.chart=this;n.id=i;n.rotate=t;n.setOrientation(!this.rotate);n.init();this.setAxisRenderers(n);this.updateObjectSize(n)},updateValueAxes:function(){var u,i,r,t;for(n.AmSerialChart.base.updateValueAxes.call(this),u=this.valueAxes,i=0;i<u.length;i++)r=u[i],t=this.rotate,r.rotate=t,r.setOrientation(t),t=this.categoryAxis,(!t.startOnAxis||t.parseDates)&&(r.expandMinMax=!0)},getStartTime:function(t){var i=this.categoryAxis;return n.resetDateToMin(new Date(t),i.minPeriod,1,i.firstDayOfWeek).getTime()},getEndTime:function(t){var i=n.extractPeriod(this.categoryAxis.minPeriod);return n.changeDate(new Date(t),i.period,i.count,!0).getTime()-1},updateMargins:function(){n.AmSerialChart.base.updateMargins.call(this);var t=this.chartScrollbar;t&&(this.getScrollbarPosition(t,this.rotate,this.categoryAxis.position),this.adjustMargins(t,this.rotate));(t=this.valueScrollbar)&&(this.getScrollbarPosition(t,!this.rotate,this.valueAxes[0].position),this.adjustMargins(t,!this.rotate))},updateScrollbars:function(){n.AmSerialChart.base.updateScrollbars.call(this);this.updateChartScrollbar(this.chartScrollbar,this.rotate);this.updateChartScrollbar(this.valueScrollbar,!this.rotate)},zoom:function(n,t){var i=this.categoryAxis;i.parseDates&&!i.equalSpacing?this.timeZoom(n,t):this.indexZoom(n,t);isNaN(n)&&this.zoomOutValueAxes();(i=this.chartCursor)&&(i.pan||i.hideCursorReal());this.updateLegendValues()},timeZoom:function(t,i){var u=this.maxSelectedTime,e,r;if(isNaN(u)||(i!=this.endTime&&i-t>u&&(t=i-u),t!=this.startTime&&i-t>u&&(i=t+u)),r=this.minSelectedTime,0<r&&i-t<r&&(e=Math.round(t+(i-t)/2),r=Math.round(r/2),t=e-r,i=e+r),r=this.chartData,e=this.categoryAxis,n.ifArray(r)&&(t!=this.startTime||i!=this.endTime)){var f=e.minDuration(),s=this.firstTime,o=this.lastTime;t||(t=s,isNaN(u)||(t=o-u));i||(i=o);t>o&&(t=o);i<s&&(i=s);t<s&&(t=s);i>o&&(i=o);i<t&&(i=t+f);i-t<f/5&&(i<o?i=t+f/5:t=i-f/5);this.startTime=t;this.endTime=i;u=r.length-1;f=this.getClosestIndex(r,"time",t,!0,0,u);r=this.getClosestIndex(r,"time",i,!1,f,u);e.timeZoom(t,i);e.zoom(f,r);this.start=n.fitToBounds(f,0,u);this.end=n.fitToBounds(r,0,u);this.zoomAxesAndGraphs();this.zoomScrollbar();this.fixCursor();this.showZB();this.syncGrid();this.updateColumnsDepth();this.dispatchTimeZoomEvent()}},showZB:function(){var i,t=this.categoryAxis;t&&t.parseDates&&!t.equalSpacing&&(this.startTime>this.firstTime&&(i=!0),this.endTime<this.lastTime&&(i=!0));0<this.start&&(i=!0);this.end<this.chartData.length-1&&(i=!0);(t=this.valueAxes)&&(t=t[0],isNaN(t.relativeStart)||(0!==n.roundTo(t.relativeStart,3)&&(i=!0),1!=n.roundTo(t.relativeEnd,3)&&(i=!0)));n.AmSerialChart.base.showZB.call(this,i)},updateAfterValueZoom:function(){n.AmSerialChart.base.updateAfterValueZoom.call(this);this.updateColumnsDepth()},indexZoom:function(n,t){var r=this.maxSelectedSeries,i=!1,u;isNaN(r)||(t!=this.end&&t-n>r&&(n=t-r,i=!0),n!=this.start&&t-n>r&&(t=n+r,i=!0));i&&(i=this.chartScrollbar)&&i.dragger&&(u=i.dragger.getBBox(),i.maxWidth=u.width,i.maxHeight=u.height);(n!=this.start||t!=this.end)&&(i=this.chartData.length-1,isNaN(n)&&(n=0,isNaN(r)||(n=i-r)),isNaN(t)&&(t=i),t<n&&(t=n),t>i&&(t=i),n>i&&(n=i-1),0>n&&(n=0),this.start=n,this.end=t,this.categoryAxis.zoom(n,t),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),0!==n||t!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.syncGrid(),this.updateColumnsDepth(),this.dispatchIndexZoomEvent())},updateGraphs:function(){var r,i,t;for(n.AmSerialChart.base.updateGraphs.call(this),r=this.graphs,i=0;i<r.length;i++)t=r[i],t.columnWidthReal=this.columnWidth,t.categoryAxis=this.categoryAxis,n.isString(t.fillToGraph)&&(t.fillToGraph=this.graphsById[t.fillToGraph])},zoomAxesAndGraphs:function(){n.AmSerialChart.base.zoomAxesAndGraphs.call(this);this.updateColumnsDepth()},updateColumnsDepth:function(){var i,r,u,t,f;if(0!==this.depth3D||0!==this.angle){for(r=this.graphs,this.columnsArray=[],i=0;i<r.length;i++)if(u=r[i],t=u.columnsArray,t)for(f=0;f<t.length;f++)this.columnsArray.push(t[f]);if(this.columnsArray.sort(this.compareDepth),r=this.columnsSet,0<this.columnsArray.length){for(t=this.container.set(),this.columnSet.push(t),i=0;i<this.columnsArray.length;i++)t.push(this.columnsArray[i].column.set);u&&t.translate(u.x,u.y);this.columnsSet=t}n.remove(r)}},compareDepth:function(n,t){return n.depth>t.depth?1:-1},zoomScrollbar:function(){var n=this.chartScrollbar,i=this.categoryAxis,t;n&&(this.zoomedByScrollbar||(t=n.dragger,t&&t.stop()),this.zoomedByScrollbar=!1,i.parseDates&&!i.equalSpacing?n.timeZoom(this.startTime,this.endTime):n.zoom(this.start,this.end));this.zoomValueScrollbar(this.valueScrollbar)},updateTrendLines:function(){for(var r=this.trendLines,t,i=0;i<r.length;i++)t=r[i],t=n.processObject(t,n.TrendLine,this.theme),r[i]=t,t.chart=this,t.id||(t.id="trendLineAuto"+i+"_"+(new Date).getTime()),n.isString(t.valueAxis)&&(t.valueAxis=this.getValueAxisById(t.valueAxis)),t.valueAxis||(t.valueAxis=this.valueAxes[0]),t.categoryAxis=this.categoryAxis},countColumns:function(){for(var t=0,h=this.valueAxes.length,o=this.graphs.length,n,i,f=!1,r,e,s,u=0;u<h;u++){if(i=this.valueAxes[u],e=i.stackType,s=0,"100%"==e||"regular"==e)for(f=!1,r=0;r<o;r++)n=this.graphs[r],n.tcc=1,n.valueAxis==i&&"column"==n.type&&(!f&&n.stackable&&(t++,f=!0),(!n.stackable&&n.clustered||n.newStack&&0!==s)&&t++,n.columnIndex=t-1,n.clustered||(n.columnIndex=0),s++);if("none"==e||"3d"==e){for(f=!1,r=0;r<o;r++)n=this.graphs[r],n.valueAxis==i&&"column"==n.type&&(n.clustered?(n.tcc=1,n.newStack&&(t=0),n.hidden||(n.columnIndex=t,t++)):n.hidden||(f=!0,n.tcc=1,n.columnIndex=0));f&&0===t&&(t=1)}if("3d"==e){for(i=1,u=0;u<o;u++)n=this.graphs[u],n.newStack&&i++,n.depthCount=i,n.tcc=t;t=i}}return t},parseData:function(){n.AmSerialChart.base.parseData.call(this);this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(n){for(var i=this.chartData,t=0;t<i.length;t++)if(i[t].category==n)return t},handleScrollbarZoom:function(n){this.zoomedByScrollbar=!0;this.zoom(n.start,n.end)},dispatchTimeZoomEvent:function(){var t;if(this.drawGraphs&&(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime)){t={type:"zoomed"};t.startDate=new Date(this.startTime);t.endDate=new Date(this.endTime);t.startIndex=this.start;t.endIndex=this.end;this.startIndex=this.start;this.endIndex=this.end;this.startDate=t.startDate;this.endDate=t.endDate;this.prevStartTime=this.startTime;this.prevEndTime=this.endTime;var i=this.categoryAxis,r=n.extractPeriod(i.minPeriod).period,i=i.dateFormatsObject[r];t.startValue=n.formatDate(t.startDate,i,this);t.endValue=n.formatDate(t.endDate,i,this);t.chart=this;t.target=this;this.fire(t)}},dispatchIndexZoomEvent:function(){var i,t;this.drawGraphs&&(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end)&&(this.startIndex=this.start,this.endIndex=this.end,i=this.chartData,!n.ifArray(i)||isNaN(this.start)||isNaN(this.end)||(t={chart:this,target:this,type:"zoomed"},t.startIndex=this.start,t.endIndex=this.end,t.startValue=i[this.start].category,t.endValue=i[this.end].category,this.categoryAxis.parseDates&&(this.startTime=i[this.start].time,this.endTime=i[this.end].time,t.startDate=new Date(this.startTime),t.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(t)))},updateLegendValues:function(){this.legend&&this.legend.updateValues()},getClosestIndex:function(n,t,i,r,u,f){0>u&&(u=0);f>n.length-1&&(f=n.length-1);var e=u+Math.round((f-u)/2),o=n[e][t];return i==o?e:1>=f-u?r?u:Math.abs(n[u][t]-i)<Math.abs(n[f][t]-i)?u:f:i==o?e:i<o?this.getClosestIndex(n,t,i,r,u,e):this.getClosestIndex(n,t,i,r,e,f)},zoomToIndexes:function(n,t){var r=this.chartData,i;r&&(i=r.length,0<i&&(0>n&&(n=0),t>i-1&&(t=i-1),i=this.categoryAxis,i.parseDates&&!i.equalSpacing?this.zoom(r[n].time,this.getEndTime(r[t].time)):this.zoom(n,t)))},zoomToDates:function(t,i){var r=this.chartData,u;r&&(this.categoryAxis.equalSpacing?(u=this.getClosestIndex(r,"time",t.getTime(),!0,0,r.length),i=n.resetDateToMin(i,this.categoryAxis.minPeriod,1),r=this.getClosestIndex(r,"time",i.getTime(),!1,0,r.length),this.zoom(u,r)):this.zoom(t.getTime(),i.getTime()))},zoomToCategoryValues:function(n,t){this.chartData&&this.zoom(this.getCategoryIndexByValue(n),this.getCategoryIndexByValue(t))},formatPeriodString:function(t,i){var h,r,u,f;if(i){i.periodDataItem={};i.periodPercentDataItem={};var tt=["value","open","low","high","close"],it="value open low high close average sum count".split(" "),ft=i.valueAxis,et=this.chartData,w=i.numberFormatter;for(w||(w=this.nf),h=0;h<tt.length;h++){for(var s=tt[h],e=0,b=0,o=0,k=0,d,rt,c,l,a,g,ut,v,y,p,nt=this.start;nt<=this.end;nt++)f=et[nt],f&&(r=f.axes[ft.id].graphs[i.id],r&&(r.values&&(u=r.values[s],f=f.x.categoryAxis,this.rotate?(0>f||f>r.graph.height)&&(u=NaN):(0>f||f>r.graph.width)&&(u=NaN),isNaN(u)||(isNaN(d)&&(d=u),rt=u,(isNaN(c)||c>u)&&(c=u),(isNaN(l)||l<u)&&(l=u),a=n.getDecimals(e),f=n.getDecimals(u),e+=u,e=n.roundTo(e,Math.max(a,f)),b++,a=e/b)),r.percents&&(r=r.percents[s],!isNaN(r))&&(isNaN(g)&&(g=r),ut=r,(isNaN(v)||v>r)&&(v=r),(isNaN(y)||y<r)&&(y=r),p=n.getDecimals(o),u=n.getDecimals(r),o+=r,o=n.roundTo(o,Math.max(p,u)),k++,p=o/k)));e={open:d,close:rt,high:l,low:c,average:a,sum:e,count:b};o={open:g,close:ut,high:y,low:v,average:p,sum:o,count:k};t=n.formatValue(t,e,it,w,s+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);t=n.formatValue(t,o,it,this.pf,"percents\\."+s+"\\.");i.periodDataItem[s]=e;i.periodPercentDataItem[s]=o}}return n.cleanFromEmpty(t)},formatString:function(t,i,r){var o,e,u,f;if(i)return o=i.graph,void 0!==t&&(-1!=t.indexOf("[[category]]")&&(e=i.serialDataItem.category,this.categoryAxis.parseDates&&(u=this.balloonDateFormat,f=this.chartCursor,f&&f.categoryBalloonDateFormat&&(u=f.categoryBalloonDateFormat),u=n.formatDate(e,u,this),-1!=u.indexOf("fff")&&(u=n.formatMilliseconds(u,e)),e=u),t=t.replace(/\[\[category\]\]/g,String(e.replace("$","$$$")))),e=o.numberFormatter,e||(e=this.nf),u=i.graph.valueAxis,(f=u.duration)&&!isNaN(i.values.value)&&(f=n.formatDuration(i.values.value,f,"",u.durationUnits,u.maxInterval,e),t=t.replace(RegExp("\\[\\[value\\]\\]","g"),f)),"date"==u.type&&(u=n.formatDate(new Date(i.values.value),o.dateFormat,this),f=RegExp("\\[\\[value\\]\\]","g"),t=t.replace(f,u),u=n.formatDate(new Date(i.values.open),o.dateFormat,this),f=RegExp("\\[\\[open\\]\\]","g"),t=t.replace(f,u)),o="value open low high close total".split(" "),u=this.pf,t=n.formatValue(t,i.percents,o,u,"percents\\."),t=n.formatValue(t,i.values,o,e,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),t=n.formatValue(t,i.values,["percents"],u),-1!=t.indexOf("[[")&&(t=n.formatDataContextValue(t,i.dataContext)),-1!=t.indexOf("[[")&&i.graph.customData&&(t=n.formatDataContextValue(t,i.graph.customData)),t=n.AmSerialChart.base.formatString.call(this,t,i,r)),t},updateChartCursor:function(){var i,r;if(n.AmSerialChart.base.updateChartCursor.call(this),i=this.chartCursor,r=this.categoryAxis,i){var o=i.categoryBalloonAlpha,u=i.categoryBalloonColor,s=i.color;void 0===u&&(u=i.cursorColor);var f=i.valueZoomable,t=i.zoomable,e=i.valueLineEnabled;if(this.rotate?(i.vLineEnabled=e,i.hZoomEnabled=f,i.vZoomEnabled=t):(i.hLineEnabled=e,i.vZoomEnabled=f,i.hZoomEnabled=t),i.valueLineBalloonEnabled)for(e=0;e<this.valueAxes.length;e++)f=this.valueAxes[e],(t=f.balloon)||(t={}),t=n.extend(t,this.balloon,!0),t.fillColor=u,t.balloonColor=u,t.fillAlpha=o,t.borderColor=u,t.color=s,f.balloon=t;else for(t=0;t<this.valueAxes.length;t++)f=this.valueAxes[t],f.balloon&&(f.balloon=null);r&&(r.balloonTextFunction=i.categoryBalloonFunction,i.categoryLineAxis=r,r.balloonText=i.categoryBalloonText,i.categoryBalloonEnabled&&((t=r.balloon)||(t={}),t=n.extend(t,this.balloon,!0),t.fillColor=u,t.balloonColor=u,t.fillAlpha=o,t.borderColor=u,t.color=s,r.balloon=t),r.balloon&&(r.balloon.enabled=i.categoryBalloonEnabled))}},addChartScrollbar:function(t){n.callMethod("destroy",[this.chartScrollbar]);t&&(t.chart=this,this.listenTo(t,"zoomed",this.handleScrollbarZoom));this.rotate?void 0===t.width&&(t.width=t.scrollbarHeight):void 0===t.height&&(t.height=t.scrollbarHeight);t.gridAxis=this.categoryAxis;this.chartScrollbar=t},addValueScrollbar:function(t){n.callMethod("destroy",[this.valueScrollbar]);t&&(t.chart=this,this.listenTo(t,"zoomed",this.handleScrollbarValueZoom),this.listenTo(t,"zoomStarted",this.handleCursorZoomStarted));var i=t.scrollbarHeight;this.rotate?void 0===t.height&&(t.height=i):void 0===t.width&&(t.width=i);t.gridAxis||(t.gridAxis=this.valueAxes[0]);t.valueAxes=this.valueAxes;this.valueScrollbar=t},removeChartScrollbar:function(){n.callMethod("destroy",[this.chartScrollbar]);this.chartScrollbar=null},removeValueScrollbar:function(){n.callMethod("destroy",[this.valueScrollbar]);this.valueScrollbar=null},handleReleaseOutside:function(t){n.AmSerialChart.base.handleReleaseOutside.call(this,t);n.callMethod("handleReleaseOutside",[this.chartScrollbar,this.valueScrollbar])},update:function(){n.AmSerialChart.base.update.call(this);this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update();this.valueScrollbar&&this.valueScrollbar.update&&this.valueScrollbar.update()},processScrollbars:function(){n.AmSerialChart.base.processScrollbars.call(this);var t=this.valueScrollbar;t&&(t=n.processObject(t,n.ChartScrollbar,this.theme),t.id="valueScrollbar",this.addValueScrollbar(t))},handleValueAxisZoom:function(n){this.handleValueAxisZoomReal(n,this.valueAxes)},zoomOut:function(){n.AmSerialChart.base.zoomOut.call(this);this.zoom();this.syncGrid()},getNextItem:function(n){var t=n.index,i=this.chartData,r=n.graph;if(t+1<i.length)for(t+=1;t<i.length;t++)if((n=i[t])&&(n=n.axes[r.valueAxis.id].graphs[r.id],!isNaN(n.y)))return n},handleCursorZoomReal:function(n,t,i,r,u){var o=u.target,f,e;this.rotate?(isNaN(n)||isNaN(t)||this.relativeZoomValueAxes(this.valueAxes,n,t)&&this.updateAfterValueZoom(),o.vZoomEnabled&&(f=u.start,e=u.end)):(isNaN(i)||isNaN(r)||this.relativeZoomValueAxes(this.valueAxes,i,r)&&this.updateAfterValueZoom(),o.hZoomEnabled&&(f=u.start,e=u.end));isNaN(f)||isNaN(e)||(n=this.categoryAxis,n.parseDates&&!n.equalSpacing?this.zoomToDates(new Date(f),new Date(e)):this.zoomToIndexes(f,e))},handleCursorZoomStarted:function(){var n=this.valueAxes;if(n){var n=n[0],t=n.relativeStart,i=n.relativeEnd;n.reversed&&(t=1-n.relativeEnd,i=1-n.relativeStart);this.rotate?(this.startX0=t,this.endX0=i):(this.startY0=t,this.endY0=i)}this.categoryAxis&&(this.start0=this.start,this.end0=this.end,this.startTime0=this.startTime,this.endTime0=this.endTime)},fixCursor:function(){this.chartCursor&&this.chartCursor.fixPosition();this.prevCursorItem=null},handleCursorMove:function(t){var u,c,o,e,f,r,i,s,h,l,a;if(n.AmSerialChart.base.handleCursorMove.call(this,t),u=t.target,c=this.categoryAxis,t.panning)this.handleCursorHide(t);else if(this.chartData&&!u.isHidden){if(o=this.graphs,o&&(e=c.xToIndex(this.rotate?t.y:t.x),e=this.chartData[e])){if(u.oneBalloonOnly&&u.valueBalloonsEnabled){for(h=Infinity,f=o.length-1;0<=f;f--)if(r=o[f],r.balloon.enabled&&r.showBalloon&&!r.hidden){if(i=r.valueAxis.id,i=e.axes[i].graphs[r.id],u.showNextAvailable&&isNaN(i.y)&&(i=this.getNextItem(i),!i))continue;i=i.y;"top"==r.showBalloonAt&&(i=0);"bottom"==r.showBalloonAt&&(i=this.height);l=u.mouseX;a=u.mouseY;i=this.rotate?Math.abs(l-i):Math.abs(a-i);i<h&&(h=i,s=r)}u.mostCloseGraph=s}if(this.prevCursorItem!=e||s!=this.prevMostCloseGraph){for(h=[],f=0;f<o.length;f++){if(r=o[f],i=r.valueAxis.id,i=e.axes[i].graphs[r.id],u.showNextAvailable&&isNaN(i.y)&&(i=this.getNextItem(i),!i&&r.balloon)){r.balloon.hide();continue}s&&r!=s?(r.showGraphBalloon(i,u.pointer,!1,u.graphBulletSize,u.graphBulletAlpha),r.balloon.hide(0)):u.valueBalloonsEnabled?(r.balloon.showBullet=u.bulletsEnabled,r.balloon.bulletSize=u.bulletSize/2,t.hideBalloons||(r.showGraphBalloon(i,u.pointer,!1,u.graphBulletSize,u.graphBulletAlpha),r.balloon.set&&h.push({balloon:r.balloon,y:r.balloon.pointToY}))):(r.currentDataItem=i,r.resizeBullet(i,u.graphBulletSize,u.graphBulletAlpha))}u.avoidBalloonOverlapping&&this.arrangeBalloons(h);this.prevCursorItem=e}this.prevMostCloseGraph=s}c.showBalloon(t.x,t.y,u.categoryBalloonDateFormat,t.skip);this.updateLegendValues()}},handleCursorHide:function(t){n.AmSerialChart.base.handleCursorHide.call(this,t);t=this.categoryAxis;this.prevCursorItem=null;this.updateLegendValues();t&&t.hideBalloon();t=this.graphs;for(var i=0;i<t.length;i++)t[i].currentDataItem=null},handleCursorPanning:function(t){var c=t.target,i,s=t.deltaX,h=t.deltaY,r=t.delta2X,f=t.delta2Y,e,a,l;if(t=!1,this.rotate){isNaN(r)&&(r=s,t=!0);e=this.endX0;i=this.startX0;var u=e-i,e=e-u*r,o=u;t||(o=0);t=n.fitToBounds(i-u*s,0,1-o)}else isNaN(f)&&(f=h,t=!0),e=this.endY0,i=this.startY0,u=e-i,e+=u*h,o=u,t||(o=0),t=n.fitToBounds(i+u*f,0,1-o);i=n.fitToBounds(e,o,1);c.valueZoomable&&(a=this.relativeZoomValueAxes(this.valueAxes,t,i));i=this.categoryAxis;this.rotate&&(s=h,r=f);t=!1;isNaN(r)&&(r=s,t=!0);c.zoomable&&(0<Math.abs(s)||0<Math.abs(r))&&(i.parseDates&&!i.equalSpacing?(f=this.startTime0,h=this.endTime0,i=h-f,r*=i,u=this.firstTime,e=this.lastTime,o=i,t||(o=0),t=Math.round(n.fitToBounds(f-i*s,u,e-o)),r=Math.round(n.fitToBounds(h-r,u+o,e)),this.startTime!=t||this.endTime!=r)&&(l={chart:this,target:c,type:"zoomed",start:t,end:r},this.skipZoomed=!0,c.fire(l),this.zoom(t,r),l=!0):(f=this.start0,h=this.end0,i=h-f,s=Math.round(i*s),r=Math.round(i*r),u=this.chartData.length-1,t||(i=0),t=n.fitToBounds(f-s,0,u-i),i=n.fitToBounds(h-r,i,u),this.start!=t||this.end!=i)&&(this.skipZoomed=!0,c.fire({chart:this,target:c,type:"zoomed",start:t,end:i}),this.zoom(t,i),l=!0));!l&&a&&this.updateAfterValueZoom()},arrangeBalloons:function(n){var r=this.plotAreaHeight,i,t,u,f,e,o;for(n.sort(this.compareY),f=this.plotAreaWidth,e=n.length,i=0;i<e;i++)t=n[i].balloon,t.setBounds(0,0,f,r),t.restorePrevious(),t.draw(),r=t.yPos-3;for(n.reverse(),i=0;i<e;i++)t=n[i].balloon,r=t.bottom,o=t.bottom-t.yPos,0<i&&r-o<u+3&&(t.setBounds(0,u+3,f,u+o+3),t.restorePrevious(),t.draw()),t.set&&t.set.show(),u=t.bottom},compareY:function(n,t){return n.y<t.y?1:-1}})}(),function(){var n=window.AmCharts;n.Cuboid=n.Class({construct:function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){this.set=n.set();this.container=n;this.h=Math.round(i);this.w=Math.round(t);this.dx=r;this.dy=u;this.colors=f;this.alpha=e;this.bwidth=o;this.bcolor=s;this.balpha=h;this.dashLength=v;this.topRadius=p;this.pattern=y;this.rotate=a;this.bcn=w;a?0>t&&0===c&&(c=180):0>i&&270==c&&(c=90);this.gradientRotation=c;0===r&&0===u&&(this.cornerRadius=l);this.draw()},draw:function(){var pt=this.set,l,d,ot,ft,et,st,v,ht,ct,wt,h,p,w,g,ut,lt,at,vt;pt.clear();var r=this.container,nt=r.chart,t=this.w,i=this.h,f=this.dx,e=this.dy,y=this.colors,u=this.alpha,o=this.bwidth,s=this.bcolor,c=this.balpha,it=this.gradientRotation,bt=this.cornerRadius,tt=this.dashLength,yt=this.pattern,k=this.topRadius,rt=this.bcn,b=y,a=y;for("object"==typeof y&&(b=y[0],a=y[y.length-1]),wt=u,yt&&(u=0),ut=this.rotate,(0<Math.abs(f)||0<Math.abs(e))&&(isNaN(k)?(v=a,a=n.adjustLuminosity(b,-.2),a=n.adjustLuminosity(b,-.2),l=n.polygon(r,[0,f,t+f,t,0],[0,e,e,0,0],a,u,1,s,0,it),0<c&&(ct=n.line(r,[0,f,t+f],[0,e,e],s,c,o,tt)),d=n.polygon(r,[0,0,t,t,0],[0,i,i,0,0],a,u,1,s,0,it),d.translate(f,e),0<c&&(ot=n.line(r,[f,f],[e,e+i],s,c,o,tt)),ft=n.polygon(r,[0,0,f,f,0],[0,i,i+e,e,0],a,u,1,s,0,it),et=n.polygon(r,[t,t,t+f,t+f,t],[0,i,i+e,e,0],a,u,1,s,0,it),0<c&&(st=n.line(r,[t,t+f,t+f,t],[0,e,i+e,i],s,c,o,tt)),a=n.adjustLuminosity(v,.2),v=n.polygon(r,[0,f,t+f,t,0],[i,i+e,i+e,i,i],a,u,1,s,0,it),0<c&&(ht=n.line(r,[0,f,t+f],[i,i+e,i+e],s,c,o,tt))):(ut?(lt=i/2,a=f/2,vt=i/2,at=t+f/2,p=Math.abs(i/2),h=Math.abs(f/2)):(a=t/2,lt=e/2,at=t/2,vt=i+e/2+1,h=Math.abs(t/2),p=Math.abs(e/2)),w=h*k,g=p*k,.1<h&&.1<h&&(l=n.circle(r,h,b,u,o,s,c,!1,p),l.translate(a,lt)),.1<w&&.1<w&&(v=n.circle(r,w,n.adjustLuminosity(b,.5),u,o,s,c,!1,g),v.translate(at,vt)))),u=wt,1>Math.abs(i)&&(i=0),1>Math.abs(t)&&(t=0),!isNaN(k)&&(0<Math.abs(f)||0<Math.abs(e))?(y=[b],y={fill:y,stroke:s,"stroke-width":o,"stroke-opacity":c,"fill-opacity":u},ut?(u="M0,0 L"+t+","+(i/2-i/2*k),o=" B",0<t&&(o=" A"),n.VML?(u+=o+Math.round(t-w)+","+Math.round(i/2-g)+","+Math.round(t+w)+","+Math.round(i/2+g)+","+t+",0,"+t+","+i,u=u+(" L0,"+i)+(o+Math.round(-h)+","+Math.round(i/2-p)+","+Math.round(h)+","+Math.round(i/2+p)+",0,"+i+",0,0")):(u+="A"+w+","+g+",0,0,0,"+t+","+(i-i/2*(1-k))+"L0,"+i,u+="A"+h+","+p+",0,0,1,0,0"),h=90):(o=t/2-t/2*k,u="M0,0 L"+o+","+i,n.VML?(u="M0,0 L"+o+","+i,o=" B",0>i&&(o=" A"),u+=o+Math.round(t/2-w)+","+Math.round(i-g)+","+Math.round(t/2+w)+","+Math.round(i+g)+",0,"+i+","+t+","+i,u+=" L"+t+",0",u+=o+Math.round(t/2+h)+","+Math.round(p)+","+Math.round(t/2-h)+","+Math.round(-p)+","+t+",0,0,0"):(u+="A"+w+","+g+",0,0,0,"+(t-t/2*(1-k))+","+i+"L"+t+",0",u+="A"+h+","+p+",0,0,1,0,0"),h=180),r=r.path(u).attr(y),r.gradient("linearGradient",[b,n.adjustLuminosity(b,-.3),n.adjustLuminosity(b,-.3),b],h),ut?r.translate(f/2,0):r.translate(0,e/2)):r=0===i?n.line(r,[0,t],[0,0],s,c,o,tt):0===t?n.line(r,[0,0],[0,i],s,c,o,tt):0<bt?n.rect(r,t,i,y,u,o,s,c,bt,it,tt):n.polygon(r,[0,0,t,t,0],[0,i,i,0,0],y,u,o,s,c,it,!1,tt),t=isNaN(k)?0>i?[l,ct,d,ot,ft,et,st,v,ht,r]:[v,ht,d,ot,ft,et,l,ct,st,r]:ut?0<t?[l,r,v]:[v,r,l]:0>i?[l,r,v]:[v,r,l],n.setCN(nt,r,rt+"front"),n.setCN(nt,d,rt+"back"),n.setCN(nt,v,rt+"top"),n.setCN(nt,l,rt+"bottom"),n.setCN(nt,ft,rt+"left"),n.setCN(nt,et,rt+"right"),l=0;l<t.length;l++)(d=t[l])&&(pt.push(d),n.setCN(nt,d,rt+"element"));yt&&r.pattern(yt,NaN,nt.path)},width:function(n){isNaN(n)&&(n=0);this.w=Math.round(n);this.draw()},height:function(n){isNaN(n)&&(n=0);this.h=Math.round(n);this.draw()},animateHeight:function(t,i){var r=this;r.animationFinished=!1;r.easing=i;r.totalFrames=t*n.updateRate;r.rh=r.h;r.frame=0;r.height(1);setTimeout(function(){r.updateHeight.call(r)},1e3/n.updateRate)},updateHeight:function(){var t=this,i;t.frame++;i=t.totalFrames;t.frame<=i?(i=t.easing(0,t.frame,1,t.rh-1,i),t.height(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateHeight.call(t)}):setTimeout(function(){t.updateHeight.call(t)},1e3/n.updateRate)):(t.height(t.rh),t.animationFinished=!0)},animateWidth:function(t,i){var r=this;r.animationFinished=!1;r.easing=i;r.totalFrames=t*n.updateRate;r.rw=r.w;r.frame=0;r.width(1);setTimeout(function(){r.updateWidth.call(r)},1e3/n.updateRate)},updateWidth:function(){var t=this,i;t.frame++;i=t.totalFrames;t.frame<=i?(i=t.easing(0,t.frame,1,t.rw-1,i),t.width(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateWidth.call(t)}):setTimeout(function(){t.updateWidth.call(t)},1e3/n.updateRate)):(t.width(t.rw),t.animationFinished=!0)}})}(),function(){var n=window.AmCharts;n.CategoryAxis=n.Class({inherits:n.AxisBase,construct:function(t){this.cname="CategoryAxis";n.CategoryAxis.base.construct.call(this,t);this.minPeriod="DD";this.equalSpacing=this.parseDates=!1;this.position="bottom";this.startOnAxis=!1;this.gridPosition="middle";this.safeDistance=30;this.stickBalloonToCategory=!1;n.applyTheme(this,t,this.cname)},draw:function(){var l,t,a,w,g,tt,p,ut,ft;if(n.CategoryAxis.base.draw.call(this),this.generateDFObject(),l=this.chart.chartData,this.data=l,this.labelRotationR=this.labelRotation,this.type=null,n.ifArray(l)){a=this.chart;"scrollbar"!=this.id?(n.setCN(a,this.set,"category-axis"),n.setCN(a,this.labelsSet,"category-axis"),n.setCN(a,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var e=this.start,b=this.labelFrequency,nt=0,r=this.end-e+1,v=this.gridCountR,i=this.showFirstLabel,y=this.showLastLabel,c,o="",o=n.extractPeriod(this.minPeriod),p=n.getPeriodDuration(o.period,o.count),h,k,it,s,f,rt=this.rotate,u=this.firstDayOfWeek,d=this.boldPeriodBeginning;if(t=n.resetDateToMin(new Date(l[l.length-1].time+1.05*p),this.minPeriod,1,u).getTime(),this.firstTime=a.firstTime,this.endTime>t&&(this.endTime=t),f=this.minorGridEnabled,k=this.gridAlpha,w=0,g=0,this.widthField)for(t=this.start;t<=this.end;t++)(s=this.data[t])&&(tt=Number(this.data[t].dataContext[this.widthField]),isNaN(tt)||(w+=tt,s.widthValue=tt));if(this.parseDates&&!this.equalSpacing)this.lastTime=l[l.length-1].time,this.maxTime=n.resetDateToMin(new Date(this.lastTime+1.05*p),this.minPeriod,1,u).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw();else if(this.parseDates){if(this.parseDates&&this.equalSpacing){if(nt=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,t=this.choosePeriod(0),b=t.period,h=t.count,t=n.getPeriodDuration(b,h),t<p&&(b=o.period,h=o.count,t=p),k=b,"WW"==k&&(k="DD"),this.currentDateFormat=this.dateFormatsObject[k],this.stepWidth=this.getStepWidth(r),v=Math.ceil(this.timeDifference/t)+1,o=n.resetDateToMin(new Date(this.startTime-t),b,h,u).getTime(),this.cellWidth=this.getStepWidth(r),r=Math.round(o/t),e=-1,r/2==Math.round(r/2)&&(e=-2,o-=t),r=this.start,r/2==Math.round(r/2)&&r--,0>r&&(r=0),g=this.end+2,g>=this.data.length&&(g=this.data.length),l=!1,l=!i,this.previousPos=-1e3,20<this.labelRotationR&&(this.safeDistance=5),tt=r,this.data[r].time!=n.resetDateToMin(new Date(this.data[r].time),b,h,u).getTime())for(p=0,ut=o,t=r;t<g;t++)s=this.data[t].time,this.checkPeriodChange(b,h,s,ut)&&(p++,2<=p&&(tt=t,t=g),ut=s);if(f&&1<h&&(s=this.chooseMinorFrequency(h),n.getPeriodDuration(b,s)),0<this.gridCountR)for(t=r;t<g;t++)(s=this.data[t].time,this.checkPeriodChange(b,h,s,o)&&t>=tt)&&(r=this.getCoordinate(t-this.start),f=!1,this.nextPeriod[k]&&(f=this.checkPeriodChange(this.nextPeriod[k],1,s,o,k))&&n.resetDateToMin(new Date(s),this.nextPeriod[k],1,u).getTime()!=s&&(f=!1),p=!1,f&&this.markPeriodChange?(f=this.dateFormatsObject[this.nextPeriod[k]],p=!0):f=this.dateFormatsObject[k],o=n.formatDate(new Date(s),f,a),(t!=e||i)&&(t!=v||y)||(o=" "),l?l=!1:(d||(p=!1),r-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(o=this.labelFunction(o,new Date(s),this,b,h,it)),this.boldLabels&&(p=!0),c=new this.axisItemRenderer(this,r,o,void 0,void 0,void 0,void 0,p),f=c.graphics(),this.pushAxisItem(c),f=f.getBBox().width,n.isModern||(f-=r),this.previousPos=r+f)),it=o=s)}}else if(this.cellWidth=this.getStepWidth(r),r<v&&(v=r),nt+=this.start,this.stepWidth=this.getStepWidth(r),0<v)for(u=Math.floor(r/v),s=this.chooseMinorFrequency(u),r=nt,r/2==Math.round(r/2)&&r--,0>r&&(r=0),d=0,this.widthField&&(r=this.start),this.end-r+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),t=r;t<=this.end+2;t++){if(v=!1,0<=t&&t<this.data.length?(h=this.data[t],o=h.category,v=h.forceShow):o="",f&&!isNaN(s))if(t/s==Math.round(t/s)||v)t/u==Math.round(t/u)||v||(this.gridAlpha=this.minorGridAlpha,o=void 0);else continue;else if(t/u!=Math.round(t/u)&&!v)continue;r=this.getCoordinate(t-nt);v=0;"start"==this.gridPosition&&(r-=this.cellWidth/2,v=this.cellWidth/2);c=!0;it=v;"start"==this.tickPosition&&(it=0,c=!1,v=0);(t!=e||i)&&(t!=this.end||y)||(o=void 0);Math.round(d/b)!=d/b&&(o=void 0);d++;l=this.cellWidth;rt&&(l=NaN,this.ignoreAxisWidth||!a.autoMargins)&&(l="right"==this.position?a.marginRight:a.marginLeft,l-=this.tickLength+10);this.labelFunction&&h&&(o=this.labelFunction(o,h,this));o=n.fixBrakes(o);p=!1;this.boldLabels&&(p=!0);t>this.end&&"start"==this.tickPosition&&(o=" ");this.rotate&&this.inside&&(v-=2);isNaN(h.widthValue)||(h.percentWidthValue=h.widthValue/w*100,l=this.rotate?this.height*h.widthValue/w:this.width*h.widthValue/w,r=g,g+=l,v=l/2);c=new this.axisItemRenderer(this,r,o,c,l,v,void 0,p,it,!1,h.labelColor,h.className);c.serialDataItem=h;this.pushAxisItem(c);this.gridAlpha=k}for(t=i=0;t<this.data.length;t++)(s=this.data[t])&&(this.parseDates&&!this.equalSpacing?(y=s.time,e=this.cellWidth,"MM"==this.minPeriod&&(e=864e5*n.daysInMonth(new Date(y))*this.stepWidth,s.cellWidth=e),y=Math.round((y-this.startTime)*this.stepWidth+e/2)):y=this.getCoordinate(t-nt),s.x[this.id]=y);if(this.widthField)for(t=this.start;t<=this.end;t++)s=this.data[t],e=s.widthValue,s.percentWidthValue=e/w*100,this.rotate?(y=this.height*e/w/2+i,i=this.height*e/w+i):(y=this.width*e/w/2+i,i=this.width*e/w+i),s.x[this.id]=y;for(w=this.guides.length,t=0;t<w;t++)(i=this.guides[t],u=u=u=f=e=NaN,y=i.above,i.toCategory&&(u=a.getCategoryIndexByValue(i.toCategory),isNaN(u)||(e=this.getCoordinate(u-nt),i.expand&&(e+=this.cellWidth/2),c=new this.axisItemRenderer(this,e,"",!0,NaN,NaN,i),this.pushAxisItem(c,y))),i.category&&(u=a.getCategoryIndexByValue(i.category),isNaN(u)||(f=this.getCoordinate(u-nt),i.expand&&(f-=this.cellWidth/2),u=(e-f)/2,c=new this.axisItemRenderer(this,f,i.label,!0,NaN,u,i),this.pushAxisItem(c,y))),d=a.dataDateFormat,i.toDate&&(!d||i.toDate instanceof Date||(i.toDate=i.toDate.toString()+" |"),i.toDate=n.getDate(i.toDate,d),this.equalSpacing?(u=a.getClosestIndex(this.data,"time",i.toDate.getTime(),!1,0,this.data.length-1),isNaN(u)||(e=this.getCoordinate(u-nt))):e=(i.toDate.getTime()-this.startTime)*this.stepWidth,c=new this.axisItemRenderer(this,e,"",!0,NaN,NaN,i),this.pushAxisItem(c,y)),i.date&&(!d||i.date instanceof Date||(i.date=i.date.toString()+" |"),i.date=n.getDate(i.date,d),this.equalSpacing?(u=a.getClosestIndex(this.data,"time",i.date.getTime(),!1,0,this.data.length-1),isNaN(u)||(f=this.getCoordinate(u-nt))):f=(i.date.getTime()-this.startTime)*this.stepWidth,u=(e-f)/2,c=!0,i.toDate&&(c=!1),c="H"==this.orientation?new this.axisItemRenderer(this,f,i.label,c,2*u,NaN,i):new this.axisItemRenderer(this,f,i.label,!1,NaN,u,i),this.pushAxisItem(c,y)),i.balloonText&&c&&(u=c.label)&&this.addEventListeners(u,i),0<e||0<f)&&(u=!1,this.rotate?(e<this.height||f<this.height)&&(u=!0):(e<this.width||f<this.width)&&(u=!0),u&&(e=new this.guideFillRenderer(this,f,e,i),f=e.graphics(),this.pushAxisItem(e,y),i.graphics=f,f.index=t,i.balloonText&&this.addEventListeners(f,i)));(a=a.chartCursor)&&(rt?a.fixHeight(this.cellWidth):(a.fixWidth(this.cellWidth),a.fullWidth&&this.balloon&&(this.balloon.minWidth=this.cellWidth)));this.previousHeight=ft}this.axisCreated=!0;this.set.translate(this.x,this.y);this.labelsSet.translate(this.x,this.y);this.labelsSet.show();this.positionTitle();(rt=this.axisLine.set)&&rt.toFront();ft=this.getBBox().height;2<ft-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1)},xToIndex:function(t){var f=this.data,e=this.chart,s=e.rotate,r=this.stepWidth,i,u,o;if(this.parseDates&&!this.equalSpacing)t=this.startTime+Math.round(t/r)-this.minDuration()/2,i=e.getClosestIndex(f,"time",t,!1,this.start,this.end+1);else if(this.widthField)for(e=Infinity,r=this.start;r<=this.end;r++)u=this.data[r],u&&(u=Math.abs(u.x[this.id]-t),u<e&&(e=u,i=r));else this.startOnAxis||(t-=r/2),i=this.start+Math.round(t/r);return i=n.fitToBounds(i,0,f.length-1),f[i]&&(o=f[i].x[this.id]),s?o>this.height+1&&i--:o>this.width+1&&i--,0>o&&i++,n.fitToBounds(i,0,f.length-1)},dateToCoordinate:function(n){return this.parseDates&&!this.equalSpacing?(n.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(n=this.chart.getClosestIndex(this.data,"time",n.getTime(),!1,0,this.data.length-1),this.getCoordinate(n-this.start)):NaN},categoryToCoordinate:function(n){if(this.chart){if(this.parseDates)return this.dateToCoordinate(new Date(n));if(n=this.chart.getCategoryIndexByValue(n),!isNaN(n))return this.getCoordinate(n-this.start)}else return NaN},coordinateToDate:function(n){return this.equalSpacing?(n=this.xToIndex(n),new Date(this.data[n].time)):new Date(this.startTime+n/this.stepWidth)},coordinateToValue:function(n){return n=this.xToIndex(n),(n=this.data[n])?this.parseDates?n.time:n.category:void 0},getCoordinate:function(n){return n*=this.stepWidth,this.startOnAxis||(n+=this.stepWidth/2),Math.round(n)},formatValue:function(t,i){return i||(i=this.currentDateFormat),this.parseDates&&(t=n.formatDate(new Date(t),i,this.chart)),t},showBalloonAt:function(n,t){return void 0===t&&(t=this.parseDates?this.dateToCoordinate(new Date(n)):this.categoryToCoordinate(n)),this.adjustBalloonCoordinate(t)},formatBalloonText:function(t,i,r){var u="",f="",s=this.chart,e=this.data[i],o;return e&&(this.parseDates?(u=n.formatDate(e.category,r,s),i=n.changeDate(new Date(e.category),this.minPeriod,1),f=n.formatDate(i,r,s),-1!=u.indexOf("fff")&&(u=n.formatMilliseconds(u,e.category),f=n.formatMilliseconds(f,i))):(this.data[i+1]&&(o=this.data[i+1]),u=n.fixNewLines(e.category),o&&(f=n.fixNewLines(o.category)))),t=t.replace(/\[\[category\]\]/g,String(u)),t.replace(/\[\[toCategory\]\]/g,String(f))},adjustBalloonCoordinate:function(n,t){var e=this.xToIndex(n),r=this.chart.chartCursor,f,i,u,o;return this.stickBalloonToCategory&&(f=this.data[e],f&&(n=f.x[this.id]),this.stickBalloonToStart&&(n-=this.cellWidth/2),i=0,r&&(u=r.limitToGraph,u&&(o=u.valueAxis.id,u.hidden||(i=f.axes[o].graphs[u.id].y)),this.rotate?("left"==this.position?(u&&(i-=r.width),0<i&&(i=0)):0>i&&(i=0),r.fixHLine(n,i)):("top"==this.position?(u&&(i-=r.height),0<i&&(i=0)):0>i&&(i=0),r.fixVLine(n,i)))),r&&!t&&(r.setIndex(e),this.parseDates&&r.setTimestamp(this.coordinateToDate(n).getTime())),n}})}(),function(){var n=window.AmCharts;n.AmRectangularChart=n.Class({inherits:n.AmCoordinateChart,construct:function(t){n.AmRectangularChart.base.construct.call(this,t);this.theme=t;this.createEvents("zoomed","changed");this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20;this.depth3D=this.angle=0;this.plotAreaFillColors="#FFFFFF";this.plotAreaFillAlphas=0;this.plotAreaBorderColor="#000000";this.plotAreaBorderAlpha=0;this.maxZoomFactor=20;this.zoomOutButtonImageSize=19;this.zoomOutButtonImage="lens";this.zoomOutText="Show all";this.zoomOutButtonColor="#e5e5e5";this.zoomOutButtonAlpha=0;this.zoomOutButtonRollOverAlpha=1;this.zoomOutButtonPadding=8;this.trendLines=[];this.autoMargins=!0;this.marginsUpdated=!1;this.autoMarginOffset=10;n.applyTheme(this,t,"AmRectangularChart")},initChart:function(){n.AmRectangularChart.base.initChart.call(this);this.updateDxy();!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1);this.processScrollbars();this.updateMargins();this.updatePlotArea();this.updateScrollbars();this.updateTrendLines();this.updateChartCursor();this.updateValueAxes();this.scrollbarOnly||this.updateGraphs()},drawChart:function(){if(n.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),n.ifArray(this.chartData)){var t=this.chartCursor;t&&t.draw()}},resetMargins:function(){var i={},n,t,r,u;if("xy"==this.type){for(t=this.xAxes,r=this.yAxes,n=0;n<t.length;n++)u=t[n],u.ignoreAxisWidth||(u.setOrientation(!0),u.fixAxisPosition(),i[u.position]=!0);for(n=0;n<r.length;n++)t=r[n],t.ignoreAxisWidth||(t.setOrientation(!1),t.fixAxisPosition(),i[t.position]=!0)}else{for(r=this.valueAxes,n=0;n<r.length;n++)t=r[n],t.ignoreAxisWidth||(t.setOrientation(this.rotate),t.fixAxisPosition(),i[t.position]=!0);(n=this.categoryAxis)&&!n.ignoreAxisWidth&&(n.setOrientation(!this.rotate),n.fixAxisPosition(),n.fixAxisPosition(),i[n.position]=!0)}i.left&&(this.marginLeft=0);i.right&&(this.marginRight=0);i.top&&(this.marginTop=0);i.bottom&&(this.marginBottom=0);this.fixMargins=i},measureMargins:function(){for(var f=this.valueAxes,t=this.autoMarginOffset,e=this.fixMargins,s=this.realWidth,h=this.realHeight,i=t,r=t,u=s,n=h,o=0;o<f.length;o++)f[o].handleSynchronization(),n=this.getAxisBounds(f[o],i,u,r,n),i=Math.round(n.l),u=Math.round(n.r),r=Math.round(n.t),n=Math.round(n.b);(f=this.categoryAxis)&&(n=this.getAxisBounds(f,i,u,r,n),i=Math.round(n.l),u=Math.round(n.r),r=Math.round(n.t),n=Math.round(n.b));e.left&&i<t&&(this.marginLeft=Math.round(-i+t),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft));e.right&&u>=s-t&&(this.marginRight=Math.round(u-s+t),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight));e.top&&r<t+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-r+t+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop));e.bottom&&n>h-t&&(this.marginBottom=Math.round(this.marginBottom+n-h+t),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom));this.initChart()},getAxisBounds:function(n,t,i,r,u){if(!n.ignoreAxisWidth){var f=n.labelsSet,e=n.tickLength;if(n.inside&&(e=0),f)switch(f=n.getBBox(),n.position){case"top":n=f.y;r>n&&(r=n);break;case"bottom":n=f.y+f.height;u<n&&(u=n);break;case"right":n=f.x+f.width+e+3;i<n&&(i=n);break;case"left":n=f.x-e;t>n&&(t=n)}}return{l:t,t:r,r:i,b:u}},drawZoomOutButton:function(){var t=this,r,i,u,o;if(!t.zbSet){r=t.container.set();t.zoomButtonSet.push(r);var f=t.color,h=t.fontSize,a=t.zoomOutButtonImageSize,l=t.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),v=t.langObj.zoomOutText||t.zoomOutText,e=t.zoomOutButtonColor,c=t.zoomOutButtonAlpha,i=t.zoomOutButtonFontSize,s=t.zoomOutButtonPadding;for(isNaN(i)||(h=i),(i=t.zoomOutButtonFontColor)&&(f=i),i=t.zoomOutButton,i&&(i.fontSize&&(h=i.fontSize),i.color&&(f=i.color),i.backgroundColor&&(e=i.backgroundColor),isNaN(i.backgroundAlpha)||(t.zoomOutButtonRollOverAlpha=i.backgroundAlpha)),o=i=0,o=t.pathToImages,l&&((n.isAbsolute(l)||void 0===o)&&(o=""),u=t.container.image(o+l+t.extension,0,0,a,a),n.setCN(t,u,"zoom-out-image"),r.push(u),u=u.getBBox(),i=u.width+5),void 0!==v&&(f=n.text(t.container,v,f,t.fontFamily,h,"start"),n.setCN(t,f,"zoom-out-label"),h=f.getBBox(),o=u?u.height/2-3:h.height/2,f.translate(i,o),r.push(f)),u=r.getBBox(),f=1,n.isModern||(f=0),e=n.rect(t.container,u.width+2*s+5,u.height+2*s-2,e,1,1,e,f),e.setAttr("opacity",c),e.translate(-s,-s),n.setCN(t,e,"zoom-out-bg"),r.push(e),e.toBack(),t.zbBG=e,u=e.getBBox(),r.translate(t.marginLeftReal+t.plotAreaWidth-u.width+s,t.marginTopReal+s),r.hide(),r.mouseover(function(){t.rollOverZB()}).mouseout(function(){t.rollOutZB()}).click(function(){t.clickZB()}).touchstart(function(){t.rollOverZB()}).touchend(function(){t.rollOutZB();t.clickZB()}),c=0;c<r.length;c++)r[c].attr({cursor:"pointer"});void 0!==t.zoomOutButtonTabIndex&&(r.setAttr("tabindex",t.zoomOutButtonTabIndex),r.setAttr("role","menuitem"),r.keyup(function(n){13==n.keyCode&&t.clickZB()}));t.zbSet=r}},rollOverZB:function(){this.rolledOverZB=!0;this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1;this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1;this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var i=this.dx,u=this.dy,e=this.marginLeftReal,s=this.marginTopReal,r=this.plotAreaWidth-1,o=this.plotAreaHeight-1,t=this.plotAreaFillColors,f=this.plotAreaFillAlphas,h=this.plotAreaBorderColor,c=this.plotAreaBorderAlpha;"object"==typeof f&&(f=f[0]);t=n.polygon(this.container,[0,r,r,0,0],[0,0,o,o,0],t,f,1,h,c,this.plotAreaGradientAngle);n.setCN(this,t,"plot-area");t.translate(e+i,s+u);this.set.push(t);0!==i&&0!==u&&(t=this.plotAreaFillColors,"object"==typeof t&&(t=t[0]),t=n.adjustLuminosity(t,-.15),r=n.polygon(this.container,[0,i,r+i,r,0],[0,u,u,0,0],t,f,1,h,c),n.setCN(this,r,"plot-area-bottom"),r.translate(e,s+o),this.set.push(r),i=n.polygon(this.container,[0,0,i,i,0],[0,o,o+u,u,0],t,f,1,h,c),n.setCN(this,i,"plot-area-left"),i.translate(e,s),this.set.push(i));(e=this.bbset)&&this.scrollbarOnly&&e.remove()},updatePlotArea:function(){var n=this.updateWidth(),t=this.updateHeight(),i=this.container;this.realWidth=n;this.realWidth=t;i&&this.container.setSize(n,t);var i=this.marginLeftReal,r=this.marginTopReal,n=n-i-this.marginRightReal-this.dx,t=t-r-this.marginBottomReal;1>n&&(n=1);1>t&&(t=1);this.plotAreaWidth=Math.round(n);this.plotAreaHeight=Math.round(t);this.plotBalloonsSet.translate(i,r)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180));this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180));this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180));this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var n=this.getTitleHeight();this.titleHeight=n;this.marginTopReal=this.marginTop-this.dy;this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=n);this.marginBottomReal=this.marginBottom;this.marginLeftReal=this.marginLeft;this.marginRightReal=this.marginRight},updateValueAxes:function(){for(var i=this.valueAxes,n,t=0;t<i.length;t++)n=i[t],this.setAxisRenderers(n),this.updateObjectSize(n)},setAxisRenderers:function(t){t.axisRenderer=n.RecAxis;t.guideFillRenderer=n.RecFill;t.axisItemRenderer=n.RecItem;t.marginsChanged=!0},updateGraphs:function(){for(var i=this.graphs,n,t=0;t<i.length;t++)n=i[t],n.index=t,n.rotate=this.rotate,this.updateObjectSize(n)},updateObjectSize:function(n){n.width=this.plotAreaWidth-1;n.height=this.plotAreaHeight-1;n.x=this.marginLeftReal;n.y=this.marginTopReal;n.dx=this.dx;n.dy=this.dy},updateChartCursor:function(){var t=this.chartCursor;t&&(t=n.processObject(t,n.ChartCursor,this.theme),this.updateObjectSize(t),this.addChartCursor(t),t.chart=this)},processScrollbars:function(){var t=this.chartScrollbar;t&&(t=n.processObject(t,n.ChartScrollbar,this.theme),this.addChartScrollbar(t))},updateScrollbars:function(){},removeChartCursor:function(){n.callMethod("destroy",[this.chartCursor]);this.chartCursor=null},zoomTrendLines:function(){for(var i=this.trendLines,n,t=0;t<i.length;t++)n=i[t],n.valueAxis.recalculateToPercents?n.set&&n.set.hide():(n.x=this.marginLeftReal,n.y=this.marginTopReal,n.draw())},handleCursorValueZoom:function(){},addTrendLine:function(n){this.trendLines.push(n)},zoomOutValueAxes:function(){for(var t=this.valueAxes,n=0;n<t.length;n++)t[n].zoomOut()},removeTrendLine:function(n){for(var i=this.trendLines,t=i.length-1;0<=t;t--)i[t]==n&&i.splice(t,1)},adjustMargins:function(n,t){var r=n.position,i=n.scrollbarHeight+n.offset;n.enabled&&("top"==r?t?this.marginLeftReal+=i:this.marginTopReal+=i:t?this.marginRightReal+=i:this.marginBottomReal+=i)},getScrollbarPosition:function(n,t,i){var r="bottom",u="top";n.oppositeAxis||(u=r,r="top");n.position=t?"bottom"==i||"left"==i?r:u:"top"==i||"right"==i?r:u},updateChartScrollbar:function(n,t){if(n){n.rotate=t;var i=this.marginTopReal,u=this.marginLeftReal,f=n.scrollbarHeight,e=this.dx,o=this.dy,r=n.offset;"top"==n.position?t?(n.y=i,n.x=u-f-r):(n.y=i-f+o-r,n.x=u+e):t?(n.y=i+o,n.x=u+this.plotAreaWidth+e+r):(n.y=i+this.plotAreaHeight+r,n.x=this.marginLeftReal)}},showZB:function(n){var t=this.zbSet;n&&(t=this.zoomOutText,""!==t&&t&&this.drawZoomOutButton());(t=this.zbSet)&&(this.zoomButtonSet.push(t),n?t.show():t.hide(),this.rollOutZB())},handleReleaseOutside:function(t){n.AmRectangularChart.base.handleReleaseOutside.call(this,t);(t=this.chartCursor)&&t.handleReleaseOutside&&t.handleReleaseOutside()},handleMouseDown:function(t){n.AmRectangularChart.base.handleMouseDown.call(this,t);var i=this.chartCursor;i&&i.handleMouseDown&&!this.rolledOverZB&&i.handleMouseDown(t)},update:function(){n.AmRectangularChart.base.update.call(this);this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(n){this.relativeZoomValueAxes(n.target.valueAxes,n.relativeStart,n.relativeEnd);this.zoomAxesAndGraphs()},zoomValueScrollbar:function(n){if(n&&n.enabled){var t=n.valueAxes[0],i=t.relativeStart,r=t.relativeEnd;t.reversed&&(r=1-i,i=1-t.relativeEnd);n.percentZoom(i,r)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){for(var t=this.valueAxes,n=0;n<t.length;n++)t[n].zoom(this.start,this.end);for(t=this.graphs,n=0;n<t.length;n++)t[n].zoom(this.start,this.end);(n=this.chartCursor)&&n.clearSelection();this.zoomTrendLines()}},handleValueAxisZoomReal:function(n,t){var i=n.relativeStart,r=n.relativeEnd;if(i>r)var u=i,i=r,r=u;this.relativeZoomValueAxes(t,i,r);this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs();this.zoomScrollbar()},relativeZoomValueAxes:function(t,i,r){var u,f,e;if(i=n.fitToBounds(i,0,1),r=n.fitToBounds(r,0,1),i>r&&(u=i,i=r,r=u),u=1/this.maxZoomFactor,f=n.getDecimals(u)+4,r-i<u&&(r=i+(r-i)/2,i=r-u/2,r+=u/2),i=n.roundTo(i,f),r=n.roundTo(r,f),u=!1,t){for(f=0;f<t.length;f++)e=t[f].zoomToRelativeValues(i,r,!0),e&&(u=e);this.showZB()}return u},addChartCursor:function(t){n.callMethod("destroy",[this.chartCursor]);t&&(this.listenTo(t,"moved",this.handleCursorMove),this.listenTo(t,"zoomed",this.handleCursorZoom),this.listenTo(t,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(t,"panning",this.handleCursorPanning),this.listenTo(t,"onHideCursor",this.handleCursorHide));this.chartCursor=t},handleCursorChange:function(){},handleCursorMove:function(n){for(var r=this.valueAxes,t,i=0;i<r.length;i++)n.panning||(t=r[i],t&&t.showBalloon&&t.showBalloon(n.x,n.y))},handleCursorZoom:function(n){if(this.skipZoomed)this.skipZoomed=!1;else{var t=this.startX0,r=this.endX0,u=this.endY0,i=this.startY0,f=n.startX,e=n.endX,o=n.startY,s=n.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN;this.handleCursorZoomReal(t+f*(r-t),t+e*(r-t),i+o*(u-i),i+s*(u-i),n)}},handleCursorHide:function(){for(var t=this.valueAxes,n=0;n<t.length;n++)t[n].hideBalloon();for(t=this.graphs,n=0;n<t.length;n++)t[n].hideBalloonReal()}})}(),function(){var n=window.AmCharts;n.AmXYChart=n.Class({inherits:n.AmRectangularChart,construct:function(t){this.type="xy";n.AmXYChart.base.construct.call(this,t);this.cname="AmXYChart";this.theme=t;this.createEvents("zoomed");n.applyTheme(this,t,this.cname)},initChart:function(){n.AmXYChart.base.initChart.call(this);this.dataChanged&&this.updateData();this.drawChart();!this.marginsUpdated&&this.autoMargins&&(this.marginsUpdated=!0,this.measureMargins());var t=this.marginLeftReal,i=this.marginTopReal,r=this.plotAreaWidth,u=this.plotAreaHeight;this.graphsSet.clipRect(t,i,r,u);this.bulletSet.clipRect(t,i,r,u);this.trendLinesSet.clipRect(t,i,r,u);this.drawGraphs=!0;this.showZB()},prepareForExport:function(){var n=this.bulletSet;n.clipPath&&this.container.remove(n.clipPath)},createValueAxes:function(){var r=[],e=[],u,t,i,f;for(this.xAxes=r,this.yAxes=e,u=this.valueAxes,i=0;i<u.length;i++)t=u[i],f=t.position,("top"==f||"bottom"==f)&&(t.rotate=!0),t.setOrientation(t.rotate),f=t.orientation,"V"==f&&e.push(t),"H"==f&&r.push(t);for(0===e.length&&(t=new n.ValueAxis(this.theme),t.rotate=!1,t.setOrientation(!1),u.push(t),e.push(t)),0===r.length&&(t=new n.ValueAxis(this.theme),t.rotate=!0,t.setOrientation(!0),u.push(t),r.push(t)),i=0;i<u.length;i++)this.processValueAxis(u[i],i);for(r=this.graphs,i=0;i<r.length;i++)this.processGraph(r[i],i)},drawChart:function(){n.AmXYChart.base.drawChart.call(this);var t=this.chartData;this.legend&&(this.legend.valueText=void 0);0<this.realWidth&&0<this.realHeight&&(n.ifArray(t)?(this.chartScrollbar&&this.updateScrollbars(),this.zoomChart()):this.cleanChart(),(t=this.scrollbarH)&&(this.hideXScrollbar?(t&&t.destroy(),this.scrollbarH=null):t.draw()),(t=this.scrollbarV)&&(this.hideYScrollbar?(t.destroy(),this.scrollbarV=null):t.draw()),this.zoomScrollbar());this.autoMargins&&!this.marginsUpdated||this.dispDUpd()},cleanChart:function(){n.callMethod("destroy",[this.valueAxes,this.graphs,this.scrollbarV,this.scrollbarH,this.chartCursor])},zoomChart:function(){this.zoomObjects(this.valueAxes);this.zoomObjects(this.graphs);this.zoomTrendLines();this.prevPlotAreaWidth=this.plotAreaWidth;this.prevPlotAreaHeight=this.plotAreaHeight},validateData:function(){if(this.zoomOutOnDataUpdate)for(var i=this.valueAxes,t=0;t<i.length;t++)i[t].minZoom=NaN,i[t].maxZoom=NaN;n.AmXYChart.base.validateData.call(this)},zoomObjects:function(n){for(var r=n.length,i,t=0;t<r;t++)i=n[t],i.zoom(0,this.chartData.length-1)},updateData:function(){var u,i;this.parseData();var r=this.chartData,h=r.length-1,f=this.graphs,s=this.dataProvider,e=-Infinity,o=Infinity,t,n;if(s){for(t=0;t<f.length;t++)if(n=f[t],n.data=r,n.zoom(0,h),n=n.valueField)for(u=0;u<s.length;u++)i=Number(s[u][n]),null!==i&&(i>e&&(e=i),i<o&&(o=i));for(isNaN(this.minValue)||(o=this.minValue),isNaN(this.maxValue)||(e=this.maxValue),t=0;t<f.length;t++)n=f[t],n.maxValue=e,n.minValue=o;(r=this.chartCursor)&&(r.type="crosshair",r.valueBalloonsEnabled=!1);this.dataChanged=!1;this.dispatchDataUpdated=!0}},processValueAxis:function(n){n.chart=this;n.minMaxField="H"==n.orientation?"x":"y";n.min=NaN;n.max=NaN},processGraph:function(t){n.isString(t.xAxis)&&(t.xAxis=this.getValueAxisById(t.xAxis));n.isString(t.yAxis)&&(t.yAxis=this.getValueAxisById(t.yAxis));t.xAxis||(t.xAxis=this.xAxes[0]);t.yAxis||(t.yAxis=this.yAxes[0]);t.valueAxis=t.yAxis},parseData:function(){var f,h,i,a,r,e,t;n.AmXYChart.base.parseData.call(this);this.chartData=[];var c=this.dataProvider,v=this.valueAxes,y=this.graphs,o;if(c)for(o=0;o<c.length;o++){for(var s={axes:{},x:{},y:{}},p=this.dataDateFormat,u=c[o],l=0;l<v.length;l++)for(f=v[l].id,s.axes[f]={},s.axes[f].graphs={},h=0;h<y.length;h++)i=y[h],a=i.id,(i.xAxis.id==f||i.yAxis.id==f)&&(r={},r.serialDataItem=s,r.index=o,e={},t=u[i.valueField],null!==t&&(t=Number(t),isNaN(t)||(e.value=t)),t=u[i.xField],null!==t&&("date"==i.xAxis.type&&(t=n.getDate(u[i.xField],p).getTime()),t=Number(t),isNaN(t)||(e.x=t)),t=u[i.yField],null!==t&&("date"==i.yAxis.type&&(t=n.getDate(u[i.yField],p).getTime()),t=Number(t),isNaN(t)||(e.y=t)),t=u[i.errorField],null!==t&&(t=Number(t),isNaN(t)||(e.error=t)),r.values=e,this.processFields(i,r,u),r.serialDataItem=s,r.graph=i,s.axes[f].graphs[a]=r);this.chartData[o]=s}this.start=0;this.end=this.chartData.length-1},formatString:function(t,i,r){var e=i.graph,o=e.numberFormatter,u,f;return o||(o=this.nf),"date"==i.graph.xAxis.type&&(u=n.formatDate(new Date(i.values.x),e.dateFormat,this),f=RegExp("\\[\\[x\\]\\]","g"),t=t.replace(f,u)),"date"==i.graph.yAxis.type&&(u=n.formatDate(new Date(i.values.y),e.dateFormat,this),f=RegExp("\\[\\[y\\]\\]","g"),t=t.replace(f,u)),t=n.formatValue(t,i.values,["value","x","y"],o),-1!=t.indexOf("[[")&&(t=n.formatDataContextValue(t,i.dataContext)),n.AmXYChart.base.formatString.call(this,t,i,r)},addChartScrollbar:function(t){var r,i;n.callMethod("destroy",[this.chartScrollbar,this.scrollbarH,this.scrollbarV]);t&&(this.chartScrollbar=t,this.scrollbarHeight=t.scrollbarHeight,r="backgroundColor backgroundAlpha selectedBackgroundColor selectedBackgroundAlpha scrollDuration resizeEnabled hideResizeGrips scrollbarHeight updateOnReleaseOnly".split(" "),this.hideYScrollbar||(i=new n.ChartScrollbar(this.theme),i.skipEvent=!0,i.chart=this,this.listenTo(i,"zoomed",this.handleScrollbarValueZoom),n.copyProperties(t,i,r),i.rotate=!0,this.scrollbarV=i),this.hideXScrollbar||(i=new n.ChartScrollbar(this.theme),i.skipEvent=!0,i.chart=this,this.listenTo(i,"zoomed",this.handleScrollbarValueZoom),n.copyProperties(t,i,r),i.rotate=!1,this.scrollbarH=i))},updateTrendLines:function(){for(var u=this.trendLines,t,i,r=0;r<u.length;r++)t=u[r],t=n.processObject(t,n.TrendLine,this.theme),u[r]=t,t.chart=this,i=t.valueAxis,n.isString(i)&&(t.valueAxis=this.getValueAxisById(i)),i=t.valueAxisX,n.isString(i)&&(t.valueAxisX=this.getValueAxisById(i)),t.id||(t.id="trendLineAuto"+r+"_"+(new Date).getTime()),t.valueAxis||(t.valueAxis=this.yAxes[0]),t.valueAxisX||(t.valueAxisX=this.xAxes[0])},updateMargins:function(){n.AmXYChart.base.updateMargins.call(this);var t=this.scrollbarV;t&&(this.getScrollbarPosition(t,!0,this.yAxes[0].position),this.adjustMargins(t,!0));(t=this.scrollbarH)&&(this.getScrollbarPosition(t,!1,this.xAxes[0].position),this.adjustMargins(t,!1))},updateScrollbars:function(){n.AmXYChart.base.updateScrollbars.call(this);var t=this.scrollbarV;t&&(this.updateChartScrollbar(t,!0),t.valueAxes=this.yAxes,t.gridAxis||(t.gridAxis=this.yAxes[0]));(t=this.scrollbarH)&&(this.updateChartScrollbar(t,!1),t.valueAxes=this.xAxes,t.gridAxis||(t.gridAxis=this.xAxes[0]))},removeChartScrollbar:function(){n.callMethod("destroy",[this.scrollbarH,this.scrollbarV]);this.scrollbarV=this.scrollbarH=null},handleReleaseOutside:function(t){n.AmXYChart.base.handleReleaseOutside.call(this,t);n.callMethod("handleReleaseOutside",[this.scrollbarH,this.scrollbarV])},update:function(){n.AmXYChart.base.update.call(this);this.scrollbarH&&this.scrollbarH.update&&this.scrollbarH.update();this.scrollbarV&&this.scrollbarV.update&&this.scrollbarV.update()},zoomScrollbar:function(){this.zoomValueScrollbar(this.scrollbarV);this.zoomValueScrollbar(this.scrollbarH)},handleCursorZoomReal:function(n,t,i,r){isNaN(n)||isNaN(t)||this.relativeZoomValueAxes(this.xAxes,n,t);isNaN(i)||isNaN(r)||this.relativeZoomValueAxes(this.yAxes,i,r);this.updateAfterValueZoom()},handleCursorZoomStarted:function(){if(this.xAxes){var n=this.xAxes[0];this.startX0=n.relativeStart;this.endX0=n.relativeEnd;n.reversed&&(this.startX0=1-n.relativeEnd,this.endX0=1-n.relativeStart)}this.yAxes&&(n=this.yAxes[0],this.startY0=n.relativeStart,this.endY0=n.relativeEnd,n.reversed&&(this.startY0=1-n.relativeEnd,this.endY0=1-n.relativeStart))},updateChartCursor:function(){var t,e,r,i;if(n.AmXYChart.base.updateChartCursor.call(this),t=this.chartCursor,t){if(t.valueLineEnabled=!0,t.categoryLineAxis||(t.categoryLineAxis=this.xAxes[0]),r=this.valueAxis,t.valueLineBalloonEnabled){var u=t.categoryBalloonAlpha,f=t.categoryBalloonColor,o=t.color;for(void 0===f&&(f=t.cursorColor),e=0;e<this.valueAxes.length;e++)r=this.valueAxes[e],i=r.balloon,i||(i={}),i=n.extend(i,this.balloon,!0),i.fillColor=f,i.balloonColor=f,i.fillAlpha=u,i.borderColor=f,i.color=o,r.balloon=i}else for(u=0;u<this.valueAxes.length;u++)r=this.valueAxes[u],r.balloon&&(r.balloon=null);t.zoomable&&(this.hideYScrollbar||(t.vZoomEnabled=!0),this.hideXScrollbar||(t.hZoomEnabled=!0))}},handleCursorPanning:function(t){var u=t.deltaX,i=t.delta2X,f;isNaN(i)&&(i=u,f=!0);var o=this.endX0,e=this.startX0,r=o-e,i=o-r*i,o=r;f||(o=0);u=n.fitToBounds(e-r*u,0,1-o);i=n.fitToBounds(i,o,1);this.relativeZoomValueAxes(this.xAxes,u,i);r=t.deltaY;t=t.delta2Y;isNaN(t)&&(t=r,f=!0);i=this.endY0;u=this.startY0;e=i-u;r=i+e*r;i=e;f||(i=0);f=n.fitToBounds(u+e*t,0,1-i);r=n.fitToBounds(r,i,1);this.relativeZoomValueAxes(this.yAxes,f,r);this.updateAfterValueZoom()},handleValueAxisZoom:function(n){this.handleValueAxisZoomReal(n,"V"==n.valueAxis.orientation?this.yAxes:this.xAxes)},showZB:function(){var i,r=this.valueAxes,t,u;if(r)for(t=0;t<r.length;t++)u=r[t],0!==u.relativeStart&&(i=!0),1!=u.relativeEnd&&(i=!0);n.AmXYChart.base.showZB.call(this,i)}})}();AmCharts.translations["export"]||(AmCharts.translations["export"]={});AmCharts.translations["export"].en||(AmCharts.translations["export"].en={"fallback.save.text":"CTRL + C to copy the data into the clipboard.","fallback.save.image":"Rightclick -> Save picture as... to save the image.","capturing.delayed.menu.label":"{{duration}}","capturing.delayed.menu.title":"Click to cancel","menu.label.print":"Print","menu.label.undo":"Undo","menu.label.redo":"Redo","menu.label.cancel":"Cancel","menu.label.save.image":"Download as ...","menu.label.save.data":"Save as ...","menu.label.draw":"Annotate ...","menu.label.draw.change":"Change ...","menu.label.draw.add":"Add ...","menu.label.draw.shapes":"Shape ...","menu.label.draw.colors":"Color ...","menu.label.draw.widths":"Size ...","menu.label.draw.opacities":"Opacity ...","menu.label.draw.text":"Text","menu.label.draw.modes":"Mode ...","menu.label.draw.modes.pencil":"Pencil","menu.label.draw.modes.line":"Line","menu.label.draw.modes.arrow":"Arrow","label.saved.from":"Saved from: "}),function(){AmCharts["export"]=function(n,t){var r,i={name:"export",version:"1.4.56",libs:{async:!0,autoLoad:!0,reload:!1,resources:["fabric.js/fabric.min.js","FileSaver.js/FileSaver.min.js",{"jszip/jszip.min.js":["xlsx/xlsx.min.js"],"pdfmake/pdfmake.min.js":["pdfmake/vfs_fonts.js"]}],namespaces:{"pdfmake.min.js":"pdfMake","jszip.min.js":"JSZip","xlsx.min.js":"XLSX","fabric.min.js":"fabric","FileSaver.min.js":"saveAs"},loadTimeout:1e4},config:{},setup:{chart:n,hasBlob:!1,wrapper:!1,isIE:!!window.document.documentMode,IEversion:window.document.documentMode,hasTouch:typeof Touch=="object"},drawing:{enabled:!1,undos:[],redos:[],buffer:{position:{x1:0,y1:0,x2:0,y2:0,xD:0,yD:0}},handler:{undo:function(n,t){var r=i.drawing.undos.pop(),u;r&&(r.selectable=!0,i.drawing.redos.push(r),r.action=="added"&&i.setup.fabric.remove(r.target),u=JSON.parse(r.state),r.target.set(u),r.target instanceof fabric.Group&&i.drawing.handler.change({color:u.cfg.color,width:u.cfg.width,opacity:u.cfg.opacity},!0,r.target),i.setup.fabric.renderAll(),r.state!=r.target.recentState||t||i.drawing.handler.undo(r,!0))},redo:function(){var n=i.drawing.redos.pop(),t;n&&(n.selectable=!0,i.drawing.undos.push(n),n.action=="added"&&i.setup.fabric.add(n.target),t=JSON.parse(n.state),n.target.recentState=n.state,n.target.set(t),n.target instanceof fabric.Group&&i.drawing.handler.change({color:t.cfg.color,width:t.cfg.width,opacity:t.cfg.opacity},!0,n.target),i.setup.fabric.renderAll(),n.action=="addified"&&i.drawing.handler.redo())},done:function(){i.drawing.enabled=!1;i.drawing.buffer.enabled=!1;i.drawing.undos=[];i.drawing.redos=[];i.createMenu(i.config.menu);i.setup.fabric.deactivateAll();i.setup.wrapper&&(i.setup.chart.containerDiv.removeChild(i.setup.wrapper),i.setup.wrapper=!1)},add:function(n){var t=i.deepMerge({top:i.setup.fabric.height/2,left:i.setup.fabric.width/2},n||{}),r=t.url.indexOf(".svg")!=-1?fabric.loadSVGFromURL:fabric.Image.fromURL;r(t.url,function(n,r){var u=r!==undefined?fabric.util.groupSVGElements(n,r):n,f=!1;(u.height>i.setup.fabric.height||u.width>i.setup.fabric.width)&&(f=i.setup.fabric.height/2/u.height);t.top>i.setup.fabric.height&&(t.top=i.setup.fabric.height/2);t.left>i.setup.fabric.width&&(t.left=i.setup.fabric.width/2);i.drawing.buffer.isDrawing=!0;u.set({originX:"center",originY:"center",top:t.top,left:t.left,width:f?u.width*f:u.width,height:f?u.height*f:u.height,fill:i.drawing.color});i.setup.fabric.add(u)})},change:function(n,t,r){var u=i.deepMerge({},n||{}),s,f,h,o=r||i.drawing.buffer.target,e=o?o._objects?o._objects:[o]:null;if(u.mode&&(i.drawing.mode=u.mode),u.width&&(i.drawing.width=u.width,i.drawing.fontSize=u.fontSize=u.width*3,i.drawing.width==1&&(i.drawing.fontSize=u.fontSize=i.defaults.fabric.drawing.fontSize)),u.fontSize&&(i.drawing.fontSize=u.fontSize),u.color&&(i.drawing.color=u.color),u.opacity&&(i.drawing.opacity=u.opacity),h=i.getRGBA(i.drawing.color),h.pop(),h.push(i.drawing.opacity),i.drawing.color="rgba("+h.join()+")",i.setup.fabric.freeDrawingBrush.color=i.drawing.color,i.setup.fabric.freeDrawingBrush.width=i.drawing.width,o){for(s=JSON.parse(o.recentState).cfg,s&&(u.color=u.color||s.color,u.width=u.width||s.width,u.opacity=u.opacity||s.opacity,u.fontSize=u.fontSize||s.fontSize,h=i.getRGBA(u.color),h.pop(),h.push(u.opacity),u.color="rgba("+h.join()+")"),f=0;f<e.length;f++)e[f]instanceof fabric.Text||e[f]instanceof fabric.PathGroup||e[f]instanceof fabric.Triangle?((u.color||u.opacity)&&e[f].set({fill:u.color}),u.fontSize&&e[f].set({fontSize:u.fontSize})):(e[f]instanceof fabric.Path||e[f]instanceof fabric.Line)&&(o instanceof fabric.Group?(u.color||u.opacity)&&e[f].set({stroke:u.color}):((u.color||u.opacity)&&e[f].set({stroke:u.color}),u.width&&e[f].set({strokeWidth:u.width})));t||(s=JSON.stringify(i.deepMerge(o.saveState().originalState,{cfg:{color:u.color,width:u.width,opacity:u.opacity}})),o.recentState=s,i.drawing.redos=[],i.drawing.undos.push({action:"modified",target:o,state:s}));i.setup.fabric.renderAll()}},text:function(n){var r=i.deepMerge({text:i.i18l("menu.label.draw.text"),top:i.setup.fabric.height/2,left:i.setup.fabric.width/2,fontSize:i.drawing.fontSize,fontFamily:i.setup.chart.fontFamily||"Verdana",fill:i.drawing.color},n||{}),t;return r.click=function(){},t=new fabric.IText(r.text,r),i.drawing.buffer.isDrawing=!0,i.setup.fabric.add(t),i.setup.fabric.setActiveObject(t),t.selectAll(),t.enterEditing(),t},line:function(n){var t=i.deepMerge({x1:i.setup.fabric.width/2-i.setup.fabric.width/10,x2:i.setup.fabric.width/2+i.setup.fabric.width/10,y1:i.setup.fabric.height/2,y2:i.setup.fabric.height/2,angle:90,strokeLineCap:i.drawing.lineCap,arrow:i.drawing.arrow,color:i.drawing.color,width:i.drawing.width,group:[]},n||{}),u,s,f,e,o=new fabric.Line([t.x1,t.y1,t.x2,t.y2],{stroke:t.color,strokeWidth:t.width,strokeLineCap:t.strokeLineCap}),r;if(t.group.push(o),t.arrow&&(t.angle=t.angle?t.angle:i.getAngle(t.x1,t.y1,t.x2,t.y2),t.arrow=="start"?(f=t.y1+t.width/2,e=t.x1+t.width/2):t.arrow=="middle"?(f=t.y2+t.width/2-(t.y2-t.y1)/2,e=t.x2+t.width/2-(t.x2-t.x1)/2):(f=t.y2+t.width/2,e=t.x2+t.width/2),s=new fabric.Triangle({top:f,left:e,fill:t.color,height:t.width*7,width:t.width*7,angle:t.angle,originX:"center",originY:"bottom"}),t.group.push(s)),i.drawing.buffer.isDrawing=!0,t.action!="config")return t.arrow?(r=new fabric.Group(t.group),r.set({cfg:t,fill:t.color,action:t.action,selectable:!0,known:t.action=="change"}),t.action=="change"&&i.setup.fabric.setActiveObject(r),i.setup.fabric.add(r),r):(i.setup.fabric.add(o),o);for(u=0;u<t.group.length;u++)i.setup.fabric.add(t.group[u]);return t}}},defaults:{position:"top-right",fileName:"amCharts",action:"download",overflow:!0,path:(n.path||"")+"plugins/export/",formats:{JPG:{mimeType:"image/jpg",extension:"jpg",capture:!0},PNG:{mimeType:"image/png",extension:"png",capture:!0},SVG:{mimeType:"text/xml",extension:"svg",capture:!0},PDF:{mimeType:"application/pdf",extension:"pdf",capture:!0},CSV:{mimeType:"text/plain",extension:"csv"},JSON:{mimeType:"text/plain",extension:"json"},XLSX:{mimeType:"application/octet-stream",extension:"xlsx"}},fabric:{backgroundColor:"#FFFFFF",removeImages:!0,forceRemoveImages:!1,selection:!1,loadTimeout:5e3,drawing:{enabled:!0,arrow:"end",lineCap:"butt",mode:"pencil",modes:["pencil","line","arrow"],color:"#000000",colors:["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF"],shapes:["11.svg","14.svg","16.svg","17.svg","20.svg","27.svg"],width:1,fontSize:11,widths:[1,5,10,15],opacity:1,opacities:[1,.8,.6,.4,.2],menu:undefined,autoClose:!0},border:{fill:"",fillOpacity:0,stroke:"#000000",strokeWidth:1,strokeOpacity:1}},pdfMake:{images:{},pageOrientation:"portrait",pageMargins:40,pageOrigin:!0,pageSize:"A4",pageSizes:{"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]}},menu:undefined,divId:null,menuReviver:null,menuWalker:null,fallback:!0,keyListener:!0,fileListener:!0,compress:!0,debug:!1},i18l:function(n,t){var r=t?t:i.setup.chart.language?i.setup.chart.language:"en",u=AmCharts.translations[i.name][r]||AmCharts.translations[i.name].en;return u[n]||n},download:function(n,t,r){var o;if(window.saveAs&&i.setup.hasBlob)o=i.toBlob({data:n,type:t},function(n){saveAs(n,r)});else if(i.config.fallback&&t=="text/plain"){var u=document.createElement("div"),f=document.createElement("div"),e=document.createElement("textarea");f.innerHTML=i.i18l("fallback.save.text");u.appendChild(f);u.appendChild(e);f.setAttribute("class","amcharts-export-fallback-message");u.setAttribute("class","amcharts-export-fallback");i.setup.chart.containerDiv.appendChild(u);e.setAttribute("readonly","");e.value=n;e.focus();e.select();i.createMenu([{"class":"export-main export-close",label:"Done",click:function(){i.createMenu(i.config.menu);i.setup.chart.containerDiv.removeChild(u)}}])}else if(i.config.fallback&&t.split("/")[0]=="image"){var u=document.createElement("div"),f=document.createElement("div"),s=i.toImage({data:n});f.innerHTML=i.i18l("fallback.save.image");u.appendChild(f);u.appendChild(s);f.setAttribute("class","amcharts-export-fallback-message");u.setAttribute("class","amcharts-export-fallback");i.setup.chart.containerDiv.appendChild(u);i.createMenu([{"class":"export-main export-close",label:"Done",click:function(){i.createMenu(i.config.menu);i.setup.chart.containerDiv.removeChild(u)}}])}else throw new Error("Unable to create file. Ensure saveAs (FileSaver.js) is supported.");return n},loadResource:function(n,t){var u,o,r,f,e,c,s=n.indexOf("//")!=-1?n:[i.libs.path,n].join(""),h=function(){if(t)for(u=0;u<t.length;u++)i.loadResource(t[u])};for(n.indexOf(".js")!=-1?(r=document.createElement("script"),r.setAttribute("type","text/javascript"),r.setAttribute("src",s),i.libs.async&&r.setAttribute("async","")):n.indexOf(".css")!=-1&&(r=document.createElement("link"),r.setAttribute("type","text/css"),r.setAttribute("rel","stylesheet"),r.setAttribute("href",s)),u=0;u<document.head.childNodes.length;u++)if(f=document.head.childNodes[u],e=f?f.src||f.href:!1,c=f?f.tagName:!1,f&&e&&e.indexOf(n)!=-1){i.libs.reload&&document.head.removeChild(f);o=!0;break}for(u in i.libs.namespaces){var l=i.libs.namespaces[u],e=n.toLowerCase(),f=u.toLowerCase();if(e.indexOf(f)!=-1&&window[l]!==undefined){o=!0;break}}(!o||i.libs.reload)&&(r.addEventListener("load",h),r.addEventListener("error",function(){i.handleLog(["amCharts[export]: Loading error on ",this.src||this.href].join(""))}),document.head.appendChild(r),i.listenersToRemove||(i.listenersToRemove=[]),i.listenersToRemove.push({node:r,method:h,event:"load"}))},loadDependencies:function(){var n,t;if(i.libs.autoLoad)for(n=0;n<i.libs.resources.length;n++)if(i.libs.resources[n]instanceof Object)for(t in i.libs.resources[n])i.loadResource(t,i.libs.resources[n][t]);else i.loadResource(i.libs.resources[n])},pxToNumber:function(n,t){return!n&&t?undefined:Number(String(n).replace("px",""))||0},numberToPx:function(n){return String(n)+"px"},cloneObject:function(n){var r,t,u,f,e;r=Array.isArray(n)?[]:{};for(u in n)t=n[u],f=typeof t=="object",e=t instanceof Date,r[u]=f&&!e?i.cloneObject(t):t;return r},deepMerge:function(n,t,r){var f,u,e=t instanceof Array?"array":"object";if(!(n instanceof Object||n instanceof Array))return n;for(f in t)e=="array"&&isNaN(f)||(u=t[f],(n[f]==undefined||r)&&(u instanceof Array?n[f]=[]:u instanceof Function?n[f]=function(){}:u instanceof Date?n[f]=new Date:u instanceof Object?n[f]={}:u instanceof Number?n[f]=new Number:u instanceof String&&(n[f]=new String)),!(u instanceof Object||u instanceof Array)||u instanceof Function||u instanceof Date||i.isElement(u)||f=="chart"||f=="scope"?n instanceof Array&&!r?n.push(u):n[f]=u:i.deepMerge(n[f],u,r));return n},isElement:function(n){return n instanceof Object&&n&&n.nodeType===1},isHashbanged:function(n){var t=String(n).replace(/\"/g,"");return t.slice(0,3)=="url"?t.slice(t.indexOf("#")+1,t.length-1):!1},isPressed:function(n){return n.type=="mousemove"&&n.which===1||(i.drawing.buffer.isPressed=n.type=="touchmove"||n.buttons===1||n.button===1||n.which===1?!0:!1),i.drawing.buffer.isPressed},removeImage:function(n){return n&&(i.config.fabric.forceRemoveImages||i.config.fabric.removeImages&&i.isTainted(n)||i.setup.isIE&&(i.setup.IEversion==10||i.setup.IEversion==11)&&n.toLowerCase().indexOf(".svg")!=-1)?!0:!1},isTainted:function(n){var t=String(window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));return n&&(t.indexOf(":\\")!=-1||n.indexOf(":\\")!=-1||t.indexOf("file://")!=-1||n.indexOf("file://")!=-1||n.indexOf("//")!=-1&&n.indexOf(t.replace(/.*:/,""))==-1)?!0:!1},isSupported:function(){return i.config.enabled?i.setup.isIE&&i.setup.IEversion<=9&&(!Array.prototype.indexOf||!document.head||i.config.fallback===!1)?!1:!0:!1},getAngle:function(n,t,i,r){var f=i-n,u=r-t,e;return e=f==0?u==0?0:u>0?Math.PI/2:Math.PI*3/2:u==0?f>0?0:Math.PI:f<0?Math.atan(u/f)+Math.PI:u<0?Math.atan(u/f)+2*Math.PI:Math.atan(u/f),e*180/Math.PI},gatherAttribute:function(n,t,r,u){var f,u=u?u:0,r=r?r:3;return n&&(f=n.getAttribute(t),!f&&u<r)?i.gatherAttribute(n.parentNode,t,r,u+1):f},gatherClassName:function(n,t,r,u){var f,u=u?u:0,r=r?r:3;if(i.isElement(n)){if(f=(n.getAttribute("class")||"").split(" ").indexOf(t)!=-1,!f&&u<r)return i.gatherClassName(n.parentNode,t,r,u+1);f&&(f=n)}return f},gatherElements:function(n,t,r){for(var f,u,h,a,e,o,s=0;s<n.children.length;s++)if(u=n.children[s],u.tagName=="clipPath"){for(h={},a=fabric.parseTransformAttribute(i.gatherAttribute(u,"transform")),f=0;f<u.childNodes.length;f++)u.childNodes[f].setAttribute("fill","transparent"),h={x:i.pxToNumber(u.childNodes[f].getAttribute("x")),y:i.pxToNumber(u.childNodes[f].getAttribute("y")),width:i.pxToNumber(u.childNodes[f].getAttribute("width")),height:i.pxToNumber(u.childNodes[f].getAttribute("height"))};n.clippings[u.id]={svg:u,bbox:h,transform:a}}else if(u.tagName=="pattern"){for(e={node:u,source:u.getAttribute("xlink:href"),width:Number(u.getAttribute("width")),height:Number(u.getAttribute("height")),repeat:"repeat",offsetX:0,offsetY:0},f=0;f<u.childNodes.length;f++)u.childNodes[f].tagName=="rect"?e.fill=u.childNodes[f].getAttribute("fill"):u.childNodes[f].tagName=="image"&&(o=fabric.parseAttributes(u.childNodes[f],fabric.SHARED_ATTRIBUTES),o.transformMatrix&&(e.offsetX=o.transformMatrix[4],e.offsetY=o.transformMatrix[5]));i.removeImage(e.source)?n.patterns[u.id]=e.fill?e.fill:"transparent":n.patterns[e.node.id]=e}else if(u.tagName=="image")r.included++,fabric.Image.fromURL(u.getAttribute("xlink:href"),function(){r.loaded++});else for(o=["fill","stroke"],f=0;f<o.length;f++){var c=o[f],l=u.getAttribute(c),v=i.getRGBA(l),y=i.isHashbanged(l);!l||v||y||(u.setAttribute(c,"none"),u.setAttribute(c+"-opacity","0"))}return n},getRGBA:function(n,t){return n!="none"&&n!="transparent"&&!i.isHashbanged(n)&&(n=new fabric.Color(n),n._source)?t?n:n.getSource():!1},gatherPosition:function(n,t){var r=i.drawing.buffer.position,f=fabric.util.invertTransform(i.setup.fabric.viewportTransform),u;return n.type=="touchmove"&&("touches"in n?n=n.touches[0]:"changedTouches"in n&&(n=n.changedTouches[0])),u=fabric.util.transformPoint(i.setup.fabric.getPointer(n,!0),f),t==1&&(r.x1=u.x,r.y1=u.y),r.x2=u.x,r.y2=u.y,r.xD=r.x1-r.x2<0?(r.x1-r.x2)*-1:r.x1-r.x2,r.yD=r.y1-r.y2<0?(r.y1-r.y2)*-1:r.y1-r.y2,r},modifyFabric:function(){fabric.ElementsParser.prototype.resolveGradient=function(n,t){var u=n.get(t),f,r;/^url\(/.test(u)&&(f=u.slice(u.indexOf("#")+1,u.length-1),fabric.gradientDefs[this.svgUid][f]&&(r=fabric.Gradient.fromElement(fabric.gradientDefs[this.svgUid][f],n),r.coords.y1&&i.setup.chart.type!="pie"&&(r.coords.y2=r.coords.y1*-1,r.coords.y1=0),n.set(t,r)))};fabric.Text.fromElement=function(n,t){var u,o,r,e,i,f;if(!n)return null;if(u=fabric.parseAttributes(n,fabric.Text.ATTRIBUTE_NAMES),t=fabric.util.object.extend(t?fabric.util.object.clone(t):{},u),t.top=t.top||0,t.left=t.left||0,"dx"in u&&(t.left+=u.dx),"dy"in u&&(t.top+=u.dy),"fontSize"in t||(t.fontSize=fabric.Text.DEFAULT_SVG_FONT_SIZE),t.originX||(t.originX="left"),o="",r=[],"textContent"in n)if(n.childNodes)for(e=0;e<n.childNodes.length;e++)r.push(n.childNodes[e].textContent);else r.push(n.textContent);else"firstChild"in n&&n.firstChild!==null&&"data"in n.firstChild&&n.firstChild.data!==null&&r.push(n.firstChild.data);return o=r.join("\n"),i=new fabric.Text(o,t),f=0,i.originX==="left"&&(f=i.getWidth()/2),i.originX==="right"&&(f=-i.getWidth()/2),r.length>1?i.set({left:i.getLeft()+f,top:i.getTop()+i.fontSize*(r.length-1)*(.18+i._fontSizeFraction),textAlign:t.originX,lineHeight:r.length>1?.965:1.16}):i.set({left:i.getLeft()+f,top:i.getTop()-i.getHeight()/2+i.fontSize*(.18+i._fontSizeFraction)}),i}},capture:function(n,t){var f,o=i.deepMerge(i.deepMerge({},i.config.fabric),n||{}),h=[],u={x:0,y:0,pX:0,pY:0,lX:0,lY:0,width:i.setup.chart.divRealWidth,height:i.setup.chart.divRealHeight},c={loaded:0,included:0},e={items:[],width:0,height:0,maxWidth:0,maxHeight:0},a,l,s,r;if(!i.handleNamespace("fabric",{scope:this,cb:i.capture,args:arguments}))return!1;for(i.modifyFabric(),i.handleCallback(o.beforeCapture,o),a=i.setup.chart.containerDiv.getElementsByTagName("svg"),f=0;f<a.length;f++)r={svg:a[f],parent:a[f].parentNode,children:a[f].getElementsByTagName("*"),offset:{x:0,y:0},patterns:{},clippings:{},has:{legend:!1,panel:!1,scrollbar:!1}},r.has.legend=i.gatherClassName(r.parent,i.setup.chart.classNamePrefix+"-legend-div",1),r.has.panel=i.gatherClassName(r.parent,i.setup.chart.classNamePrefix+"-stock-panel-div"),r.has.scrollbar=i.gatherClassName(r.parent,i.setup.chart.classNamePrefix+"-scrollbar-chart-div"),r=i.gatherElements(r,o,c),h.push(r);if(i.config.legend){if(i.setup.chart.type=="stock")for(f=0;f<i.setup.chart.panels.length;f++)i.setup.chart.panels[f].stockLegend&&i.setup.chart.panels[f].stockLegend.divId&&e.items.push(i.setup.chart.panels[f].stockLegend);else i.setup.chart.legend&&i.setup.chart.legend.divId&&e.items.push(i.setup.chart.legend);for(f=0;f<e.items.length;f++)l=e.items[f],r={svg:l.container.container,parent:l.container.container.parentNode,children:l.container.container.getElementsByTagName("*"),offset:{x:0,y:0},legend:{id:f,type:["top","left"].indexOf(i.config.legend.position)!=-1?"unshift":"push",position:i.config.legend.position,width:i.config.legend.width?i.config.legend.width:l.container.div.offsetWidth,height:i.config.legend.height?i.config.legend.height:l.container.div.offsetHeight},patterns:{},clippings:{},has:{legend:!1,panel:!1,scrollbar:!1}},e.width+=r.legend.width,e.height+=r.legend.height,e.maxWidth=r.legend.width>e.maxWidth?r.legend.width:e.maxWidth,e.maxHeight=r.legend.height>e.maxHeight?r.legend.height:e.maxHeight,r=i.gatherElements(r,o,c),h[r.legend.type](r);["top","bottom"].indexOf(i.config.legend.position)!=-1?(u.width=e.maxWidth>u.width?e.maxWidth:u.width,u.height+=e.height):["left","right"].indexOf(i.config.legend.position)!=-1?(u.width+=e.maxWidth,u.height=e.height>u.height?e.height:u.height):(u.height+=e.height,u.width+=e.maxWidth)}i.drawing.enabled=o.drawing.enabled=o.action=="draw";i.drawing.buffer.enabled=i.drawing.enabled;i.setup.wrapper=document.createElement("div");i.setup.wrapper.setAttribute("class",i.setup.chart.classNamePrefix+"-export-canvas");i.setup.chart.containerDiv.appendChild(i.setup.wrapper);i.setup.chart.type=="stock"&&(s={top:0,right:0,bottom:0,left:0},i.setup.chart.leftContainer&&(u.width-=i.setup.chart.leftContainer.offsetWidth,s.left=i.setup.chart.leftContainer.offsetWidth+i.setup.chart.panelsSettings.panelSpacing*2),i.setup.chart.rightContainer&&(u.width-=i.setup.chart.rightContainer.offsetWidth,s.right=i.setup.chart.rightContainer.offsetWidth+i.setup.chart.panelsSettings.panelSpacing*2),i.setup.chart.periodSelector&&["top","bottom"].indexOf(i.setup.chart.periodSelector.position)!=-1&&(u.height-=i.setup.chart.periodSelector.offsetHeight+i.setup.chart.panelsSettings.panelSpacing,s[i.setup.chart.periodSelector.position]+=i.setup.chart.periodSelector.offsetHeight+i.setup.chart.panelsSettings.panelSpacing),i.setup.chart.dataSetSelector&&["top","bottom"].indexOf(i.setup.chart.dataSetSelector.position)!=-1&&(u.height-=i.setup.chart.dataSetSelector.offsetHeight,s[i.setup.chart.dataSetSelector.position]+=i.setup.chart.dataSetSelector.offsetHeight),i.setup.wrapper.style.paddingTop=i.numberToPx(s.top),i.setup.wrapper.style.paddingRight=i.numberToPx(s.right),i.setup.wrapper.style.paddingBottom=i.numberToPx(s.bottom),i.setup.wrapper.style.paddingLeft=i.numberToPx(s.left));i.setup.canvas=document.createElement("canvas");i.setup.wrapper.appendChild(i.setup.canvas);i.setup.fabric=new fabric.Canvas(i.setup.canvas,i.deepMerge({width:u.width,height:u.height,isDrawingMode:!0},o));i.deepMerge(i.setup.fabric,o);i.deepMerge(i.setup.fabric.freeDrawingBrush,o.drawing);i.deepMerge(i.drawing,o.drawing);i.drawing.handler.change(o.drawing);i.setup.fabric.on("mouse:down",function(n){var t=i.gatherPosition(n.e,1);i.drawing.buffer.pressedTS=Number(new Date);i.isPressed(n.e);i.drawing.buffer.isDrawing=!1;i.drawing.buffer.isDrawingTimer=setTimeout(function(){i.drawing.buffer.isSelected||(i.drawing.buffer.isDrawing=!0)},200)});i.setup.fabric.on("mouse:move",function(n){var r=i.gatherPosition(n.e,2),u,e,o,t;if(i.isPressed(n.e),i.drawing.buffer.isPressed&&!i.drawing.buffer.isSelected&&(i.drawing.buffer.isDrawing=!0,!i.drawing.buffer.line&&i.drawing.mode!="pencil"&&(r.xD>5||r.yD>5)&&(i.setup.fabric.isDrawingMode=!1,i.setup.fabric._isCurrentlyDrawing=!1,i.setup.fabric.freeDrawingBrush.onMouseUp(),i.setup.fabric.remove(i.setup.fabric._objects.pop()),i.drawing.buffer.line=i.drawing.handler.line({x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,arrow:i.drawing.mode=="line"?!1:i.drawing.arrow,action:"config"}))),i.drawing.buffer.isSelected&&(i.setup.fabric.isDrawingMode=!1),i.drawing.buffer.line){for(t=i.drawing.buffer.line,t.x2=r.x2,t.y2=r.y2,f=0;f<t.group.length;f++)u=t.group[f],u instanceof fabric.Line?u.set({x2:t.x2,y2:t.y2}):u instanceof fabric.Triangle&&(t.angle=i.getAngle(t.x1,t.y1,t.x2,t.y2)+90,t.arrow=="start"?(e=t.y1+t.width/2,o=t.x1+t.width/2):t.arrow=="middle"?(e=t.y2+t.width/2-(t.y2-t.y1)/2,o=t.x2+t.width/2-(t.x2-t.x1)/2):(e=t.y2+t.width/2,o=t.x2+t.width/2),u.set({top:e,left:o,angle:t.angle}));i.setup.fabric.renderAll()}});i.setup.fabric.on("mouse:up",function(n){if(!i.drawing.buffer.isDrawing){var t=i.setup.fabric.findTarget(n.e);t&&t.selectable&&i.setup.fabric.setActiveObject(t)}if(i.drawing.buffer.line){for(f=0;f<i.drawing.buffer.line.group.length;f++)i.drawing.buffer.line.group[f].remove();delete i.drawing.buffer.line.action;delete i.drawing.buffer.line.group;i.drawing.handler.line(i.drawing.buffer.line)}i.drawing.buffer.line=!1;i.drawing.buffer.hasLine=!1;i.drawing.buffer.isPressed=!1;clearTimeout(i.drawing.buffer.isDrawingTimer);i.drawing.buffer.isDrawing=!1});i.setup.fabric.on("object:selected",function(n){i.drawing.buffer.isSelected=!0;i.drawing.buffer.target=n.target;i.setup.fabric.isDrawingMode=!1});i.setup.fabric.on("selection:cleared",function(){i.drawing.buffer.target=!1;i.drawing.buffer.isSelected&&(i.setup.fabric._isCurrentlyDrawing=!1);i.drawing.buffer.isSelected=!1;i.setup.fabric.isDrawingMode=!0});i.setup.fabric.on("path:created",function(n){var t=n.path;if(!i.drawing.buffer.isDrawing||i.drawing.buffer.hasLine){i.setup.fabric.remove(t);i.setup.fabric.renderAll();return}});i.setup.fabric.on("object:added",function(n){var t=n.target,r=i.deepMerge(t.saveState().originalState,{cfg:{color:i.drawing.color,width:i.drawing.width,opacity:i.drawing.opacity,fontSize:i.drawing.fontSize}});r=JSON.stringify(r);t.recentState=r;t.selectable&&!t.known&&(t.isAnnotation=!0,i.drawing.undos.push({action:"added",target:t,state:r}),i.drawing.undos.push({action:"addified",target:t,state:r}),i.drawing.redos=[]);t.known=!0;i.setup.fabric.isDrawingMode=!0});i.setup.fabric.on("object:modified",function(n){var t=n.target,u=JSON.parse(t.recentState),r=i.deepMerge(t.saveState().originalState,{cfg:u.cfg});r=JSON.stringify(r);t.recentState=r;i.drawing.undos.push({action:"modified",target:t,state:r});i.drawing.redos=[]});i.setup.fabric.on("text:changed",function(n){var t=n.target;clearTimeout(t.timer);t.timer=setTimeout(function(){var n=JSON.stringify(t.saveState().originalState);t.recentState=n;i.drawing.redos=[];i.drawing.undos.push({action:"modified",target:t,state:n})},250)});for(i.drawing.enabled?(i.setup.wrapper.setAttribute("class",i.setup.chart.classNamePrefix+"-export-canvas active"),i.setup.wrapper.style.backgroundColor=o.backgroundColor,i.setup.wrapper.style.display="block"):(i.setup.wrapper.setAttribute("class",i.setup.chart.classNamePrefix+"-export-canvas"),i.setup.wrapper.style.display="none"),f=0;f<h.length;f++)r=h[f],i.setup.chart.type=="stock"&&i.setup.chart.legendSettings.position?["top","bottom"].indexOf(i.setup.chart.legendSettings.position)!=-1?r.parent.style.top&&r.parent.style.left?(r.offset.y=i.pxToNumber(r.parent.style.top),r.offset.x=i.pxToNumber(r.parent.style.left)):(r.offset.x=u.x,r.offset.y=u.y,u.y+=i.pxToNumber(r.parent.style.height),r.has.panel?(u.pY=i.pxToNumber(r.has.panel.style.marginTop),r.offset.y+=u.pY):r.has.scrollbar&&(r.offset.y+=u.pY)):["left","right"].indexOf(i.setup.chart.legendSettings.position)!=-1&&(r.offset.y=i.pxToNumber(r.parent.style.top)+u.pY,r.offset.x=i.pxToNumber(r.parent.style.left)+u.pX,r.has.legend?u.pY+=i.pxToNumber(r.has.panel.style.height)+i.setup.chart.panelsSettings.panelSpacing:r.has.scrollbar&&(r.offset.y-=i.setup.chart.panelsSettings.panelSpacing)):(r.parent.style.position=="absolute"?(r.offset.absolute=!0,r.offset.top=i.pxToNumber(r.parent.style.top),r.offset.right=i.pxToNumber(r.parent.style.right,!0),r.offset.bottom=i.pxToNumber(r.parent.style.bottom,!0),r.offset.left=i.pxToNumber(r.parent.style.left),r.offset.width=i.pxToNumber(r.parent.style.width),r.offset.height=i.pxToNumber(r.parent.style.height)):r.parent.style.top&&r.parent.style.left?(r.offset.y=i.pxToNumber(r.parent.style.top),r.offset.x=i.pxToNumber(r.parent.style.left)):r.legend?(r.legend.position=="left"?u.x=e.maxWidth:r.legend.position=="right"?r.offset.x=u.width-e.maxWidth:r.legend.position=="top"?u.y+=r.legend.height:r.legend.position=="bottom"&&(r.offset.y=u.height-e.height),r.offset.y+=u.lY,u.lY+=r.legend.height):(r.offset.x=u.x,r.offset.y=u.y+u.pY,u.y+=i.pxToNumber(r.parent.style.height)),r.has.legend&&r.has.panel&&r.has.panel.style.marginTop?(u.y+=i.pxToNumber(r.has.panel.style.marginTop),r.offset.y+=i.pxToNumber(r.has.panel.style.marginTop)):i.setup.chart.legend&&["left","right"].indexOf(i.setup.chart.legend.position)!=-1&&(r.offset.y=i.pxToNumber(r.parent.style.top),r.offset.x=i.pxToNumber(r.parent.style.left))),fabric.parseSVGDocument(r.svg,function(n){return function(r,f){var e,s=fabric.util.groupSVGElements(r,f),k=[],y={selectable:!1,isCoreElement:!0},a,b,p,d,g;for(n.offset.absolute?(y.top=n.offset.bottom!==undefined?u.height-n.offset.height-n.offset.bottom:n.offset.top,y.left=n.offset.right!==undefined?u.width-n.offset.width-n.offset.right:n.offset.left):(y.top=n.offset.y,y.left=n.offset.x),e=0;e<s.paths.length;e++){if(a=null,s.paths[e]){if(i.removeImage(s.paths[e]["xlink:href"]))continue;s.paths[e].fill instanceof Object?s.paths[e].fill.type=="radial"&&["pie","gauge"].indexOf(i.setup.chart.type)==-1&&(s.paths[e].fill.coords.r2=s.paths[e].fill.coords.r1*-1,s.paths[e].fill.coords.r1=0,s.paths[e].set({opacity:s.paths[e].fillOpacity})):(a=i.isHashbanged(s.paths[e].fill))&&n.patterns&&n.patterns[a]&&(b=n.patterns[a],c.included++,fabric.Image.fromURL(b.source,function(n,t){return function(r){var u,f;c.loaded++;r.set({top:n.offsetY,left:n.offsetX,width:n.width,height:n.height});i.setup.fabric._isRetinaScaling()&&r.set({top:n.offsetY/2,left:n.offsetX/2,scaleX:.5,scaleY:.5});u=new fabric.StaticCanvas(undefined,{backgroundColor:n.fill,width:r.getWidth(),height:r.getHeight()});u.add(r);f=new fabric.Pattern({source:u.getElement(),offsetX:s.paths[t].width/2,offsetY:s.paths[t].height/2,repeat:"repeat"});s.paths[t].set({fill:f,opacity:s.paths[t].fillOpacity})}}(b,e)));(a=i.isHashbanged(s.paths[e].clipPath))&&n.clippings&&n.clippings[a]&&(function(t,i){var r=s.paths[t].toSVG;s.paths[t].toSVG=function(t){return r.apply(this,[function(r){return t(r,n.clippings[i])}])}}(e,a),s.paths[e].set({clipTo:function(t,r){return function(t){var u=n.clippings[r],e=this.transformMatrix||[1,0,0,1,0,0],f={top:u.bbox.y,left:u.bbox.x,width:u.bbox.width,height:u.bbox.height};i.setup.chart.type=="map"&&(f.top+=u.transform[5],f.left+=u.transform[4]);u.bbox.x&&e[4]&&u.bbox.y&&e[5]&&(f.top-=e[5],f.left-=e[4]);t.rect(f.left,f.top,f.width,f.height)}}(e,a)}))}k.push(s.paths[e])}if(s.paths=k,y.top+=.5,y.left+=.5,s.set(y),i.setup.fabric.add(s),n.svg.parentNode&&n.svg.parentNode.getElementsByTagName)for(p=n.svg.parentNode.getElementsByClassName(i.setup.chart.classNamePrefix+"-balloon-div"),e=0;e<p.length;e++)if(o.balloonFunction instanceof Function)o.balloonFunction.apply(i,[p[e],n]);else{var l=p[e],v=fabric.parseStyleAttribute(l),w=fabric.parseStyleAttribute(l.childNodes[0]),nt=new fabric.Text(l.innerText||l.textContent||l.innerHTML,{selectable:!1,top:v.top+n.offset.y,left:v.left+n.offset.x,fill:w.color,fontSize:w.fontSize,fontFamily:w.fontFamily,textAlign:w["text-align"],isCoreElement:!0});i.setup.fabric.add(nt)}if(n.svg.nextSibling&&n.svg.nextSibling.tagName=="A"){var l=n.svg.nextSibling,v=fabric.parseStyleAttribute(l),nt=new fabric.Text(l.innerText||l.textContent||l.innerHTML,{selectable:!1,top:v.top+n.offset.y,left:v.left+n.offset.x,fill:v.color,fontSize:v.fontSize,fontFamily:v.fontFamily,opacity:v.opacity,isCoreElement:!0});n.has.scrollbar||i.setup.fabric.add(nt)}h.pop();h.length||(d=Number(new Date),g=setInterval(function(){var n=Number(new Date);(c.loaded==c.included||n-d>i.config.fabric.loadTimeout)&&(clearTimeout(g),i.handleBorder(o),i.handleCallback(o.afterCapture,o),i.setup.fabric.renderAll(),i.handleCallback(t,o))},AmCharts.updateRate))}}(r),function(n,t){var r,h=i.gatherAttribute(n,"class"),c=i.gatherAttribute(n,"visibility"),l=i.gatherAttribute(n,"clip-path"),e;for(t.className=String(h),t.classList=String(h).split(" "),t.clipPath=l,t.svg=n,e=["fill","stroke"],r=0;r<e.length;r++){var u=e[r],a=String(n.getAttribute(u)||"none"),s=Number(n.getAttribute(u+"-opacity")||"1"),f=i.getRGBA(a);c=="hidden"&&(t.opacity=0,s=0);f&&(f.pop(),f.push(s),t[u]="rgba("+f.join()+")",t[u+i.capitalize("opacity")]=s)}i.handleCallback(o.reviver,t,n)})},toCanvas:function(n,t){var u=i.deepMerge({},n||{}),r=i.setup.canvas;return i.handleCallback(t,r,u),r},toImage:function(n,t){var r=i.deepMerge({format:"png",quality:1,multiplier:i.config.multiplier},n||{}),f=r.data,u=document.createElement("img");return i.handleNamespace("fabric",{scope:this,cb:i.toImage,args:arguments})?(r.data||(f=r.lossless||r.format=="svg"?i.toSVG(i.deepMerge(r,{getBase64:!0})):i.setup.fabric.toDataURL(r)),u.setAttribute("src",f),i.handleCallback(t,u,r),u):!1},toBlob:function(n,t){var r=i.deepMerge({data:"empty",type:"text/plain"},n||{}),u,f=/^data:.+;base64,(.*)$/.exec(r.data);return f&&(r.data=f[0],r.type=r.data.slice(5,r.data.indexOf(",")-7),r.data=i.toByteArray({data:r.data.slice(r.data.indexOf(",")+1,r.data.length)})),u=r.getByteArray?r.data:new Blob([r.data],{type:r.type}),i.handleCallback(t,u,r),u},toJPG:function(n,t){var r=i.deepMerge({format:"jpeg",quality:1,multiplier:i.config.multiplier},n||{}),u;return(r.format=r.format.toLowerCase(),!i.handleNamespace("fabric",{scope:this,cb:i.toJPG,args:arguments}))?!1:(u=i.setup.fabric.toDataURL(r),i.handleCallback(t,u,r),u)},toPNG:function(n,t){var u=i.deepMerge({format:"png",quality:1,multiplier:i.config.multiplier},n||{}),r;return i.handleNamespace("fabric",{scope:this,cb:i.toPNG,args:arguments})?(r=i.setup.fabric.toDataURL(u),i.handleCallback(t,r,u),r):!1},toSVG:function(n,t){var f=[],e=[],u=i.deepMerge({compress:i.config.compress,reviver:function(n,t){var w=new RegExp(/\bstyle=(['"])(.*?)\1/),l=w.exec(n)[0].slice(7,-1),r=l.split(";"),u=[],a,v,y,o,h;for(i1=0;i1<r.length;i1++)if(r[i1]){var p=r[i1].replace(/\s/g,"").split(":"),c=p[0],s=p[1];["fill","stroke"].indexOf(c)!=-1?(s=i.getRGBA(s,!0),s?(a="#"+s.toHex(),v=s._source[3],u.push([c,a].join(":")),u.push([c+"-opacity",v].join(":"))):u.push(r[i1])):c!="opactiy"&&u.push(r[i1])}if(n=n.replace(l,u.join(";")),t&&t.svg&&(y=t.svg.id,e.indexOf(y)==-1)){o=2;h=n.slice(-o);e.push(t.svg.id);h!="/>"&&(o=3,h=n.slice(-o));var b=n.slice(0,n.length-o),k=' clip-path="url(#'+t.svg.id+')" ',d=(new XMLSerializer).serializeToString(t.svg);n=b+k+h;f.push(d)}return n}},n||{}),r,o,s;return i.handleNamespace("fabric",{scope:this,cb:i.toSVG,args:arguments})?(r=i.setup.fabric.toSVG(u,u.reviver),f.length&&(o=r.slice(0,r.length-6),s=r.slice(-6),r=o+f.join("")+s),u.compress&&(r=r.replace(/[\t\r\n]+/g,"")),u.getBase64&&(r="data:image/svg+xml;base64,"+btoa(r)),i.handleCallback(t,r,u),r):!1},toPDF:function(n,t){function s(n){if(typeof n=="number"||n instanceof Number)n={left:n,right:n,top:n,bottom:n};else if(n instanceof Array)if(n.length===2)n={left:n[0],top:n[1],right:n[0],bottom:n[1]};else if(n.length===4)n={left:n[0],top:n[1],right:n[2],bottom:n[3]};else throw"Invalid pageMargins definition";else n={left:i.defaults.pdfMake.pageMargins,top:i.defaults.pdfMake.pageMargins,right:i.defaults.pdfMake.pageMargins,bottom:i.defaults.pdfMake.pageMargins};return n}function h(n,t){var r=i.defaults.pdfMake.pageSizes[String(n).toUpperCase()].slice();if(!r)throw new Error('The given pageSize "'+n+'" does not exist!');return t=="landscape"&&r.reverse(),r}var r=i.deepMerge(i.deepMerge({multiplier:i.config.multiplier||2,pageOrigin:i.config.pageOrigin===undefined?!0:!1},i.config.pdfMake),n||{},!0),o;if(!i.handleNamespace("pdfMake",{scope:this,cb:i.toPDF,args:arguments}))return!1;if(o=new pdfMake.createPdf(r),r.images.reference=i.toPNG(r),!r.content){var u=[],f=h(r.pageSize,r.pageOrientation),e=s(r.pageMargins);f[0]-=e.left+e.right;f[1]-=e.top+e.bottom;r.pageOrigin&&(u.push(i.i18l("label.saved.from")),u.push(window.location.href),f[1]-=14.064*2);u.push({image:"reference",fit:f});r.content=u}return t&&o.getDataUrl(function(n){return function(){n.apply(i,arguments)}}(t)),o},toPRINT:function(n,t){var r,f=i.deepMerge({delay:.01,lossless:!1},n||{}),e=i.toImage(f),o=[],u=document.body.childNodes,h=document.documentElement.scrollTop||document.body.scrollTop,s;for(e.setAttribute("style","width: 100%; max-height: 100%;"),r=0;r<u.length;r++)i.isElement(u[r])&&(o[r]=u[r].style.display,u[r].style.display="none");return document.body.appendChild(e),window.print(),f.delay*=1e3,s=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,s&&f.delay<1e3&&(f.delay=1e3),setTimeout(function(){for(r=0;r<u.length;r++)i.isElement(u[r])&&(u[r].style.display=o[r]);document.body.removeChild(e);document.documentElement.scrollTop=document.body.scrollTop=h;i.handleCallback(t,e,f)},f.delay),e},toJSON:function(n,t){var r=i.deepMerge({dateFormat:i.config.dateFormat||"dateObject"},n||{},!0),u={};return i.handleNamespace("JSON",{scope:this,cb:i.toJSON,args:arguments})?(r.data=r.data!==undefined?r.data:i.getChartData(r),u=JSON.stringify(r.data,undefined,"\t"),i.handleCallback(t,u,r),u):!1},toCSV:function(n,t){var r,u=i.deepMerge({delimiter:",",quotes:!0,escape:!0,withHeader:!0},n||{},!0),f=[],e="";f=i.toArray(u);for(r in f)isNaN(r)||(e+=f[r].join(u.delimiter)+"\n");return i.handleCallback(t,e,u),e},toXLSX:function(n,t){function o(n,t){t&&(n+=1462);var i=Date.parse(n),r=n.getTimezoneOffset()*6e4;return(i-r-new Date(Date.UTC(1899,11,30)))/864e5}function s(n){for(var r,t,e,f={},i={s:{c:1e7,r:1e7},e:{c:0,r:0}},u=0;u!=n.length;++u)for(r=0;r!=n[u].length;++r)(i.s.r>u&&(i.s.r=u),i.s.c>r&&(i.s.c=r),i.e.r<u&&(i.e.r=u),i.e.c<r&&(i.e.c=r),t={v:n[u][r]},t.v!=null)&&(e=XLSX.utils.encode_cell({c:r,r:u}),typeof t.v=="number"?t.t="n":typeof t.v=="boolean"?t.t="b":t.v instanceof Date?(t.t="n",t.z=XLSX.SSF._table[14],t.v=o(t.v)):t.v instanceof Object?(t.t="s",t.v=JSON.stringify(t.v)):t.t="s",f[e]=t);return i.s.c<1e7&&(f["!ref"]=XLSX.utils.encode_range(i)),f}var u=i.deepMerge({name:"amCharts",dateFormat:i.config.dateFormat||"dateObject",withHeader:!0,stringify:!1},n||{},!0),e=[],r="",f={SheetNames:[],Sheets:{}};return i.handleNamespace("XLSX",{scope:this,cb:i.toXLSX,args:arguments})?(e=i.toArray(u),f.SheetNames.push(u.name),f.Sheets[u.name]=s(e),r=XLSX.write(f,{bookType:"xlsx",bookSST:!0,type:"base64"}),r="data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,"+r,i.handleCallback(t,r,u),r):!1},toArray:function(n,t){function a(n,t){var r=t.exportFields||Object.keys(t.dataFieldsMap),f,e;for(u=0;u<r.length;u++)f=r[u],e=t.dataFieldsTitlesMap[f],o.push(e);return l?i.handleCallback(l,n,t):n}function c(n){return typeof n=="string"&&(r.escape&&(n=n.replace('"','""')),r.quotes&&(n=['"',n,'"'].join(""))),n}var h,r=i.deepMerge({withHeader:!1,stringify:!0,escape:!1,quotes:!1},n||{},!0),s=[],o=[],f=[],l=i.config.processData,u,e;if(r.processData=a,r.data=r.data!==undefined?i.processData(r):i.getChartData(r),r.withHeader){f=[];for(u in o)isNaN(u)||f.push(c(o[u]));s.push(f)}for(h in r.data)if(f=[],!isNaN(h)){for(u in o)isNaN(u)||(u=o[u],e=r.data[h][u],e=e==null?"":r.stringify?String(e):e,f.push(c(e)));s.push(f)}return i.handleCallback(t,s,r),s},toByteArray:function(n,t){function r(n){var t=n.charCodeAt(0);return t===l?62:t===a?63:t<u?-1:t<u+10?t-u+26+26:t<o+26?t-o:t<e+26?t-e+26:void 0}function h(n){function u(n){e[l++]=n}var t,s,h,i,f,e,o,l;if(n.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");for(o=n.length,f="="===n.charAt(o-2)?2:"="===n.charAt(o-1)?1:0,e=new c(n.length*3/4-f),h=f>0?n.length-4:n.length,l=0,t=0,s=0;t<h;t+=4,s+=3)i=r(n.charAt(t))<<18|r(n.charAt(t+1))<<12|r(n.charAt(t+2))<<6|r(n.charAt(t+3)),u((i&16711680)>>16),u((i&65280)>>8),u(i&255);return f===2?(i=r(n.charAt(t))<<2|r(n.charAt(t+1))>>4,u(i&255)):f===1&&(i=r(n.charAt(t))<<10|r(n.charAt(t+1))<<4|r(n.charAt(t+2))>>2,u(i>>8&255),u(i&255)),e}var f=i.deepMerge({},n||{}),c=typeof Uint8Array!="undefined"?Uint8Array:Array,l="+".charCodeAt(0),a="/".charCodeAt(0),u="0".charCodeAt(0),e="a".charCodeAt(0),o="A".charCodeAt(0),s=h(f.data);return i.handleCallback(t,s,f),s},handleCallback:function(n){var t,r=Array();if(n&&n instanceof Function){for(t=0;t<arguments.length;t++)t>0&&r.push(arguments[t]);return n.apply(i,r)}},handleLog:function(n){i.config.debug===!0&&console.log(n)},handleNamespace:function(n,t){function f(){var s=Number(new Date);r=!!(n in u);n=="pdfMake"&&r&&(r=u.pdfMake.vfs);r?(clearTimeout(e),t.cb.apply(t.scope,t.args),i.handleLog(['AmCharts [export]: Namespace "',n,'" showed up in: ',String(u)].join(""))):s-o<i.libs.loadTimeout?e=setTimeout(f,250):i.handleLog(['AmCharts [export]: Gave up waiting for "',n,'" in: ',String(u)].join(""))}var u=i.config.scope||window,r=!1,o=Number(new Date),e;return r=!!(n in u),r||(i.handleLog(['AmCharts [export]: Could not find "',n,'" in: ',String(u)].join("")),f()),r},handleBorder:function(n){if(i.config.border instanceof Object){var t=i.deepMerge(i.defaults.fabric.border,n.border||{},!0),r=new fabric.Rect;t.width=i.setup.fabric.width-t.strokeWidth;t.height=i.setup.fabric.height-t.strokeWidth;r.set(t);i.setup.fabric.add(r)}},handleDropbox:function(n){var t,r;if(i.drawing.enabled)if(n.preventDefault(),n.stopPropagation(),n.type=="dragover")i.setup.wrapper.setAttribute("class",i.setup.chart.classNamePrefix+"-export-canvas active dropbox");else if(i.setup.wrapper.setAttribute("class",i.setup.chart.classNamePrefix+"-export-canvas active"),n.type=="drop"&&n.dataTransfer.files.length)for(t=0;t<n.dataTransfer.files.length;t++)r=new FileReader,r.onloadend=function(t){return function(){i.drawing.handler.add({url:r.result,top:n.layerY-t*10,left:n.layerX-t*10})}}(t),r.readAsDataURL(n.dataTransfer.files[t])},handleReady:function(n){var t=this,i=Number(new Date),r;t.handleCallback(n,"data",!1);for(filename in t.libs.namespaces)r=t.libs.namespaces[filename],function(r){var u=setInterval(function(){var f=Number(new Date);(f-i>t.libs.loadTimeout||r in window)&&(clearTimeout(u),t.handleCallback(n,r,f-i>t.libs.loadTimeout))},AmCharts.updateRate)}(r)},getChartData:function(n){function e(n,t,r){function f(n,t){return u.dataFields.indexOf(n)!=-1?f([n,".",t].join("")):n}n&&u.exportTitles&&i.setup.chart.type!="gantt"&&(o=f(n,r),u.dataFieldsMap[o]=n,u.dataFields.push(o),u.titles[o]=t||o)}var u=i.deepMerge({data:[],titles:{},dateFields:[],dataFields:[],dataFieldsMap:{},exportTitles:i.config.exportTitles,exportFields:i.config.exportFields,exportSelection:i.config.exportSelection,columnNames:i.config.columnNames},n||{},!0),t,r,s,h=["valueField","openField","closeField","highField","lowField","xField","yField"],y,p,c,o,a,l,f,v,w;if(u.data.length==0)if(i.setup.chart.type=="stock"){for(u.data=i.cloneObject(i.setup.chart.mainDataSet.dataProvider),e(i.setup.chart.mainDataSet.categoryField),u.dateFields.push(i.setup.chart.mainDataSet.categoryField),t=0;t<i.setup.chart.mainDataSet.fieldMappings.length;t++)for(c=i.setup.chart.mainDataSet.fieldMappings[t],r=0;r<i.setup.chart.panels.length;r++)for(p=i.setup.chart.panels[r],s=0;s<p.stockGraphs.length;s++)for(f=p.stockGraphs[s],i4=0;i4<h.length;i4++)f[h[i4]]==c.toField&&e(c.fromField,f.title,h[i4]);if(i.setup.chart.comparedGraphs.length){for(y=[],t=0;t<u.data.length;t++)y.push(u.data[t][i.setup.chart.mainDataSet.categoryField]);for(t=0;t<i.setup.chart.comparedGraphs.length;t++)for(f=i.setup.chart.comparedGraphs[t],r=0;r<f.dataSet.dataProvider.length;r++){var k=f.dataSet.categoryField,d=f.dataSet.dataProvider[r][k],b=y.indexOf(d);if(b!=-1)for(s=0;s<f.dataSet.fieldMappings.length;s++)c=f.dataSet.fieldMappings[s],o=f.dataSet.id+"_"+c.toField,u.data[b][o]=f.dataSet.dataProvider[r][c.fromField],u.titles[o]||e(o,f.dataSet.title)}}}else if(i.setup.chart.type=="gantt"){for(e(i.setup.chart.categoryField),u.dateFields.push(i.setup.chart.categoryField),a=i.setup.chart.segmentsField,t=0;t<i.setup.chart.dataProvider.length;t++)if(l=i.setup.chart.dataProvider[t],l[a])for(r=0;r<l[a].length;r++)l[a][r][i.setup.chart.categoryField]=l[i.setup.chart.categoryField],u.data.push(l[a][r]);for(t=0;t<i.setup.chart.graphs.length;t++)for(f=i.setup.chart.graphs[t],r=0;r<h.length;r++){var v=h[r],w=f[v],g=f.title;e(w,f.title,v)}}else if(["pie","funnel"].indexOf(i.setup.chart.type)!=-1)u.data=i.setup.chart.dataProvider,e(i.setup.chart.titleField),u.dateFields.push(i.setup.chart.titleField),e(i.setup.chart.valueField);else if(i.setup.chart.type!="map")for(u.data=i.setup.chart.dataProvider,i.setup.chart.categoryAxis&&(e(i.setup.chart.categoryField,i.setup.chart.categoryAxis.title),i.setup.chart.categoryAxis.parseDates!==!1&&u.dateFields.push(i.setup.chart.categoryField)),t=0;t<i.setup.chart.graphs.length;t++)for(f=i.setup.chart.graphs[t],r=0;r<h.length;r++)v=h[r],w=f[v],e(w,f.title,v);return i.processData(u)},getAnnotations:function(n,t){for(var e=i.deepMerge({},n||{},!0),u=[],f,r=0;r<i.setup.fabric._objects.length;r++)i.setup.fabric._objects[r].isCoreElement||(f=i.setup.fabric._objects[r].toJSON(),i.handleCallback(e.reviver,f,r),u.push(f));return i.handleCallback(t,u),u},setAnnotations:function(n,t){var r=i.deepMerge({data:[]},n||{},!0);return fabric.util.enlivenObjects(r.data,function(n){n.forEach(function(n,t){i.handleCallback(r.reviver,n,t);i.setup.fabric.add(n)});i.handleCallback(t,r)}),r.data},processData:function(t){var r=i.deepMerge({data:[],titles:{},dateFields:[],dataFields:[],dataFieldsMap:{},dataFieldsTitlesMap:{},dataDateFormat:i.setup.chart.dataDateFormat,dateFormat:i.config.dateFormat||i.setup.chart.dataDateFormat||"YYYY-MM-DD",exportTitles:i.config.exportTitles,exportFields:i.config.exportFields,exportSelection:i.config.exportSelection,columnNames:i.config.columnNames,processData:i.config.processData},t||{},!0),f,e,l,s,h;if(r.data.length){for(f=0;f<r.data.length;f++)for(e in r.data[f])r.dataFields.indexOf(e)==-1&&(r.dataFields.push(e),r.dataFieldsMap[e]=e);for(r.exportFields!==undefined&&(r.dataFields=r.exportFields.filter(function(n){return r.dataFields.indexOf(n)!=-1})),l=[],f=0;f<r.data.length;f++){for(s={},h=!1,e=0;e<r.dataFields.length;e++){var o=r.dataFields[e],a=r.dataFieldsMap[o],c=r.columnNames&&r.columnNames[o]||r.titles[o]||o,u=r.data[f][a];u==null&&(u=undefined);r.exportTitles&&i.setup.chart.type!="gantt"&&c in s&&(c+=["( ",o," )"].join(""));r.dateFields.indexOf(a)!=-1&&(r.dataDateFormat&&(u instanceof String||typeof u=="string")?u=AmCharts.stringToDate(u,r.dataDateFormat):r.dateFormat&&(u instanceof Number||typeof u=="number")&&(u=new Date(u)),r.exportSelection&&(u instanceof Date?(u<n.startDate||u>n.endDate)&&(h=!0):(f<n.startIndex||f>n.endIndex)&&(h=!0)),r.dateFormat&&r.dateFormat!="dateObject"&&u instanceof Date&&(u=AmCharts.formatDate(u,r.dateFormat)));r.dataFieldsTitlesMap[a]=c;s[c]=u}h||l.push(s)}r.data=l}return r.processData!==undefined&&(r.data=i.handleCallback(r.processData,r.data,r)),r.data},capitalize:function(n){return n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()},createMenu:function(t,r){function u(t,r){for(var s,a,h,o,w,b,y=document.createElement("ul"),c=0;c<t.length;c++){var e=typeof t[c]=="string"?{format:t[c]}:t[c],l=document.createElement("li"),v=document.createElement("a"),k=document.createElement("img"),p=document.createElement("span"),d=String(e.action?e.action:e.format).toLowerCase();if(e.format=String(e.format).toUpperCase(),i.config.formats[e.format]?e=i.deepMerge({label:e.icon?"":e.format,format:e.format,mimeType:i.config.formats[e.format].mimeType,extension:i.config.formats[e.format].extension,capture:i.config.formats[e.format].capture,action:i.config.action,fileName:i.config.fileName},e):e.label||(e.label=e.label?e.label:i.i18l("menu.label."+d)),["CSV","JSON","XLSX"].indexOf(e.format)!=-1&&["map","gauge"].indexOf(i.setup.chart.type)!=-1)continue;else if(!i.setup.hasBlob&&e.format!="UNDEFINED"&&e.mimeType&&e.mimeType.split("/")[0]!="image"&&e.mimeType!="text/plain")continue;if(e.action=="draw")i.config.fabric.drawing.enabled?(e.menu=e.menu?e.menu:i.config.fabric.drawing.menu,e.click=function(n){return function(){this.capture(n,function(){this.createMenu(n.menu)})}}(e)):e.menu=[];else if(!e.populated&&e.action&&e.action.indexOf("draw.")!=-1)for(a=e.action.split(".")[1],h=e[a]||i.config.fabric.drawing[a]||[],e.menu=[],e.populated=!0,s=0;s<h.length;s++)o={label:h[s]},a=="shapes"?(w=h[s].indexOf("//")==-1,b=(w?i.config.path+"shapes/":"")+h[s],o.action="add",o.url=b,o.icon=b,o.ignore=w,o["class"]="export-drawing-shape"):a=="colors"?(o.style="background-color: "+h[s],o.action="change",o.color=h[s],o["class"]="export-drawing-color"):a=="widths"?(o.action="change",o.width=h[s],o.label=document.createElement("span"),o.label.style.width=i.numberToPx(h[s]),o.label.style.height=i.numberToPx(h[s]),o["class"]="export-drawing-width"):a=="opacities"?(o.style="opacity: "+h[s],o.action="change",o.opacity=h[s],o.label=h[s]*100+"%",o["class"]="export-drawing-opacity"):a=="modes"&&(o.label=i.i18l("menu.label.draw.modes."+h[s]),o.click=function(n){return function(){i.drawing.mode=n}}(h[s]),o["class"]="export-drawing-mode"),e.menu.push(o);else e.click||e.menu||e.items||(i.drawing.handler[d]instanceof Function?(e.action=d,e.click=function(n){return function(){this.drawing.handler[n.action](n)}}(e)):i.drawing.enabled?e.click=function(n){return function(){this.config.drawing.autoClose&&this.drawing.handler.done();this["to"+n.format](n,function(t){n.action=="download"&&this.download(t,n.mimeType,[n.fileName,n.extension].join("."))})}}(e):e.format!="UNDEFINED"&&(e.click=function(n){return function(){if(n.capture||n.action=="print"||n.format=="PRINT")this.capture(n,function(){this.drawing.handler.done();this["to"+n.format](n,function(t){n.action=="download"&&this.download(t,n.mimeType,[n.fileName,n.extension].join("."))})});else if(this["to"+n.format])this["to"+n.format](n,function(t){this.download(t,n.mimeType,[n.fileName,n.extension].join("."))});else throw new Error("Invalid format. Could not determine output type.");}}(e)));(e.menu===undefined||e.menu.length)&&(v.setAttribute("href","#"),v.addEventListener("click",function(n,t){return function(r){r.preventDefault();var u=[r,t];if((t.action=="draw"||t.format=="PRINT"||t.format!="UNDEFINED"&&t.capture)&&!i.drawing.enabled&&(!isNaN(t.delay)||!isNaN(i.config.delay))){t.delay=isNaN(t.delay)?i.config.delay:t.delay;i.delay(t,n);return}n.apply(i,u)}}(e.click||function(n){n.preventDefault()},e)),i.setup.hasTouch&&l.classList&&v.addEventListener("click",function(n){return function(t){function s(n){var t=n.parentNode.parentNode,i=t.classList;return t.tagName=="LI"&&i.contains("active")?!0:!1}function h(n){var r=n.parentNode.children,t,i;for(c=0;c<r.length;c++)if(t=r[c],i=t.classList,t!==n&&i.contains("active"))return i.remove("active"),!0;return!1}function l(n){return n.getElementsByTagName("ul").length>0}function o(n){return n.classList.contains("export-main")||n.classList.contains("export-drawing")}t.preventDefault();var r=n.elements.li,a=s(r),p=h(r),u=l(r);if((o(r)||!u)&&i.setup.menu.classList.toggle("active"),!a||!u)while(f.length){var e=f.pop(),v=o(e),y=e!==r;v?u||e.classList.remove("active"):y&&e.classList.remove("active")}f.push(r);u&&r.classList.toggle("active")}}(e)),l.appendChild(v),i.isElement(e.label)?p.appendChild(e.label):p.innerHTML=e.label,e["class"]&&(l.className=e["class"]),e.style&&l.setAttribute("style",e.style),e.icon&&(k.setAttribute("src",(!e.ignore&&e.icon.slice(0,10).indexOf("//")==-1?n.pathToImages:"")+e.icon),v.appendChild(k)),e.label&&v.appendChild(p),e.title&&v.setAttribute("title",e.title),i.config.menuReviver&&(l=i.config.menuReviver.apply(i,[e,l])),e.elements={li:l,a:v,img:k,span:p},(e.menu||e.items)&&e.action!="draw"?u(e.menu||e.items,l).childNodes.length&&y.appendChild(l):y.appendChild(l))}return y.childNodes.length&&r.appendChild(y),y}var f=[];return r||(typeof i.config.divId=="string"?i.config.divId=r=document.getElementById(i.config.divId):r=i.isElement(i.config.divId)?i.config.divId:i.setup.chart.containerDiv),i.isElement(i.setup.menu)?i.setup.menu.innerHTML="":i.setup.menu=document.createElement("div"),i.setup.menu.setAttribute("class",i.setup.chart.classNamePrefix+"-export-menu "+i.setup.chart.classNamePrefix+"-export-menu-"+i.config.position+" amExportButton"),i.config.menuWalker&&(u=i.config.menuWalker),u.apply(this,[t,i.setup.menu]),i.setup.menu.childNodes.length&&r.appendChild(i.setup.menu),i.setup.menu},delay:function(n,t){var r=i.deepMerge({delay:3,precision:2},n||{}),u,f,o=Number(new Date),s=i.createMenu([{label:i.i18l("capturing.delayed.menu.label").replace("{{duration}}",AmCharts.toFixed(r.delay,r.precision)),title:i.i18l("capturing.delayed.menu.title"),"class":"export-delayed-capturing",click:function(){clearTimeout(u);clearTimeout(f);i.createMenu(i.config.menu)}}]),e=s.getElementsByTagName("a")[0];u=setInterval(function(){var n=r.delay-(Number(new Date)-o)/1e3;n<=0?(clearTimeout(u),r.action!="draw"&&i.createMenu(i.config.menu)):e&&(e.innerHTML=i.i18l("capturing.delayed.menu.label").replace("{{duration}}",AmCharts.toFixed(n,2)))},AmCharts.updateRate);f=setTimeout(function(){t.apply(i,arguments)},r.delay*1e3)},migrateSetup:function(n){function i(n){var r,u;for(r in n)u=n[r],r.slice(0,6)=="export"&&u?t.menu.push(r.slice(6)):r=="userCFG"?i(u):r=="menuItems"?t.menu=u:r=="libs"?t.libs=u:typeof r=="string"&&(t[r]=u)}var t={enabled:!0,migrated:!0,libs:{autoLoad:!0},menu:[]};return i(n),t},clear:function(){var n,t,r;if(i.setup=undefined,i.docListener&&document.removeEventListener("keydown",i.docListener),n=i.listenersToRemove,n)for(t=0;t<n.length;t++)r=n[t],r.node.removeEventListener(r.event,r.method);i.listenersToRemove=[]},loadListeners:function(){function n(n){n&&(n.set({top:n.top+10,left:n.left+10}),i.setup.fabric.add(n))}i.config.keyListener&&i.config.keyListener!="attached"&&(i.docListener=function(t){var r=i.drawing.buffer.target;(t.keyCode==8||t.keyCode==46)&&r?(t.preventDefault(),i.setup.fabric.remove(r)):t.keyCode==27&&i.drawing.enabled?(t.preventDefault(),i.drawing.buffer.isSelected?i.setup.fabric.discardActiveObject():i.drawing.handler.done()):t.keyCode==67&&(t.metaKey||t.ctrlKey)&&r?i.drawing.buffer.copy=r:t.keyCode==88&&(t.metaKey||t.ctrlKey)&&r?(i.drawing.buffer.copy=r,i.setup.fabric.remove(r)):t.keyCode==86&&(t.metaKey||t.ctrlKey)?i.drawing.buffer.copy&&n(i.drawing.buffer.copy.clone(n)):t.keyCode==90&&(t.metaKey||t.ctrlKey)&&(t.preventDefault(),t.shiftKey?i.drawing.handler.redo():i.drawing.handler.undo())},i.config.keyListener="attached",document.addEventListener("keydown",i.docListener));i.config.fileListener&&(i.setup.chart.containerDiv.addEventListener("dragover",i.handleDropbox),i.setup.chart.containerDiv.addEventListener("dragleave",i.handleDropbox),i.setup.chart.containerDiv.addEventListener("drop",i.handleDropbox))},init:function(){clearTimeout(r);r=setInterval(function(){i.setup.chart.containerDiv&&(clearTimeout(r),i.config.enabled&&(i.setup.chart.AmExport=i,i.config.overflow&&(i.setup.chart.div.style.overflow="visible"),i.loadListeners(),i.createMenu(i.config.menu),i.handleReady(i.config.onReady)))},AmCharts.updateRate)},construct:function(){i.drawing.handler.cancel=i.drawing.handler.done;try{i.setup.hasBlob=!!new Blob}catch(n){}window.safari=window.safari?window.safari:{};i.defaults.fabric.drawing.fontSize=i.setup.chart.fontSize||11;i.config.drawing=i.deepMerge(i.defaults.fabric.drawing,i.config.drawing||{},!0);i.config.border&&(i.config.border=i.deepMerge(i.defaults.fabric.border,i.config.border||{},!0));i.deepMerge(i.defaults.fabric,i.config,!0);i.deepMerge(i.defaults.fabric,i.config.fabric||{},!0);i.deepMerge(i.defaults.pdfMake,i.config,!0);i.deepMerge(i.defaults.pdfMake,i.config.pdfMake||{},!0);i.deepMerge(i.libs,i.config.libs||{},!0);i.config.drawing=i.defaults.fabric.drawing;i.config.fabric=i.defaults.fabric;i.config.pdfMake=i.defaults.pdfMake;i.config=i.deepMerge(i.defaults,i.config,!0);i.config.fabric.drawing.enabled&&i.config.fabric.drawing.menu===undefined&&(i.config.fabric.drawing.menu=[],i.deepMerge(i.config.fabric.drawing.menu,[{"class":"export-drawing",menu:[{label:i.i18l("menu.label.draw.add"),menu:[{label:i.i18l("menu.label.draw.shapes"),action:"draw.shapes"},{label:i.i18l("menu.label.draw.text"),action:"text"}]},{label:i.i18l("menu.label.draw.change"),menu:[{label:i.i18l("menu.label.draw.modes"),action:"draw.modes"},{label:i.i18l("menu.label.draw.colors"),action:"draw.colors"},{label:i.i18l("menu.label.draw.widths"),action:"draw.widths"},{label:i.i18l("menu.label.draw.opacities"),action:"draw.opacities"},"UNDO","REDO"]},{label:i.i18l("menu.label.save.image"),menu:["PNG","JPG","SVG","PDF"]},"PRINT","CANCEL"]}]));i.config.menu===undefined&&(i.config.menu=[],i.deepMerge(i.config,{menu:[{"class":"export-main",menu:[{label:i.i18l("menu.label.save.image"),menu:["PNG","JPG","SVG","PDF"]},{label:i.i18l("menu.label.save.data"),menu:["CSV","XLSX","JSON"]},{label:i.i18l("menu.label.draw"),action:"draw",menu:i.config.fabric.drawing.menu},{format:"PRINT",label:i.i18l("menu.label.print")}]}]}));i.libs.path||(i.libs.path=i.config.path+"libs/");i.isSupported()&&(i.loadDependencies(i.libs.resources,i.libs.reload),i.setup.chart.addClassNames=!0,i.setup.chart[i.name]=i,i.init())}};if(t)i.config=t;else if(i.setup.chart[i.name])i.config=i.setup.chart[i.name];else if(i.setup.chart.amExport||i.setup.chart.exportConfig)i.config=i.migrateSetup(i.setup.chart.amExport||i.setup.chart.exportConfig);else return;return i.construct(),i.deepMerge(this,i)}}();AmCharts.addInitHandler(function(n){new AmCharts["export"](n)},["pie","serial","xy","funnel","radar","gauge","stock","map","gantt"]);AmCharts.themes.light={themeName:"light",AmChart:{color:"#000000",backgroundColor:"#FFFFFF"},AmCoordinateChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmStockChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmSlicedChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"],outlineAlpha:1,outlineThickness:2,labelTickColor:"#000000",labelTickAlpha:.3},AmRectangularChart:{zoomOutButtonColor:"#000000",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lens"},AxisBase:{axisColor:"#000000",axisAlpha:.3,gridAlpha:.1,gridColor:"#000000"},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:.12,graphFillAlpha:.5,graphLineAlpha:0,selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:.4,gridAlpha:.15},ChartCursor:{cursorColor:"#000000",color:"#FFFFFF",cursorAlpha:.5},AmLegend:{color:"#000000"},AmGraph:{lineAlpha:.9},GaugeArrow:{color:"#000000",alpha:.8,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#000000",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#000000",axisAlpha:1,bandAlpha:.8},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AreasSettings:{alpha:.8,color:"#67b7dc",colorSolid:"#003767",unlistedAreasAlpha:.4,unlistedAreasColor:"#000000",outlineColor:"#FFFFFF",outlineAlpha:.5,outlineThickness:.5,rollOverColor:"#3c5bdc",rollOverOutlineColor:"#FFFFFF",selectedOutlineColor:"#FFFFFF",selectedColor:"#f15135",unlistedAreasOutlineColor:"#FFFFFF",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#000000",alpha:.8},ImagesSettings:{alpha:.8,labelColor:"#000000",color:"#000000",labelRollOverColor:"#3c5bdc"},ZoomControl:{buttonFillAlpha:.7,buttonIconColor:"#a7a7a7"},SmallMap:{mapColor:"#000000",rectangleColor:"#f15135",backgroundColor:"#FFFFFF",backgroundAlpha:.7,borderThickness:1,borderAlpha:.8},PeriodSelector:{color:"#000000"},PeriodButton:{color:"#000000",background:"transparent",opacity:.7,border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",boxSizing:"border-box"},PeriodButtonSelected:{color:"#000000",backgroundColor:"#b9cdf5",border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",opacity:1,boxSizing:"border-box"},PeriodInputField:{color:"#000000",background:"transparent",border:"1px solid rgba(0, 0, 0, .3)",outline:"none"},DataSetSelector:{color:"#000000",selectedBackgroundColor:"#b9cdf5",rollOverBackgroundColor:"#a8b0e4"},DataSetCompareList:{color:"#000000",lineHeight:"100%",boxSizing:"initial",webkitBoxSizing:"initial",border:"1px solid rgba(0, 0, 0, .3)"},DataSetSelect:{border:"1px solid rgba(0, 0, 0, .3)",outline:"none"}};AmCharts.translations.fi={monthNames:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Keskuu","Heinkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],shortMonthNames:["Tammi","Helmi","Maalis","Huhti","Touko","Kes","Hein","Elo","Syys","Loka","Marras","Joulu"],dayNames:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],shortDayNames:["Su","Ma","Ti","Ke","To","Pe","La"],zoomOutText:"Nyt kaikki"};