/*! knockstrap 1.3.2 http://faulknercs.github.io/Knockstrap/ | (c) 2013-2016 Artem Stepanyuk |  http://www.opensource.org/licenses/mit-license */
function startTicker(){setInterval(function(){canTick&&($(".ticker-container ul div.ticker-active").removeClass("ticker-active").addClass("remove"),$(".ticker-container ul div.remove").next().length?$(".ticker-container ul div.remove").next().addClass("next"):$(".ticker-container ul div").first().addClass("next"),$(".ticker-container ul div.next").removeClass("not-active next").addClass("ticker-active"),setTimeout(function(){$(".ticker-container ul div.remove").css("transition","0s ease-in-out").removeClass("remove").addClass("not-active finished");$(window).width()<500?$(".ticker-container ul div.finished li").width()<$(window).width()&&($(".ticker-container ul div.finished").remove(),$(".ticker-container ul div.finished").removeClass("finished")):$(".ticker-container ul div.finished li").width()<$(window).width()-(parseInt($(".ticker-container ul div.ticker-active").css("left"))+15)&&($(".ticker-container ul div.finished").remove(),$(".ticker-container ul div.finished").removeClass("finished"));setTimeout(function(){$(".ticker-container ul div").css("transition","0.25s ease-in-out")},75);animateTickerElementHorz()},250))},speed)}function animateTickerElementHorz(){$(window).width()<500?$(".ticker-container ul div.ticker-active li").width()>$(window).width()&&setTimeout(function(){$(".ticker-container ul div.ticker-active li").animate({"margin-left":"-"+($(".ticker-container ul div.ticker-active li").width()-$(window).width()+15)},speed-speed/5,"swing",function(){setTimeout(function(){$(".ticker-container ul div.finished").remove();$(".ticker-container ul div.finished").removeClass("finished").find("li").css("margin-left",0)},speed/10)})},speed/10):$(".ticker-container ul div.ticker-active li").width()>$(window).width()-parseInt($(".ticker-container ul div.ticker-active").css("left"))&&setTimeout(function(){$(".ticker-container ul div.ticker-active li").animate({"margin-left":Math.abs($(".ticker-container ul div.ticker-active li").width()-($(window).width()-parseInt($(".ticker-container ul div.ticker-active").css("left")))+15)*-1},speed-speed/5,"swing",function(){setTimeout(function(){$(".ticker-container ul div.finished").remove();$(".ticker-container ul div.finished").removeClass("finished").find("li").css("margin-left",0)},speed/10)})},speed/10)}function inputNumberFormat(n,t,i,r){if(n==null)return null;var f=n,t=isNaN(t=Math.abs(t))?2:t,i=i==undefined?".":i,r=r==undefined?",":r,o=f<0?"-":"",e=String(parseInt(f=Math.abs(Number(f)||0).toFixed(t))),u=(u=e.length)>3?u%3:0;return o+(u?e.substr(0,u)+r:"")+e.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+r)+(t?i+Math.abs(f-e).toFixed(t).slice(2):"")}function inputNumberParse(n,t){t=t==undefined||t==null?",":t;t!=","&&(vn=n.replace(",","."));var i=vn.replace(t,"");return parseFloat(i)}function doChangeFunction(n,t,i,r){if(r>0){var t=i();setTimeout(function(){t==i()&&n()},r*1e3)}else n()}function numeriCTextBoxButtonClicked(n){var a=n.attr("data-field"),l=n.attr("data-type"),t=n.parent().parent().find("input[name='"+a+"']"),i=t.attr("thousand-separator"),e=t.attr("decimal-separator"),o=t.attr("decimal-count"),f=inputNumberParse(t.val(),i),s=parseFloat(n.attr("step")),r,h,u,c;console.log("CurrentVal: "+f);console.log("CurrentValRaw2: "+t.val());console.log("Step: "+s);r=0;t.attr("min")!=undefined&&t.attr("min")!=null&&(r=parseFloat(t.attr("min")));t.attr("minProperty")!=undefined&&t.attr("minProperty")!=null&&(h=parseFloat($(n).attr("minProperty")),h>r&&(r=h));u=1e15;t.attr("max")!=undefined&&t.attr("max")!=null&&(u=parseFloat(t.attr("max")));t.attr("maxProperty")!=undefined&&t.attr("maxProperty")!=null&&(c=parseFloat(t.attr("maxProperty")),c<u&&(u=c));isNaN(f)?t.val(inputNumberFormat(r,o,e,i)).change():l=="minus"?(f-s>=r?t.val(inputNumberFormat(f-s,o,e,i)).change():t.val(inputNumberFormat(r,o,e,i)).change(),inputNumberParse(t.val(),i)==r&&n.attr("disabled",!0)):l=="plus"&&(f+s<=u?t.val(inputNumberFormat(f+s,o,e,i)).change():t.val(inputNumberFormat(u,o,e,i)).change(),inputNumberParse(t.val(),i)==u&&n.attr("disabled",!0))}function handleRender(){}function FFSlider(n,t){function d(){return k}function g(n){var r=this.max-this.min,t,i,u,f;n>this.max&&(n=this.max);n<this.min&&(n=this.min);t=((n-this.min)/r).toFixed(2+this.precision);this.step>0&&(n=(t*r+this.min).toFixed(this.precision),i=n%this.step,u=Math.abs(i),u>0&&(n=n-i,u>this.step/2&&(n+=i>0?this.step:-this.step),t=((n-this.min)/r).toFixed(2+this.precision)));n=n*1;k=n;c.style.width=t*100+"%";b&&(b.innerHTML=s(n,o));for(f in this._newValCB)this._newValCB[f]({value:n,valueString:n+this.unit})}function s(n,t){return(t=="â‚¬"?n:n)+" "+t}function nt(n){n=n||null;n&&(this._newValCB[n]=n)}function tt(n){n=n||null;n?delete this._newValCB[n]:this._newValCB={}}function f(n){var t=((n-u.offsetLeft)/u.offsetWidth).toFixed(2+r.precision);return t>1&&(t=1),t<0&&(t=0),t}function e(n){var t=(n*(r.max-r.min)+r.min).toFixed(r.precision);r.setValue(t)}function it(n){e(f(n.clientX));i.addEventListener("mousemove",h,!1)}function rt(n){n.preventDefault();e(f(n.changedTouches[0].pageX));i.addEventListener("touchmove",v,!1)}function h(n){e(f(n.clientX))}function v(n){n.preventDefault();e(f(n.changedTouches[0].pageX))}function ut(n){e(f(n.clientX));i.removeEventListener("mousemove",h,!1)}function ft(){i.removeEventListener("mousemove",h,!1)}function et(n){n.preventDefault();e(f(n.changedTouches[0].pageX));i.removeEventListener("touchmove",v,!1)}var t=t||{},o=t.unit||"%",y=t.min||0,p=t.max||100,ot=t.init||0,i,u,c,l,a,w;if(n=n||null,!n)throw"Element not found";if(i=n.getElementsByClassName("ff-slider__bar-container")[0]||null,!i)throw"Element with class felf-slider__bar-container not found in container";if(u=i.getElementsByClassName("ff-slider__bar")[0]||null,!u)throw"Element with class felf-slider__bar not found in container";if(c=i.getElementsByClassName("ff-slider__slider")[0]||null,!c)throw"Element with class felf-slider__slider not found in container";l=n.getElementsByClassName("ff-slider__max-value")[0]||null;l&&(l.innerHTML=s(p,o));a=n.getElementsByClassName("ff-slider__min-value")[0]||null;a&&(a.innerHTML=s(y,o));var b=n.getElementsByClassName("ff-slider__current-value")[0]||null,k=0,r={getValue:d,setValue:g,_newValCB:{},unit:o,min:y,max:p,precision:t.precision||0,step:t.step||0,onChange:nt,offChange:tt};return u.addEventListener("mousedown",it,!1),i.addEventListener("mouseup",ut,!1),u.addEventListener("mouseleave",ft,!1),u.addEventListener("touchstart",rt,!1),i.addEventListener("touchend",et,!1),w=t.initial_value||ot,r.setValue(w),r}function PagedList(n,t,i,r,u,f,e){var o={};return o.pagedItems=[],o.items=r,o.currentPage=0,o.itemsPerPage=u===undefined?5:u,o.previousPage=function(){o.currentPage>0&&o.currentPage--;o.bindList()},o.selectPage=function(n){o.currentPage=n;o.bindList()},o.nextPage=function(){o.currentPage<o.pagedItems.length-1&&o.currentPage++;o.bindList()},o.bindList=function(){var u=o.pagedItems[o.currentPage],r,c,h,s;for($("#"+t).empty(),r=0;r<u.length;r++)s=$('<li class="paged-list-item"><div class="paged-list-item-date"><span class="paged-list-item-date-date-part">'+u[r].date+'<\/span><\/div><div class="paged-list-item-title"><a href="'+u[r].link+'">'+u[r].title+"<\/a><\/div><\/li>"),u[r].category!==null&&u[r].category.length>0&&(s=$('<li class="paged-list-item"><div class="paged-list-item-date"><span class="paged-list-item-date-date-part">'+u[r].date+'<\/span><span> <\/span><span class="paged-list-item-date-category-part badge badge-info ff-badge-info"> '+u[r].category+'<\/span><\/div><div class="paged-list-item-title"><a href="'+u[r].link+'">'+u[r].title+"<\/a><\/div><\/li>")),$("#"+t).append(s);for($("#"+i).empty(),h="",o.currentPage==0&&(h="disabled"),s='<li class="page-item '+h+'"><a class="page-link" href="" onclick="'+n+'.previousPage(); return false;">'+f+"<\/a><\/li>",$("#"+i).append(s),r=0;r<o.pagedItems.length;r++)c="",r==o.currentPage&&(c="active"),s='<li class="page-item '+c+'"><a class="page-link" href="" onclick="'+n+".selectPage("+r+' ); return false;">'+(r+1)+"<\/a><\/li>",$("#"+i).append(s);h="";o.currentPage==o.pagedItems.length-1&&(h="disabled");s='<li class="page-item '+h+'"><a class="page-link" href="" onclick="'+n+'.nextPage(); return false;">'+e+"<\/a><\/li>";$("#"+i).append(s)},o.init=function(){for(var n=0;n<o.items.length;n++)n%o.itemsPerPage==0?o.pagedItems[Math.floor(n/o.itemsPerPage)]=[o.items[n]]:o.pagedItems[Math.floor(n/o.itemsPerPage)].push(o.items[n])},o.init(),o.bindList(),o}(function(n){"use strict";if(typeof ko!="undefined"&&typeof jQuery!="undefined")n(ko,jQuery);else if(typeof require=="function"&&typeof exports=="object"&&typeof module=="object")n(require("knockout"),require("jquery"));else if(typeof define=="function"&&define.amd)define(["knockout","jquery"],n);else throw new Error("Could not locate current context reference to knockout and jQuery in order to load Knockstrap");})(function(n,t){"use strict";function f(t){var i=this;i.isAligned=t.isAligned;i.currentPage=t.currentPage;i.totalCount=t.totalCount;i.pageSize=t.pageSize;i.text=t.text;i.pagesCount=n.computed(function(){var t=n.unwrap(i.totalCount),r=n.unwrap(i.pageSize);return Math.ceil(t/r)});i.isBackDisabled=n.computed(function(){return i.currentPage()===1});i.isForwardDisabled=n.computed(function(){return i.currentPage()===i.pagesCount()});i.goBack=function(){if(!i.isBackDisabled()){var n=i.currentPage();i.currentPage(n-1)}};i.goForward=function(){if(!i.isForwardDisabled()){var n=i.currentPage();i.currentPage(n+1)}}}function e(t){var i=this,u,e;f.call(i,t);u=function(){var t=+n.unwrap(i.maxPages);return(Math.ceil(i.currentPage()/t)-1)*t+1};e=function(t){var r=+n.unwrap(i.maxPages);return Math.min(t+r-1,i.pagesCount())};i.maxPages=t.maxPages;i.boundary=t.boundary;i.directions=t.directions;i.text=t.text;i.pages=n.computed(function(){for(var t=[],f=u(),o=e(f),n=f;n<=o;n++)t.push(new r(n,n,n===i.currentPage()));return f>1&&t.unshift(new r(f-1,"...")),o<i.pagesCount()&&t.push(new r(o+1,"...")),t});i.selectPage=function(n){i.currentPage(n.number)};i.goFirst=function(){i.isBackDisabled()||i.currentPage(1)};i.goLast=function(){i.isForwardDisabled()||i.currentPage(i.pagesCount())}}function r(n,t,i){this.number=n;this.text=t||n;this.isActive=!!i}var i,u;n.utils.uniqueId=function(){var n={"ks-unique-":0};return function(t){return t=t||"ks-unique-",n[t]||(n[t]=0),t+n[t]++}}();n.utils.unwrapProperties=n.toJS,function(){var t={};t.alert='<div class="alert fade in" data-bind="css: type, template: innerTemplate">\n<\/div>';t.alertInner='<button class="close" data-dismiss="alert" aria-hidden="true">&times;<\/button>\n<p data-bind="text: message"><\/p>';t.carousel='<!-- ko template: indicatorsTemplate -->\n<!-- /ko -->\n<div class="carousel-inner">\n    <!-- ko foreach: items -->\n    <div class="item" data-bind="with: $parent.converter($data), css: { active: $index() == 0 }">\n        <img data-bind="attr: { src: src, alt: alt }">\n        <div class="container">\n            <div class="carousel-caption">\n                <!-- ko template: { name: $parents[1].itemTemplateName, data: $data, templateEngine: $parents[1].templateEngine,\n                    afterRender: $parents[1].afterRender, afterAdd: $parents[1].afterAdd, beforeRemove: $parents[1].beforeRemove } -->\n                <!-- /ko -->\n            <\/div>\n        <\/div>\n    <\/div>\n    <!-- /ko -->\n<\/div>\n<!-- ko template: controlsTemplate -->\n<!-- /ko -->\n';t.carouselContent='<div data-bind="text: content"><\/div>';t.carouselControls='<a class="left carousel-control" data-bind="attr: { href: id }" data-slide="prev">\n    <span class="icon-prev"><\/span>\n<\/a>\n<a class="right carousel-control" data-bind="attr: { href: id }" data-slide="next">\n    <span class="icon-next"><\/span>\n<\/a>';t.carouselIndicators='<ol class="carousel-indicators" data-bind="foreach: items">\n    <li data-bind="attr: { \'data-target\': $parent.id, \'data-slide-to\': $index }, css: { active: $index() == 0 }"><\/li>\n<\/ol>\n';t.modal='<div class="modal-dialog" data-bind="css: dialogCss">\n    <div class="modal-content">\n        <div class="modal-header" data-bind="template: headerTemplate">\n        <\/div>\n\n        <div class="modal-body" data-bind="template: bodyTemplate">\n        <\/div>\n        <!-- ko if: footerTemplate -->\n        <div class="modal-footer" data-bind="template: footerTemplate">\n        <\/div>\n        <!-- /ko -->\n    <\/div>\n<\/div>';t.modalBody='<div data-bind="html: content">\n<\/div>';t.modalFooter='<!-- ko if: $data.action -->\n<a href="#" class="btn btn-primary" data-bind="click: action, html: primaryLabel"><\/a>\n<!-- /ko -->\n<a href="#" class="btn btn-default" data-bind="html: closeLabel" data-dismiss="modal"><\/a>';t.modalHeader='<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;<\/button>\n<h3 data-bind="text: label"><\/h3>\n';t.pager='<ul class="pager">\n    <li data-bind="css: { previous: isAligned, disabled: isBackDisabled }">\n        <a href="#" data-bind="with: text, click: goBack">\n            <span data-bind="html: back"><\/span>\n        <\/a>\n    <\/li>\n    <li data-bind="css: { next: isAligned, disabled: isForwardDisabled }">\n        <a href="#" data-bind="with: text, click: goForward">\n            <span data-bind="html: forward"><\/span>\n        <\/a>\n    <\/li>\n<\/ul>\n';t.pagination='<ul class="pagination">\n    <!-- ko if: boundary -->\n    <li class="ks-boundary-first" data-bind="css: { disabled: isBackDisabled }">\n        <a href="#" data-bind="with: text, click: goFirst">\n            <span data-bind="html: first"><\/span>\n        <\/a>\n    <\/li>\n    <!-- /ko -->\n    \n    <!-- ko if: directions -->\n    <li class="ks-direction-back" data-bind="css: { disabled: isBackDisabled }">\n        <a href="#" data-bind="with: text, click: goBack">\n            <span data-bind="html: back"><\/span>\n        <\/a>\n    <\/li>\n    <!-- /ko -->\n\n    <!-- ko foreach: pages -->\n    <li data-bind="css: { active: isActive }">\n        <a href="#" data-bind="text: text, click: $parent.selectPage"><\/a>\n    <\/li>\n    <!-- /ko -->\n    \n    <!-- ko if: directions -->\n    <li class="ks-direction-forward" data-bind="css: { disabled: isForwardDisabled }">\n        <a href="#" data-bind="with: text, click: goForward">\n            <span data-bind="html: forward"><\/span>\n        <\/a>\n    <\/li>\n    <!-- /ko -->\n\n    <!-- ko if: boundary -->\n    <li class="ks-boundary-last" data-bind="css: { disabled: isForwardDisabled }">\n        <a href="#" data-bind="with: text, click: goLast">\n            <span data-bind="html: last"><\/span>\n        <\/a>\n    <\/li>\n    <!-- /ko -->\n<\/ul>';t.progress='<div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100"\n    data-bind="style: { width: barWidth }, attr: { \'aria-valuenow\': value }, css: { active: animated, \'progress-bar-striped\': striped }, \'class\': barType">\n    <span data-bind="css: { \'sr-only\': textHidden }">\n        <span data-bind="text: value"><\/span>% <span data-bind="text: text"><\/span>\n    <\/span>\n<\/div>\n';n.templateSources.stringTemplate=function(n){this.templateName=n;this.data=function(n,i){if(t.data=t.data||{},t.data[this.templateName]=t.data[this.templateName]||{},arguments.length===1)return t.data[this.templateName][n];t.data[this.templateName][n]=i};this.text=function(n){if(arguments.length===0)return t[this.templateName];t[this.templateName]=n}};n.stringTemplateEngine=function(){this.allowTemplateRewriting=!1};n.stringTemplateEngine.prototype=new n.nativeTemplateEngine;n.stringTemplateEngine.prototype.constructor=n.stringTemplateEngine;n.stringTemplateEngine.prototype.makeTemplateSource=function(t){return new n.templateSources.stringTemplate(t)};n.stringTemplateEngine.prototype.getTemplate=function(n){return t[n]};n.stringTemplateEngine.prototype.addTemplate=function(n,i){if(arguments.length<2)throw new Error("template is not provided");t[n]=i};n.stringTemplateEngine.prototype.removeTemplate=function(n){if(!n)throw new Error("template name is not provided");delete t[n]};n.stringTemplateEngine.prototype.isTemplateExist=function(n){return!!t[n]};n.stringTemplateEngine.instance=new n.stringTemplateEngine}();n.bindingHandlers.alert={init:function(){return{controlsDescendantBindings:!0}},update:function(i,r,u,f,e){var c=t(i),o=r(),l=o.template?null:n.stringTemplateEngine.instance,a=n.unwrap(o.template)||"alertInner",s,h;if(i.nodeType===(typeof Node!="undefined"&&Node.ELEMENT_NODE||1))s=a,h=o.data||{message:o.message},c.removeClass("alert-info alert-danger alert-success "),c.addClass("alert fade in").addClass("alert-"+(n.unwrap(o.type)||"info"));else if(i.nodeType===(typeof Node!="undefined"&&Node.COMMENT_NODE||8))s="alert",h={innerTemplate:{name:a,data:o.data||{message:o.message},templateEngine:l},type:"alert-"+(n.unwrap(o.type)||"info")};else throw new Error("alert binding should be used with dom elements or ko virtual elements");n.renderTemplate(s,e.createChildContext(h),n.utils.extend({templateEngine:l},o.templateOptions),i)}};n.virtualElements.allowedBindings.alert=!0;n.bindingHandlers.carousel={defaults:{css:"carousel slide",controlsTemplate:{name:"carouselControls",templateEngine:n.stringTemplateEngine.instance,dataConverter:function(t){return{id:n.computed(function(){return"#"+n.unwrap(t.id)})}}},indicatorsTemplate:{name:"carouselIndicators",templateEngine:n.stringTemplateEngine.instance,dataConverter:function(t){return{id:n.computed(function(){return"#"+n.unwrap(t.id)}),items:t.content.data}}},itemTemplate:{name:"carouselContent",templateEngine:n.stringTemplateEngine.instance,converter:function(n){return n}}},init:function(i,r,u,f,e){var l=t(i),o=r(),s=n.bindingHandlers.carousel.defaults,h=function(n,i){var r={name:n.name,data:o[i]&&(o[i].data||o[i].dataConverter&&o[i].dataConverter(o))||n.dataConverter(o)};return r=t.extend(!0,{},r,o[i]),o[i]&&o[i].name||(r.templateEngine=n.templateEngine),r},c;if(!o.content)throw new Error("content option is required for carousel binding");return i.id?o.id=i.id:i.id=o.id?n.unwrap(o.id):o.id=n.utils.uniqueId("ks-carousel-"),c={id:o.id,controlsTemplate:h(s.controlsTemplate,"controls"),indicatorsTemplate:h(s.indicatorsTemplate,"indicators"),items:o.content.data,converter:o.content.converter||s.itemTemplate.converter,itemTemplateName:o.content.name||s.itemTemplate.name,templateEngine:o.content.name?null:s.itemTemplate.templateEngine,afterRender:o.content.afterRender,afterAdd:o.content.afterAdd,beforeRemove:o.content.beforeRemove},n.renderTemplate("carousel",e.createChildContext(c),{templateEngine:n.stringTemplateEngine.instance},i),l.addClass(s.css),{controlsDescendantBindings:!0}},update:function(i,r){var u=r(),f=n.unwrap(u.options);t(i).carousel(f)}};n.bindingHandlers.checkbox={init:function(i,r){var u=t(i),f=function(i){setTimeout(function(){var e=t(i.target),u=r(),s=e.val(),o=e.parent().hasClass("active"),f;e.prop("disbled")||(n.unwrap(u)instanceof Array?(f=n.utils.arrayIndexOf(n.unwrap(u),s),o&&f===-1?u.push(s):o||f===-1||u.splice(f,1)):u(o))},0)};if(u.attr("data-toggle")==="buttons"&&u.find("input:checkbox").length){if(!(n.unwrap(r())instanceof Array))throw new Error("checkbox binding should be used only with array or observableArray values in this case");u.on("change","input:checkbox",f)}else if(u.attr("type")==="checkbox"){if(!n.isObservable(r()))throw new Error("checkbox binding should be used only with observable values in this case");u.on("change",f)}else throw new Error("checkbox binding should be used only with bootstrap checkboxes");},update:function(i,r){var f=t(i),e=n.unwrap(r()),u;e instanceof Array?f.attr("data-toggle")==="buttons"?f.find("input:checkbox").each(function(i,r){u=n.utils.arrayIndexOf(e,r.value)!==-1;t(r).parent().toggleClass("active",u);r.checked=u}):(u=n.utils.arrayIndexOf(e,f.val())!==-1,f.toggleClass("active",u),f.find("input").prop("checked",u)):(u=!!e,f.prop("checked",u),f.parent().toggleClass("active",u))}};i="__ko__previousClassValue__";n.bindingHandlers["class"]={update:function(t,r){t[i]&&n.utils.toggleDomNodeCssClass(t,t[i],!1);var u=n.unwrap(r());n.utils.toggleDomNodeCssClass(t,u,!0);t[i]=u}};n.bindingHandlers.modal={defaults:{css:"modal fade",dialogCss:"",attributes:{role:"dialog"},headerTemplate:{name:"modalHeader",templateEngine:n.stringTemplateEngine.instance},bodyTemplate:{name:"modalBody",templateEngine:n.stringTemplateEngine.instance},footerTemplate:{name:"modalFooter",templateEngine:n.stringTemplateEngine.instance,data:{closeLabel:"Close",primaryLabel:"Ok"}}},init:function(i,r,u,f,e){var s=t(i),o=r(),h=n.bindingHandlers.modal.defaults,c=n.utils.extend({show:s.data().show||!1},n.utils.unwrapProperties(o.options)),l=function(n,i){var r={name:n.name,data:n.data};return r=t.extend(!0,{},r,i),i&&i.name||(r.templateEngine=n.templateEngine),r},a;if(!o.header||!o.body)throw new Error("header and body options are required for modal binding.");(c.keyboard||typeof c.keyboard=="undefined")&&s.attr("tabindex",-1);a={dialogCss:o.dialogCss||h.dialogCss,headerTemplate:l(h.headerTemplate,n.unwrap(o.header)),bodyTemplate:l(h.bodyTemplate,n.unwrap(o.body)),footerTemplate:o.footer?l(h.footerTemplate,n.unwrap(o.footer)):null};n.renderTemplate("modal",e.createChildContext(a),{templateEngine:n.stringTemplateEngine.instance},i);s.addClass(h.css).attr(h.attributes);s.modal(c);s.on("shown.bs.modal",function(){typeof o.visible=="undefined"||typeof o.visible!="function"||n.isComputed(o.visible)||o.visible(!0);t(this).find("[autofocus]:first").focus()});if(typeof o.visible!="undefined"&&typeof o.visible=="function"&&!n.isComputed(o.visible)){s.on("hidden.bs.modal",function(){o.visible(!1)});c.show&&o.visible(!0)}return{controlsDescendantBindings:!0}},update:function(i,r){var u=r();typeof u.visible!="undefined"&&t(i).modal(n.unwrap(u.visible)?"show":"hide")}};n.bindingHandlers.pagination={defaults:{maxPages:5,pageSize:10,directions:!0,boundary:!0,text:{first:"First",last:"Last",back:"&laquo;",forward:"&raquo;"}},init:function(i,r,u,f,o){var s=t.extend(!0,{},n.bindingHandlers.pagination.defaults,r()),h;if(!n.isObservable(s.currentPage))throw new TypeError("currentPage should be observable");return t.isNumeric(s.currentPage())||s.currentPage(1),h=new e(s),n.renderTemplate("pagination",o.createChildContext(h),{templateEngine:n.stringTemplateEngine.instance},i),{controlsDescendantBindings:!0}}};n.bindingHandlers.pager={defaults:{pageSize:10,text:{back:"&larr;",forward:"&rarr;"}},init:function(i,r,u,e,o){var s=t.extend(!0,{},n.bindingHandlers.pager.defaults,r()),h;if(!n.isObservable(s.currentPage))throw new TypeError("currentPage should be observable");return t.isNumeric(s.currentPage())||s.currentPage(1),h=new f(s),n.renderTemplate("pager",o.createChildContext(h),{templateEngine:n.stringTemplateEngine.instance},i),{controlsDescendantBindings:!0}}};u="__popoverTemplateKey__";n.bindingHandlers.popover={init:function(i){var r=t(i);n.utils.domNodeDisposal.addDisposeCallback(i,function(){r.data("bs.popover")&&r.popover("destroy")})},update:function(i,r,f,e,o){var h=t(i),s=n.unwrap(r()),c=(!s.options&&!s.template?n.utils.unwrapProperties(s):n.utils.unwrapProperties(s.options))||{},a;if(s.template){n.unwrap(s.template);var l=n.utils.domData.get(i,u),y=n.unwrap(s.data),v=function(i){i&&i.type==="inserted"&&h.off("shown.bs.popover");n.renderTemplate(n.unwrap(s.template),o.createChildContext(y),s.templateOptions,document.getElementById(l));var u=t("#"+l).parents(".popover"),r=h.data("bs.popover"),f=r.getCalculatedOffset(c.placement||"right",r.getPosition(),u.outerWidth(),u.outerHeight());r.applyPlacement(f,c.placement||"right")};if(!l){l=n.utils.uniqueId("ks-popover-");n.utils.domData.set(i,u,l);h.on("shown.bs.popover inserted.bs.popover",v)}c.content='<div id="'+l+'" ><\/div>';c.html=!0;t("#"+l).is(":visible")&&v()}if(a=h.data("bs.popover"),a)n.utils.extend(a.options,c);else{h.popover(c);h.on("shown.bs.popover inserted.bs.popover",function(){(c.container?t(c.container):h.parent()).one("click",'[data-dismiss="popover"]',function(){h.popover("hide")})})}}};n.bindingHandlers.progress={defaults:{css:"progress",text:"",textHidden:!0,striped:!1,type:"",animated:!1},init:function(i,r){var s=t(i),e=r(),f=n.unwrap(e),o=n.bindingHandlers.progress.defaults,u=t.extend({},o,f);if(typeof f=="number")u.value=e,u.barWidth=n.computed(function(){return n.unwrap(e)+"%"});else if(typeof n.unwrap(f.value)=="number")u.barWidth=n.computed(function(){return n.unwrap(f.value)+"%"});else throw new Error('progress binding can accept only numbers or objects with "value" number propertie');return u.barType=n.computed(function(){var t=n.unwrap(u.type);return t?"progress-bar-"+t:""}),n.renderTemplate("progress",u,{templateEngine:n.stringTemplateEngine.instance},i),s.addClass(o.css),{controlsDescendantBindings:!0}}};n.bindingHandlers.radio={init:function(i,r){if(!n.isObservable(r()))throw new Error("radio binding should be used only with observable values");t(i).on("change","input:radio",function(n){setTimeout(function(){var i=t(n.target),u=r(),f=i.val();i.prop("disabled")||u(f)},0)})},update:function(i,r){var e=n.unwrap(r())||"",f=t(i).find('input[value="'+e.replace(/"/g,'\\"')+'"]'),u;f.length?(u=f.parent(),u.siblings().removeClass("active"),u.addClass("active"),f.prop("checked",!0)):(u=t(i).find(".active"),u.removeClass("active"),u.find("input").prop("checked",!1))}};n.bindingHandlers.toggle={init:function(i,r){var u=r();if(!n.isObservable(u))throw new Error("toggle binding should be used only with observable values");t(i).on("click",function(t){t.preventDefault();var i=n.unwrap(u);u(!i)})},update:function(t,i){n.utils.toggleDomNodeCssClass(t,"active",n.unwrap(i()))}};n.bindingHandlers.tooltip={init:function(i){var r=t(i);n.utils.domNodeDisposal.addDisposeCallback(i,function(){r.data("bs.tooltip")&&r.tooltip("destroy")})},update:function(i,r){var u=t(i),o=n.unwrap(r()),f=n.utils.unwrapProperties(o),e=u.data("bs.tooltip");e?n.utils.extend(e.options,f):u.tooltip(f)}}});
/*!
 * Datepicker for Bootstrap v1.6.4 (https://github.com/eternicode/bootstrap-datepicker)
 *
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */
!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n("object"==typeof exports?require("jquery"):jQuery)}(function(n,t){function u(){return new Date(Date.UTC.apply(Date,arguments))}function h(){var n=new Date;return u(n.getFullYear(),n.getMonth(),n.getDate())}function y(n,t){return n.getUTCFullYear()===t.getUTCFullYear()&&n.getUTCMonth()===t.getUTCMonth()&&n.getUTCDate()===t.getUTCDate()}function c(n){return function(){return this[n].apply(this,arguments)}}function p(n){return n&&!isNaN(n.getTime())}function w(t,i){function o(n,t){return t.toLowerCase()}var u,f=n(t).data(),e={},s=new RegExp("^"+i.toLowerCase()+"([A-Z])"),r;i=new RegExp("^"+i.toLowerCase());for(r in f)i.test(r)&&(u=r.replace(s,o),e[u]=f[r]);return e}function b(t){var u={},i;if(r[t]||(t=t.split("-")[0],r[t]))return i=r[t],n.each(v,function(n,t){t in i&&(u[t]=i[t])}),u}var l=function(){var t={get:function(n){return this.slice(n)[0]},contains:function(n){for(var i=n&&n.valueOf(),t=0,r=this.length;r>t;t++)if(this[t].valueOf()===i)return t;return-1},remove:function(n){this.splice(n,1)},replace:function(t){t&&(n.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var n=new l;return n.replace(this),n}};return function(){var i=[];return i.push.apply(i,arguments),n.extend(i,t),i}}(),f=function(t,r){n(t).data("datepicker",this);this._process_options(r);this.dates=new l;this.viewDate=this.o.defaultViewDate;this.focusDate=null;this.element=n(t);this.isInput=this.element.is("input");this.inputField=this.isInput?this.element:this.element.find("input");this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1;this.hasInput=this.component&&this.inputField.length;this.component&&0===this.component.length&&(this.component=!1);this.isInline=!this.component&&this.element.is("div");this.picker=n(i.template);this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow);this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&this.picker.addClass("datepicker-rtl");this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(n,t){return parseInt(t)+1});this._allow_update=!1;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted);this.setDatesDisabled(this.o.datesDisabled);this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()},o,a,e,s,v,r,i;f.prototype={constructor:f,_resolveViewName:function(n,i){return 0===n||"days"===n||"month"===n?0:1===n||"months"===n||"year"===n?1:2===n||"years"===n||"decade"===n?2:3===n||"decades"===n||"century"===n?3:4===n||"centuries"===n||"millennium"===n?4:i===t?!1:i},_check_template:function(i){try{if(i===t||""===i)return!1;if((i.match(/[<>]/g)||[]).length<=0)return!0;var r=n(i);return r.length>0}catch(u){return!1}},_process_options:function(t){var f,o,l,e,c;if(this._o=n.extend({},this._o,t),f=this.o=n.extend({},this._o),o=f.language,r[o]||(o=o.split("-")[0],r[o]||(o=s.language)),f.language=o,f.startView=this._resolveViewName(f.startView,0),f.minViewMode=this._resolveViewName(f.minViewMode,0),f.maxViewMode=this._resolveViewName(f.maxViewMode,4),f.startView=Math.min(f.startView,f.maxViewMode),f.startView=Math.max(f.startView,f.minViewMode),f.multidate!==!0&&(f.multidate=Number(f.multidate)||!1,f.multidate!==!1&&(f.multidate=Math.max(0,f.multidate))),f.multidateSeparator=String(f.multidateSeparator),f.weekStart%=7,f.weekEnd=(f.weekStart+6)%7,l=i.parseFormat(f.format),f.startDate!==-(1/0)&&(f.startDate=f.startDate?f.startDate instanceof Date?this._local_to_utc(this._zero_time(f.startDate)):i.parseDate(f.startDate,l,f.language,f.assumeNearbyYear):-(1/0)),f.endDate!==1/0&&(f.endDate=f.endDate?f.endDate instanceof Date?this._local_to_utc(this._zero_time(f.endDate)):i.parseDate(f.endDate,l,f.language,f.assumeNearbyYear):1/0),f.daysOfWeekDisabled=f.daysOfWeekDisabled||[],n.isArray(f.daysOfWeekDisabled)||(f.daysOfWeekDisabled=f.daysOfWeekDisabled.split(/[,\s]*/)),f.daysOfWeekDisabled=n.map(f.daysOfWeekDisabled,function(n){return parseInt(n,10)}),f.daysOfWeekHighlighted=f.daysOfWeekHighlighted||[],n.isArray(f.daysOfWeekHighlighted)||(f.daysOfWeekHighlighted=f.daysOfWeekHighlighted.split(/[,\s]*/)),f.daysOfWeekHighlighted=n.map(f.daysOfWeekHighlighted,function(n){return parseInt(n,10)}),f.datesDisabled=f.datesDisabled||[],n.isArray(f.datesDisabled)||(f.datesDisabled=[f.datesDisabled]),f.datesDisabled=n.map(f.datesDisabled,function(n){return i.parseDate(n,l,f.language,f.assumeNearbyYear)}),e=String(f.orientation).toLowerCase().split(/\s+/g),c=f.orientation.toLowerCase(),e=n.grep(e,function(n){return/^auto|left|right|top|bottom$/.test(n)}),f.orientation={x:"auto",y:"auto"},c&&"auto"!==c)if(1===e.length)switch(e[0]){case"top":case"bottom":f.orientation.y=e[0];break;case"left":case"right":f.orientation.x=e[0]}else c=n.grep(e,function(n){return/^left|right$/.test(n)}),f.orientation.x=c[0]||"auto",c=n.grep(e,function(n){return/^top|bottom$/.test(n)}),f.orientation.y=c[0]||"auto";if(f.defaultViewDate){var a=f.defaultViewDate.year||(new Date).getFullYear(),v=f.defaultViewDate.month||0,y=f.defaultViewDate.day||1;f.defaultViewDate=u(a,v,y)}else f.defaultViewDate=h()},_events:[],_secondaryEvents:[],_applyEvents:function(n){for(var f,r,u,i=0;i<n.length;i++)f=n[i][0],2===n[i].length?(r=t,u=n[i][1]):3===n[i].length&&(r=n[i][1],u=n[i][2]),f.on(u,r)},_unapplyEvents:function(n){for(var f,r,u,i=0;i<n.length;i++)f=n[i][0],2===n[i].length?(u=t,r=n[i][1]):3===n[i].length&&(u=n[i][1],r=n[i][2]),f.off(r,u)},_buildEvents:function(){var t={keyup:n.proxy(function(t){-1===n.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:n.proxy(this.keydown,this),paste:n.proxy(this.paste,this)};this.o.showOnFocus===!0&&(t.focus=n.proxy(this.show,this));this._events=this.isInput?[[this.element,t]]:this.component&&this.hasInput?[[this.inputField,t],[this.component,{click:n.proxy(this.show,this)}]]:[[this.element,{click:n.proxy(this.show,this),keydown:n.proxy(this.keydown,this)}]];this._events.push([this.element,"*",{blur:n.proxy(function(n){this._focused_from=n.target},this)}],[this.element,{blur:n.proxy(function(n){this._focused_from=n.target},this)}]);this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":n.proxy(function(n){this.update(n.date)},this)}]);this._secondaryEvents=[[this.picker,{click:n.proxy(this.click,this)}],[n(window),{resize:n.proxy(this.place,this)}],[n(document),{mousedown:n.proxy(function(n){this.element.is(n.target)||this.element.find(n.target).length||this.picker.is(n.target)||this.picker.find(n.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,r){var u=r||this.dates.get(-1),f=this._utc_to_local(u);this.element.trigger({type:t,date:f,dates:n.map(this.dates,this._utc_to_local),format:n.proxy(function(n,t){0===arguments.length?(n=this.dates.length-1,t=this.o.format):"string"==typeof n&&(t=n,n=this.dates.length-1);t=t||this.o.format;var r=this.dates.get(n);return i.formatDate(r,t,this.o.language)},this)})},show:function(){if(!this.inputField.prop("disabled")&&(!this.inputField.prop("readonly")||this.o.enableOnReadonly!==!1))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&n(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var i;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&-1!==n.inArray("text/plain",t.originalEvent.clipboardData.types))i=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;i=window.clipboardData.getData("Text")}this.setDate(i);this.update();t.preventDefault()},_utc_to_local:function(n){return n&&new Date(n.getTime()+6e4*n.getTimezoneOffset())},_local_to_utc:function(n){return n&&new Date(n.getTime()-6e4*n.getTimezoneOffset())},_zero_time:function(n){return n&&new Date(n.getFullYear(),n.getMonth(),n.getDate())},_zero_utc_time:function(n){return n&&new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()))},getDates:function(){return n.map(this.dates,this._utc_to_local)},getUTCDates:function(){return n.map(this.dates,function(n){return new Date(n)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var n=this.dates.get(-1);return"undefined"!=typeof n?new Date(n):null},clearDates:function(){this.inputField&&this.inputField.val("");this.update();this._trigger("changeDate");this.o.autoclose&&this.hide()},setDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,n.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:c("setDates"),setUTCDate:c("setUTCDates"),remove:c("destroy"),setValue:function(){var n=this.getFormattedDate();return this.inputField.val(n),this},getFormattedDate:function(r){r===t&&(r=this.o.format);var u=this.o.language;return n.map(this.dates,function(n){return i.formatDate(n,r,u)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(n){return this._process_options({startDate:n}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(n){return this._process_options({endDate:n}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(n){return this._process_options({daysOfWeekDisabled:n}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(n){return this._process_options({daysOfWeekHighlighted:n}),this.update(),this},setDatesDisabled:function(n){this._process_options({datesDisabled:n});this.update();this.updateNavArrows()},place:function(){var s,r,h;if(this.isInline)return this;var f=this.picker.outerWidth(),c=this.picker.outerHeight(),e=n(this.o.container),l=e.width(),a="body"===this.o.container?n(document).scrollTop():e.scrollTop(),v=e.offset(),y=[];this.element.parents().each(function(){var t=n(this).css("z-index");"auto"!==t&&0!==t&&y.push(parseInt(t))});var p=Math.max.apply(Math,y)+this.o.zIndexOffset,u=this.component?this.component.parent().offset():this.element.offset(),w=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),o=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),t=u.left-v.left,i=u.top-v.top;return"body"!==this.o.container&&(i+=a),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(t-=f-o)):u.left<0?(this.picker.addClass("datepicker-orient-left"),t-=u.left-10):t+f>l?(this.picker.addClass("datepicker-orient-right"),t+=o-f):this.picker.addClass("datepicker-orient-left"),r=this.o.orientation.y,("auto"===r&&(s=-a+i-c,r=0>s?"bottom":"top"),this.picker.addClass("datepicker-orient-"+r),"top"===r?i-=c+parseInt(this.picker.css("padding-top")):i+=w,this.o.rtl)?(h=l-(t+o),this.picker.css({top:i,right:h,zIndex:p})):this.picker.css({top:i,left:t,zIndex:p}),this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var r=this.dates.copy(),t=[],u=!1;return arguments.length?(n.each(arguments,n.proxy(function(n,i){i instanceof Date&&(i=this._local_to_utc(i));t.push(i)},this)),u=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),t=t&&this.o.multidate?t.split(this.o.multidateSeparator):[t],delete this.element.data().date),t=n.map(t,n.proxy(function(n){return i.parseDate(n,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),t=n.grep(t,n.proxy(function(n){return!this.dateWithinRange(n)||!n},this),!0),this.dates.replace(t),this.viewDate=this.dates.length?new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?new Date(this.o.startDate):this.viewDate>this.o.endDate?new Date(this.o.endDate):this.o.defaultViewDate,u?this.setValue():t.length&&String(r)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&r.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var i=this.o.weekStart,t="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(n,t){return parseInt(t)+1}),t+='<th class="cw">&#160;<\/th>');i<this.o.weekStart+7;)t+='<th class="dow',n.inArray(i,this.o.daysOfWeekDisabled)>-1&&(t+=" disabled"),t+='">'+r[this.o.language].daysMin[i++%7]+"<\/th>";t+="<\/tr>";this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var t,i=this._utc_to_local(this.viewDate),u="",n=0;12>n;)t=i&&i.getMonth()===n?" focused":"",u+='<span class="month'+t+'">'+r[this.o.language].monthsShort[n++]+"<\/span>";this.picker.find(".datepicker-months td").html(u)},setRange:function(t){t&&t.length?this.range=n.map(t,function(n){return n.valueOf()}):delete this.range;this.fill()},getClassNames:function(t){var i=[],r=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),u=new Date;return t.getUTCFullYear()<r||t.getUTCFullYear()===r&&t.getUTCMonth()<f?i.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()===r&&t.getUTCMonth()>f)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===u.getFullYear()&&t.getUTCMonth()===u.getMonth()&&t.getUTCDate()===u.getDate()&&i.push("today"),-1!==this.dates.contains(t)&&i.push("active"),this.dateWithinRange(t)||i.push("disabled"),this.dateIsDisabled(t)&&i.push("disabled","disabled-date"),-1!==n.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)&&i.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),-1!==n.inArray(t.valueOf(),this.range)&&i.push("selected"),t.valueOf()===this.range[0]&&i.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},_fill_yearsView:function(i,r,u,f,e,o,s,h){var w,b,y,k,d,g,a,v,l,p,c;for(w="",b=this.picker.find(i),y=parseInt(e/u,10)*u,d=parseInt(o/f,10)*f,g=parseInt(s/f,10)*f,k=n.map(this.dates,function(n){return parseInt(n.getUTCFullYear()/f,10)*f}),b.find(".datepicker-switch").text(y+"-"+(y+9*f)),a=y-f,v=-1;11>v;v+=1)l=[r],p=null,-1===v?l.push("old"):10===v&&l.push("new"),-1!==n.inArray(a,k)&&l.push("active"),(d>a||a>g)&&l.push("disabled"),a===this.viewDate.getFullYear()&&l.push("focused"),h!==n.noop&&(c=h(new Date(a,0,1)),c===t?c={}:"boolean"==typeof c?c={enabled:c}:"string"==typeof c&&(c={classes:c}),c.enabled===!1&&l.push("disabled"),c.classes&&(l=l.concat(c.classes.split(/\s+/))),c.tooltip&&(p=c.tooltip)),w+='<span class="'+l.join(" ")+'"'+(p?' title="'+p+'"':"")+">"+a+"<\/span>",a+=f;b.find("td").html(w)},fill:function(){var y,e,p=new Date(this.viewDate),o=p.getUTCFullYear(),k=p.getUTCMonth(),a=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),it=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),v=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,rt=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,ut=r[this.o.language].today||r.en.today||"",ft=r[this.o.language].clear||r.en.clear||"",et=r[this.o.language].titleFormat||r.en.titleFormat,f,w,h,s,c,d,l,g;if(!isNaN(o)&&!isNaN(k)){for(this.picker.find(".datepicker-days .datepicker-switch").text(i.formatDate(p,et,this.o.language)),this.picker.find("tfoot .today").text(ut).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(ft).toggle(this.o.clearBtn!==!1),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths(),f=u(o,k-1,28),w=i.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth()),f.setUTCDate(w),f.setUTCDate(w-(f.getUTCDay()-this.o.weekStart+7)%7),h=new Date(f),f.getUTCFullYear()<100&&h.setUTCFullYear(f.getUTCFullYear()),h.setUTCDate(h.getUTCDate()+42),h=h.valueOf(),c=[];f.valueOf()<h;){if(f.getUTCDay()===this.o.weekStart&&(c.push("<tr>"),this.o.calendarWeeks)){var nt=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),tt=new Date(Number(nt)+(11-nt.getUTCDay())%7*864e5),b=new Date(Number(b=u(tt.getUTCFullYear(),0,1))+(11-b.getUTCDay())%7*864e5),ot=(tt-b)/6048e5+1;c.push('<td class="cw">'+ot+"<\/td>")}s=this.getClassNames(f);s.push("day");this.o.beforeShowDay!==n.noop&&(e=this.o.beforeShowDay(this._utc_to_local(f)),e===t?e={}:"boolean"==typeof e?e={enabled:e}:"string"==typeof e&&(e={classes:e}),e.enabled===!1&&s.push("disabled"),e.classes&&(s=s.concat(e.classes.split(/\s+/))),e.tooltip&&(y=e.tooltip));s=n.isFunction(n.uniqueSort)?n.uniqueSort(s):n.unique(s);c.push('<td class="'+s.join(" ")+'"'+(y?' title="'+y+'"':"")+">"+f.getUTCDate()+"<\/td>");y=null;f.getUTCDay()===this.o.weekEnd&&c.push("<\/tr>");f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(c.join(""));d=r[this.o.language].monthsTitle||r.en.monthsTitle||"Months";l=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?d:o).end().find("span").removeClass("active");(n.each(this.dates,function(n,t){t.getUTCFullYear()===o&&l.eq(t.getUTCMonth()).addClass("active")}),(a>o||o>v)&&l.addClass("disabled"),o===a&&l.slice(0,it).addClass("disabled"),o===v&&l.slice(rt+1).addClass("disabled"),this.o.beforeShowMonth!==n.noop)&&(g=this,n.each(l,function(i,r){var f=new Date(o,i,1),u=g.o.beforeShowMonth(f);u===t?u={}:"boolean"==typeof u?u={enabled:u}:"string"==typeof u&&(u={classes:u});u.enabled!==!1||n(r).hasClass("disabled")||n(r).addClass("disabled");u.classes&&n(r).addClass(u.classes);u.tooltip&&n(r).prop("title",u.tooltip)}));this._fill_yearsView(".datepicker-years","year",10,1,o,a,v,this.o.beforeShowYear);this._fill_yearsView(".datepicker-decades","decade",100,10,o,a,v,this.o.beforeShowDecade);this._fill_yearsView(".datepicker-centuries","century",1e3,100,o,a,v,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),n=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&n<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==1/0&&n>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:case 3:case 4:this.o.startDate!==-(1/0)&&n<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==1/0&&n>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){var r,c,o,e,f,s,l,a;t.preventDefault();t.stopPropagation();r=n(t.target);r.hasClass("datepicker-switch")&&this.showMode(1);a=r.closest(".prev, .next");a.length>0&&(c=i.modes[this.viewMode].navStep*(a.hasClass("prev")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,c),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,c),1===this.viewMode&&this._trigger("changeYear",this.viewDate)),this.fill());r.hasClass("today")&&!r.hasClass("day")&&(this.showMode(-2),this._setDate(h(),"linked"===this.o.todayBtn?null:"view"));r.hasClass("clear")&&this.clearDates();r.hasClass("disabled")||(r.hasClass("day")&&(o=parseInt(r.text(),10)||1,e=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),r.hasClass("old")&&(0===f?(f=11,e-=1,s=!0,l=!0):(f-=1,s=!0)),r.hasClass("new")&&(11===f?(f=0,e+=1,s=!0,l=!0):(f+=1,s=!0)),this._setDate(u(e,f,o)),l&&this._trigger("changeYear",this.viewDate),s&&this._trigger("changeMonth",this.viewDate)),r.hasClass("month")&&(this.viewDate.setUTCDate(1),o=1,f=r.parent().find("span").index(r),e=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(f),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(u(e,f,o)),this.showMode()):this.showMode(-1),this.fill()),(r.hasClass("year")||r.hasClass("decade")||r.hasClass("century"))&&(this.viewDate.setUTCDate(1),o=1,f=0,e=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(e),r.hasClass("year")&&(this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(u(e,f,o))),r.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),3===this.o.minViewMode&&this._setDate(u(e,f,o))),r.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),4===this.o.minViewMode&&this._setDate(u(e,f,o))),this.showMode(-1),this.fill()));this.picker.is(":visible")&&this._focused_from&&n(this._focused_from).focus();delete this._focused_from},_toggle_multidate:function(n){var t=this.dates.contains(n);if(n||this.dates.clear(),-1!==t?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(n)):this.dates.push(n),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(n,t){t&&"date"!==t||this._toggle_multidate(n&&new Date(n));t&&"view"!==t||(this.viewDate=n&&new Date(n));this.fill();this.setValue();t&&"view"===t||this._trigger("changeDate");this.inputField&&this.inputField.change();!this.o.autoclose||t&&"date"!==t||this.hide()},moveDay:function(n,t){var i=new Date(n);return i.setUTCDate(n.getUTCDate()+t),i},moveWeek:function(n,t){return this.moveDay(n,7*t)},moveMonth:function(n,t){var u;if(!p(n))return this.o.defaultViewDate;if(!t)return n;var r,f,i=new Date(n.valueOf()),e=i.getUTCDate(),o=i.getUTCMonth(),s=Math.abs(t);if(t=t>0?1:-1,1===s)f=-1===t?function(){return i.getUTCMonth()===o}:function(){return i.getUTCMonth()!==r},r=o+t,i.setUTCMonth(r),(0>r||r>11)&&(r=(r+12)%12);else{for(u=0;s>u;u++)i=this.moveMonth(i,t);r=i.getUTCMonth();i.setUTCDate(e);f=function(){return r!==i.getUTCMonth()}}for(;f();)i.setUTCDate(--e),i.setUTCMonth(r);return i},moveYear:function(n,t){return this.moveMonth(n,12*t)},moveAvailableDate:function(n,t,i){do{if(n=this[i](n,t),!this.dateWithinRange(n))return!1;i="moveDay"}while(this.dateIsDisabled(n));return n},weekOfDateIsDisabled:function(t){return-1!==n.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||n.grep(this.o.datesDisabled,function(n){return y(t,n)}).length>0},dateWithinRange:function(n){return n>=this.o.startDate&&n<=this.o.endDate},keydown:function(n){if(!this.picker.is(":visible"))return void((40===n.keyCode||27===n.keyCode)&&(this.show(),n.stopPropagation()));var t,i,u=!1,r=this.focusDate||this.viewDate;switch(n.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide();n.preventDefault();n.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;t=37===n.keyCode||38===n.keyCode?-1:1;0===this.viewMode?n.ctrlKey?(i=this.moveAvailableDate(r,t,"moveYear"),i&&this._trigger("changeYear",this.viewDate)):n.shiftKey?(i=this.moveAvailableDate(r,t,"moveMonth"),i&&this._trigger("changeMonth",this.viewDate)):37===n.keyCode||39===n.keyCode?i=this.moveAvailableDate(r,t,"moveDay"):this.weekOfDateIsDisabled(r)||(i=this.moveAvailableDate(r,t,"moveWeek")):1===this.viewMode?((38===n.keyCode||40===n.keyCode)&&(t=4*t),i=this.moveAvailableDate(r,t,"moveMonth")):2===this.viewMode&&((38===n.keyCode||40===n.keyCode)&&(t=4*t),i=this.moveAvailableDate(r,t,"moveYear"));i&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),n.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate;this.o.keyboardNavigation&&(this._toggle_multidate(r),u=!0);this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();this.picker.is(":visible")&&(n.preventDefault(),n.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide()}u&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField&&this.inputField.change())},showMode:function(n){n&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+n)));this.picker.children("div").hide().filter(".datepicker-"+i.modes[this.viewMode].clsName).show();this.updateNavArrows()}};o=function(t,i){n(t).data("datepicker",this);this.element=n(t);this.inputs=n.map(i.inputs,function(n){return n.jquery?n[0]:n});delete i.inputs;e.call(n(this.inputs),i).on("changeDate",n.proxy(this.dateUpdated,this));this.pickers=n.map(this.inputs,function(t){return n(t).data("datepicker")});this.updateDates()};o.prototype={updateDates:function(){this.dates=n.map(this.pickers,function(n){return n.getUTCDate()});this.updateRanges()},updateRanges:function(){var t=n.map(this.dates,function(n){return n.valueOf()});n.each(this.pickers,function(n,i){i.setRange(t)})},dateUpdated:function(t){var f;if(!this.updating&&(this.updating=!0,f=n(t.target).data("datepicker"),"undefined"!=typeof f)){var i=f.getUTCDate(),e=n.inArray(t.target,this.inputs),r=e-1,u=e+1,o=this.inputs.length;if(-1!==e){if(n.each(this.pickers,function(n,t){t.getUTCDate()||t.setUTCDate(i)}),i<this.dates[r])for(;r>=0&&i<this.dates[r];)this.pickers[r--].setUTCDate(i);else if(i>this.dates[u])for(;o>u&&i>this.dates[u];)this.pickers[u++].setUTCDate(i);this.updateDates();delete this.updating}}},remove:function(){n.map(this.pickers,function(n){n.remove()});delete this.element.data().datepicker}};a=n.fn.datepicker;e=function(i){var u=Array.apply(null,arguments),r;if(u.shift(),this.each(function(){var h=n(this),t=h.data("datepicker"),c="object"==typeof i&&i;if(!t){var l=w(this,"date"),a=n.extend({},s,l,c),v=b(a.language),e=n.extend({},s,v,l,c);h.hasClass("input-daterange")||e.inputs?(n.extend(e,{inputs:e.inputs||h.find("input").toArray()}),t=new o(this,e)):t=new f(this,e);h.data("datepicker",t)}"string"==typeof i&&"function"==typeof t[i]&&(r=t[i].apply(t,u))}),r===t||r instanceof f||r instanceof o)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");return r};n.fn.datepicker=e;s=n.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:n.noop,beforeShowMonth:n.noop,beforeShowYear:n.noop,beforeShowDecade:n.noop,beforeShowCentury:n.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}};v=n.fn.datepicker.locale_opts=["format","rtl","weekStart"];n.fn.datepicker.Constructor=f;r=n.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}};i={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(n){return n%4==0&&n%100!=0||n%400==0},getDaysInMonth:function(n,t){return[31,i.isLeapYear(n)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(n){if("function"==typeof n.toValue&&"function"==typeof n.toDisplay)return n;var t=n.replace(this.validParts,"\x00").split("\x00"),i=n.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(e,o,s,c){function rt(n,t){return t===!0&&(t=10),100>n&&(n+=2e3,n>(new Date).getFullYear()+t&&(n-=100)),n}function ut(){var n=this.slice(0,a[l].length),t=a[l].slice(0,n.length);return n.toLowerCase()===t.toLowerCase()}var y,ft,k,w;if(!e)return t;if(e instanceof Date)return e;if("string"==typeof o&&(o=i.parseFormat(o)),o.toValue)return o.toValue(e,o,s);var v,d,l,g,et=/([\-+]\d+)([dmwy])/,a=e.match(/([\-+]\d+)([dmwy])/g),ot={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},st={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e)){for(e=new Date,l=0;l<a.length;l++)v=et.exec(a[l]),d=parseInt(v[1]),g=ot[v[2]],e=f.prototype[g](e,d);return u(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}if("undefined"!=typeof st[e]&&(e=st[e],a=e.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e))){for(e=new Date,l=0;l<a.length;l++)v=et.exec(a[l]),d=parseInt(v[1]),g=ot[v[2]],e=f.prototype[g](e,d);return u(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}a=e&&e.match(this.nonpunctuation)||[];e=new Date;var b,nt,tt={},it=["yyyy","yy","M","MM","m","mm","d","dd"],p={yyyy:function(n,t){return n.setUTCFullYear(c?rt(t,c):t)},yy:function(n,t){return n.setUTCFullYear(c?rt(t,c):t)},m:function(n,t){if(isNaN(n))return n;for(t-=1;0>t;)t+=12;for(t%=12,n.setUTCMonth(t);n.getUTCMonth()!==t;)n.setUTCDate(n.getUTCDate()-1);return n},d:function(n,t){return n.setUTCDate(t)}};if(p.M=p.MM=p.mm=p.m,p.dd=p.d,e=h(),y=o.parts.slice(),a.length!==y.length&&(y=n(y).filter(function(t,i){return-1!==n.inArray(i,it)}).toArray()),a.length===y.length){for(l=0,ft=y.length;ft>l;l++){if(b=parseInt(a[l],10),v=y[l],isNaN(b))switch(v){case"MM":nt=n(r[s].months).filter(ut);b=n.inArray(nt[0],r[s].months)+1;break;case"M":nt=n(r[s].monthsShort).filter(ut);b=n.inArray(nt[0],r[s].monthsShort)+1}tt[v]=b}for(l=0;l<it.length;l++)w=it[l],w in tt&&!isNaN(tt[w])&&(k=new Date(e),p[w](k,tt[w]),isNaN(k)||(e=k))}return e},formatDate:function(t,u,f){var e;if(!t)return"";if("string"==typeof u&&(u=i.parseFormat(u)),u.toDisplay)return u.toDisplay(t,u,f);e={d:t.getUTCDate(),D:r[f].daysShort[t.getUTCDay()],DD:r[f].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:r[f].monthsShort[t.getUTCMonth()],MM:r[f].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};e.dd=(e.d<10?"0":"")+e.d;e.mm=(e.m<10?"0":"")+e.m;t=[];for(var s=n.extend([],u.separators),o=0,h=u.parts.length;h>=o;o++)s.length&&t.push(s.shift()),t.push(e[u.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"><\/th><\/tr><tr><th class="prev">&laquo;<\/th><th colspan="5" class="datepicker-switch"><\/th><th class="next">&raquo;<\/th><\/tr><\/thead>',contTemplate:'<tbody><tr><td colspan="7"><\/td><\/tr><\/tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"><\/th><\/tr><tr><th colspan="7" class="clear"><\/th><\/tr><\/tfoot>'};i.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+i.headTemplate+"<tbody><\/tbody>"+i.footTemplate+'<\/table><\/div><div class="datepicker-months"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-years"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-decades"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-centuries"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+"<\/table><\/div><\/div>";n.fn.datepicker.DPGlobal=i;n.fn.datepicker.noConflict=function(){return n.fn.datepicker=a,this};n.fn.datepicker.version="1.6.4";n(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=n(this);i.data("datepicker")||(t.preventDefault(),e.call(i,"show"))});n(function(){e.call(n('[data-provide="datepicker-inline"]'))})});
/*!
 * Bootstrap-select v1.12.2 (http://silviomoreto.github.io/bootstrap-select)
 *
 * Copyright 2013-2017 bootstrap-select
 * Licensed under MIT (https://github.com/silviomoreto/bootstrap-select/blob/master/LICENSE)
 */
!function(n,t){"function"==typeof define&&define.amd?define(["jquery"],function(n){return t(n)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(n.jQuery)}(this,function(n){!function(n){"use strict";function f(t){return n.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){t=t?t.replace(this.re,this.ch):""}),t}function e(i){var f=arguments,r=i,u,e;return[].shift.apply(f),e=this.each(function(){var o=n(this),i,e,s,h;if(o.is("select")){if(i=o.data("selectpicker"),e="object"==typeof r&&r,i){if(e)for(s in e)e.hasOwnProperty(s)&&(i.options[s]=e[s])}else h=n.extend({},t.DEFAULTS,n.fn.selectpicker.defaults||{},o.data(),e),h.template=n.extend({},t.DEFAULTS.template,n.fn.selectpicker.defaults?n.fn.selectpicker.defaults.template:{},o.data().template,e.template),o.data("selectpicker",i=new t(this,h));"string"==typeof r&&(u=i[r]instanceof Function?i[r].apply(i,f):i.options[r])}}),"undefined"!=typeof u?u:e}var i,r,o;String.prototype.includes||!function(){var i={}.toString,n=function(){try{var n={},t=Object.defineProperty,i=t(n,n,n)&&t}catch(n){}return i}(),r="".indexOf,t=function(n){var u,f;if(null==this)throw new TypeError;if(u=String(this),n&&"[object RegExp]"==i.call(n))throw new TypeError;var e=u.length,o=String(n),h=o.length,s=arguments.length>1?arguments[1]:void 0,t=s?Number(s):0;return t!=t&&(t=0),f=Math.min(Math.max(t,0),e),!(h+f>e)&&r.call(u,o,t)!=-1};n?n(String.prototype,"includes",{value:t,configurable:!0,writable:!0}):String.prototype.includes=t}();String.prototype.startsWith||!function(){var n=function(){try{var n={},t=Object.defineProperty,i=t(n,n,n)&&t}catch(n){}return i}(),i={}.toString,t=function(n){var u,f,t;if(null==this)throw new TypeError;if(u=String(this),n&&"[object RegExp]"==i.call(n))throw new TypeError;var e=u.length,o=String(n),s=o.length,h=arguments.length>1?arguments[1]:void 0,r=h?Number(h):0;if(r!=r&&(r=0),f=Math.min(Math.max(r,0),e),s+f>e)return!1;for(t=-1;++t<s;)if(u.charCodeAt(f+t)!=o.charCodeAt(t))return!1;return!0};n?n(String.prototype,"startsWith",{value:t,configurable:!0,writable:!0}):String.prototype.startsWith=t}();Object.keys||(Object.keys=function(n,t,i){i=[];for(t in n)i.hasOwnProperty.call(n,t)&&i.push(t);return i});i={useDefault:!1,_set:n.valHooks.select.set};n.valHooks.select.set=function(t,r){return r&&!i.useDefault&&n(t).data("selected",!0),i._set.apply(this,arguments)};r=null;n.fn.triggerNative=function(n){var t,i=this[0];i.dispatchEvent?("function"==typeof Event?t=new Event(n,{bubbles:!0}):(t=document.createEvent("Event"),t.initEvent(n,!0,!1)),i.dispatchEvent(t)):i.fireEvent?(t=document.createEventObject(),t.eventType=n,i.fireEvent("on"+n,t)):this.trigger(n)};n.expr.pseudos.icontains=function(t,i,r){var u=n(t),f=(u.data("tokens")||u.text()).toString().toUpperCase();return f.includes(r[3].toUpperCase())};n.expr.pseudos.ibegins=function(t,i,r){var u=n(t),f=(u.data("tokens")||u.text()).toString().toUpperCase();return f.startsWith(r[3].toUpperCase())};n.expr.pseudos.aicontains=function(t,i,r){var u=n(t),f=(u.data("tokens")||u.data("normalizedText")||u.text()).toString().toUpperCase();return f.includes(r[3].toUpperCase())};n.expr.pseudos.aibegins=function(t,i,r){var u=n(t),f=(u.data("tokens")||u.data("normalizedText")||u.text()).toString().toUpperCase();return f.startsWith(r[3].toUpperCase())};var s=function(n){var i=function(t){return n[t]},t="(?:"+Object.keys(n).join("|")+")",r=RegExp(t),u=RegExp(t,"g");return function(n){return n=null==n?"":""+n,r.test(n)?n.replace(u,i):n}},u=s({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),h=s({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"}),t=function(r,u){i.useDefault||(n.valHooks.select.set=i._set,i.useDefault=!0);this.$element=n(r);this.$newElement=null;this.$button=null;this.$menu=null;this.$lis=null;this.options=u;null===this.options.title&&(this.options.title=this.$element.attr("title"));var f=this.options.windowPadding;"number"==typeof f&&(this.options.windowPadding=[f,f,f,f]);this.val=t.prototype.val;this.render=t.prototype.render;this.refresh=t.prototype.refresh;this.setStyle=t.prototype.setStyle;this.selectAll=t.prototype.selectAll;this.deselectAll=t.prototype.deselectAll;this.destroy=t.prototype.destroy;this.remove=t.prototype.remove;this.show=t.prototype.show;this.hide=t.prototype.hide;this.init()};t.VERSION="1.12.2";t.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(n){return 1==n?"{0} item selected":"{0} items selected"},maxOptionsText:function(n,t){return[1==n?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"><\/span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0};t.prototype={constructor:t,init:function(){var t=this,i=this.$element.attr("id");this.$element.addClass("bs-select-hidden");this.liObj={};this.multiple=this.$element.prop("multiple");this.autofocus=this.$element.prop("autofocus");this.$newElement=this.createView();this.$element.after(this.$newElement).appendTo(this.$newElement);this.$button=this.$newElement.children("button");this.$menu=this.$newElement.children(".dropdown-menu");this.$menuInner=this.$menu.children(".inner");this.$searchbox=this.$menu.find("input");this.$element.removeClass("bs-select-hidden");this.options.dropdownAlignRight===!0&&this.$menu.addClass("dropdown-menu-right");"undefined"!=typeof i&&(this.$button.attr("data-id",i),n('label[for="'+i+'"]').click(function(n){n.preventDefault();t.$button.focus()}));this.checkDisabled();this.clickListener();this.options.liveSearch&&this.liveSearchListener();this.render();this.setStyle();this.setWidth();this.options.container&&this.selectPosition();this.$menu.data("this",this);this.$newElement.data("this",this);this.options.mobile&&this.mobile();this.$newElement.on({"hide.bs.dropdown":function(n){t.$menuInner.attr("aria-expanded",!1);t.$element.trigger("hide.bs.select",n)},"hidden.bs.dropdown":function(n){t.$element.trigger("hidden.bs.select",n)},"show.bs.dropdown":function(n){t.$menuInner.attr("aria-expanded",!0);t.$element.trigger("show.bs.select",n)},"shown.bs.dropdown":function(n){t.$element.trigger("shown.bs.select",n)}});t.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){t.$button.addClass("bs-invalid").focus();t.$element.on({"focus.bs.select":function(){t.$button.focus();t.$element.off("focus.bs.select")},"shown.bs.select":function(){t.$element.val(t.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&t.$button.removeClass("bs-invalid");t.$element.off("rendered.bs.select")}})});setTimeout(function(){t.$element.trigger("loaded.bs.select")})},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",i=this.$element.parent().hasClass("input-group")?" input-group-btn":"",r=this.autofocus?" autofocus":"",f=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;<\/button>'+this.options.header+"<\/div>":"",e=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+u(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"><\/div>':"",o=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'<\/button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"<\/button><\/div><\/div>":"",s=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"<\/button><\/div><\/div>":"",h='<div class="btn-group bootstrap-select'+t+i+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+r+' role="button"><span class="filter-option pull-left"><\/span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'<\/span><\/button><div class="dropdown-menu open" role="combobox">'+f+e+o+'<ul class="dropdown-menu inner" role="listbox" aria-expanded="false"><\/ul>'+s+"<\/div><\/div>";return n(h)},createView:function(){var n=this.createDropdown(),t=this.createLi();return n.find("ul")[0].innerHTML=t,n},reloadLi:function(){var n=this.createLi();this.$menuInner[0].innerHTML=n},createLi:function(){var t=this,i=[],o=0,s=document.createElement("option"),r=-1,e=function(n,t,i,r){return"<li"+("undefined"!=typeof i&""!==i?' class="'+i+'"':"")+("undefined"!=typeof t&null!==t?' data-original-index="'+t+'"':"")+("undefined"!=typeof r&null!==r?'data-optgroup="'+r+'"':"")+">"+n+"<\/li>"},c=function(i,r,e,o){return'<a tabindex="0"'+("undefined"!=typeof r?' class="'+r+'"':"")+(e?' style="'+e+'"':"")+(t.options.liveSearchNormalize?' data-normalized-text="'+f(u(n(i).html()))+'"':"")+("undefined"!=typeof o||null!==o?' data-tokens="'+o+'"':"")+' role="option">'+i+'<span class="'+t.options.iconBase+" "+t.options.tickIcon+' check-mark"><\/span><\/a>'},h,l;return!this.options.title||this.multiple||(r--,this.$element.find(".bs-title-option").length)||(h=this.$element[0],s.className="bs-title-option",s.innerHTML=this.options.title,s.value="",h.insertBefore(s,h.firstChild),l=n(h.options[h.selectedIndex]),void 0===l.attr("selected")&&void 0===this.$element.data("selected")&&(s.selected=!0)),this.$element.find("option").each(function(f){var s=n(this),k,d,v,y,l,g,p,nt;if(r++,!s.hasClass("bs-title-option")){var tt=this.className||"",it=this.style.cssText,a=s.data("content")?s.data("content"):s.html(),rt=s.data("tokens")?s.data("tokens"):null,ot="undefined"!=typeof s.data("subtext")?'<small class="text-muted">'+s.data("subtext")+"<\/small>":"",w="undefined"!=typeof s.data("icon")?'<span class="'+t.options.iconBase+" "+s.data("icon")+'"><\/span> ':"",h=s.parent(),ut="OPTGROUP"===h[0].tagName,et=ut&&h[0].disabled,b=this.disabled||et;if(""!==w&&b&&(w="<span>"+w+"<\/span>"),t.options.hideDisabled&&(b&&!ut||et))return void r--;if(s.data("content")||(a=w+'<span class="text">'+a+ot+"<\/span>"),ut&&s.data("divider")!==!0){if(t.options.hideDisabled&&b&&(void 0===h.data("allOptionsDisabled")&&(k=h.children(),h.data("allOptionsDisabled",k.filter(":disabled").length===k.length)),h.data("allOptionsDisabled")))return void r--;if(d=" "+h[0].className||"",0===s.index()){o+=1;var ft=h[0].label,st="undefined"!=typeof h.data("subtext")?'<small class="text-muted">'+h.data("subtext")+"<\/small>":"",ht=h.data("icon")?'<span class="'+t.options.iconBase+" "+h.data("icon")+'"><\/span> ':"";ft=ht+'<span class="text">'+u(ft)+st+"<\/span>";0!==f&&i.length>0&&(r++,i.push(e("",null,"divider",o+"div")));r++;i.push(e(ft,null,"dropdown-header"+d,o))}if(t.options.hideDisabled&&b)return void r--;i.push(e(c(a,"opt "+tt+d,it,rt),f,"",o))}else if(s.data("divider")===!0)i.push(e("",f,"divider"));else if(s.data("hidden")===!0)i.push(e(c(a,tt,it,rt),f,"hidden is-hidden"));else{if(v=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName,!v&&t.options.hideDisabled)for(y=n(this).prevAll(),l=0;l<y.length;l++)if("OPTGROUP"===y[l].tagName){for(g=0,p=0;p<l;p++)nt=y[p],(nt.disabled||n(nt).data("hidden")===!0)&&g++;g===l&&(v=!0);break}v&&(r++,i.push(e("",null,"divider",o+"div")));i.push(e(c(a,tt,it,rt),f))}t.liObj[f]=r}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),i.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(t){var o,i=this,r,u,f,e,s;t!==!1&&this.$element.find("option").each(function(n){var t=i.findLis().eq(i.liObj[n]);i.setDisabled(n,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,t);i.setSelected(n,this.selected,t)});this.togglePlaceholder();this.tabIndex();r=this.$element.find("option").map(function(){if(this.selected){if(i.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var r,t=n(this),u=t.data("icon")&&i.options.showIcon?'<i class="'+i.options.iconBase+" "+t.data("icon")+'"><\/i> ':"";return r=i.options.showSubtext&&t.data("subtext")&&!i.multiple?' <small class="text-muted">'+t.data("subtext")+"<\/small>":"","undefined"!=typeof t.attr("title")?t.attr("title"):t.data("content")&&i.options.showContent?t.data("content").toString():u+t.html()+r}}).toArray();u=this.multiple?r.join(this.options.multipleSeparator):r[0];this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1&&(f=this.options.selectedTextFormat.split(">"),(f.length>1&&r.length>f[1]||1==f.length&&r.length>=2)&&(o=this.options.hideDisabled?", [disabled]":"",e=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+o).length,s="function"==typeof this.options.countSelectedText?this.options.countSelectedText(r.length,e):this.options.countSelectedText,u=s.replace("{0}",r.length.toString()).replace("{1}",e.toString())));void 0==this.options.title&&(this.options.title=this.$element.attr("title"));"static"==this.options.selectedTextFormat&&(u=this.options.title);u||(u="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText);this.$button.attr("title",h(n.trim(u.replace(/<[^>]*>?/g,""))));this.$button.children(".filter-option").html(u);this.$element.trigger("rendered.bs.select")},setStyle:function(n,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var i=n?n:this.options.style;"add"==t?this.$button.addClass(i):"remove"==t?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(t){var l;if(t||this.options.size!==!1&&!this.sizeInfo){var e=document.createElement("div"),u=document.createElement("div"),o=document.createElement("ul"),a=document.createElement("li"),w=document.createElement("li"),v=document.createElement("a"),y=document.createElement("span"),s=this.options.header&&this.$menu.find(".popover-title").length>0?this.$menu.find(".popover-title")[0].cloneNode(!0):null,f=this.options.liveSearch?document.createElement("div"):null,h=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,c=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;(y.className="text",e.className=this.$menu[0].parentNode.className+" open",u.className="dropdown-menu open",o.className="dropdown-menu inner",a.className="divider",y.appendChild(document.createTextNode("Inner text")),v.appendChild(y),w.appendChild(v),o.appendChild(w),o.appendChild(a),s&&u.appendChild(s),f)&&(l=document.createElement("input"),f.className="bs-searchbox",l.className="form-control",f.appendChild(l),u.appendChild(f));h&&u.appendChild(h);u.appendChild(o);c&&u.appendChild(c);e.appendChild(u);document.body.appendChild(e);var b=v.offsetHeight,k=s?s.offsetHeight:0,d=f?f.offsetHeight:0,g=h?h.offsetHeight:0,nt=c?c.offsetHeight:0,tt=n(a).outerHeight(!0),i="function"==typeof getComputedStyle&&getComputedStyle(u),r=i?null:n(u),p={vert:parseInt(i?i.paddingTop:r.css("paddingTop"))+parseInt(i?i.paddingBottom:r.css("paddingBottom"))+parseInt(i?i.borderTopWidth:r.css("borderTopWidth"))+parseInt(i?i.borderBottomWidth:r.css("borderBottomWidth")),horiz:parseInt(i?i.paddingLeft:r.css("paddingLeft"))+parseInt(i?i.paddingRight:r.css("paddingRight"))+parseInt(i?i.borderLeftWidth:r.css("borderLeftWidth"))+parseInt(i?i.borderRightWidth:r.css("borderRightWidth"))},it={vert:p.vert+parseInt(i?i.marginTop:r.css("marginTop"))+parseInt(i?i.marginBottom:r.css("marginBottom"))+2,horiz:p.horiz+parseInt(i?i.marginLeft:r.css("marginLeft"))+parseInt(i?i.marginRight:r.css("marginRight"))+2};document.body.removeChild(e);this.sizeInfo={liHeight:b,headerHeight:k,searchHeight:d,actionsHeight:g,doneButtonHeight:nt,dividerHeight:tt,menuPadding:p,menuExtras:it}}},setSize:function(){var s,k,d;if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),this.options.size!==!1){var r,g,f,a,e,h,c,v,i=this,t=this.$menu,nt=this.$menuInner,o=n(window),ft=this.$newElement[0].offsetHeight,tt=this.$newElement[0].offsetWidth,it=this.sizeInfo.liHeight,y=this.sizeInfo.headerHeight,p=this.sizeInfo.searchHeight,w=this.sizeInfo.actionsHeight,b=this.sizeInfo.doneButtonHeight,et=this.sizeInfo.dividerHeight,l=this.sizeInfo.menuPadding,u=this.sizeInfo.menuExtras,rt=this.options.hideDisabled?".disabled":"",ut=function(){var t,f=i.$newElement.offset(),u=n(i.options.container),r;i.options.container&&!u.is("body")?(t=u.offset(),t.top+=parseInt(u.css("borderTopWidth")),t.left+=parseInt(u.css("borderLeftWidth"))):t={top:0,left:0};r=i.options.windowPadding;e=f.top-t.top-o.scrollTop();h=o.height()-e-ft-t.top-r[2];c=f.left-t.left-o.scrollLeft();v=o.width()-c-tt-t.left-r[1];e-=r[0];c-=r[3]};(ut(),"auto"===this.options.size)?(s=function(){var o,k=function(t,i){return function(r){return i?r.classList?r.classList.contains(t):n(r).hasClass(t):!(r.classList?r.classList.contains(t):n(r).hasClass(t))}},d=i.$menuInner[0].getElementsByTagName("li"),s=Array.prototype.filter?Array.prototype.filter.call(d,k("hidden",!1)):i.$lis.not(".hidden"),rt=Array.prototype.filter?Array.prototype.filter.call(s,k("dropdown-header",!0)):s.filter(".dropdown-header");ut();r=h-u.vert;g=v-u.horiz;i.options.container?(t.data("height")||t.data("height",t.height()),f=t.data("height"),t.data("width")||t.data("width",t.width()),a=t.data("width")):(f=t.height(),a=t.width());i.options.dropupAuto&&i.$newElement.toggleClass("dropup",e>h&&r-u.vert<f);i.$newElement.hasClass("dropup")&&(r=e-u.vert);"auto"===i.options.dropdownAlignRight&&t.toggleClass("dropdown-menu-right",c>v&&g-u.horiz<a-tt);o=s.length+rt.length>3?3*it+u.vert-2:0;t.css({"max-height":r+"px",overflow:"hidden","min-height":o+y+p+w+b+"px"});nt.css({"max-height":r-y-p-w-b-l.vert+"px","overflow-y":"auto","min-height":Math.max(o-l.vert,0)+"px"})},s(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",s),o.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",s)):this.options.size&&"auto"!=this.options.size&&this.$lis.not(rt).length>this.options.size&&(k=this.$lis.not(".divider").not(rt).children().slice(0,this.options.size).last().parent().index(),d=this.$lis.slice(0,k+1).filter(".divider").length,r=it*this.options.size+d*et+l.vert,i.options.container?(t.data("height")||t.data("height",t.height()),f=t.data("height")):f=t.height(),i.options.dropupAuto&&this.$newElement.toggleClass("dropup",e>h&&r-u.vert<f),t.css({"max-height":r+y+p+w+b+"px",overflow:"hidden","min-height":""}),nt.css({"max-height":r-l.vert+"px","overflow-y":"auto","min-height":""}))}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var n=this.$menu.parent().clone().appendTo("body"),t=this.options.container?this.$newElement.clone().appendTo("body"):n,i=n.children(".dropdown-menu").outerWidth(),r=t.css("width","auto").children("button").outerWidth();n.remove();t.remove();this.$newElement.css("width",Math.max(i,r)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=n('<div class="bs-container" />');var u,i,f,t=this,r=n(this.options.container),e=function(n){t.$bsContainer.addClass(n.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",n.hasClass("dropup"));u=n.offset();r.is("body")?i={top:0,left:0}:(i=r.offset(),i.top+=parseInt(r.css("borderTopWidth"))-r.scrollTop(),i.left+=parseInt(r.css("borderLeftWidth"))-r.scrollLeft());f=n.hasClass("dropup")?0:n[0].offsetHeight;t.$bsContainer.css({top:u.top-i.top+f,left:u.left-i.left,width:n[0].offsetWidth})};this.$button.on("click",function(){var i=n(this);t.isDisabled()||(e(t.$newElement),t.$bsContainer.appendTo(t.options.container).toggleClass("open",!i.hasClass("open")).append(t.$menu))});n(window).on("resize scroll",function(){e(t.$newElement)});this.$element.on("hide.bs.select",function(){t.$menu.data("height",t.$menu.height());t.$bsContainer.detach()})},setSelected:function(n,t,i){i||(this.togglePlaceholder(),i=this.findLis().eq(this.liObj[n]));i.toggleClass("selected",t).find("a").attr("aria-selected",t)},setDisabled:function(n,t,i){i||(i=this.findLis().eq(this.liObj[n]));t?i.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1).attr("aria-disabled",!0):i.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0).attr("aria-disabled",!1)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var n=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled").attr("aria-disabled",!1)),this.$button.attr("tabindex")!=-1||this.$element.data("tabindex")||this.$button.removeAttr("tabindex"));this.$button.click(function(){return!n.isDisabled()})},togglePlaceholder:function(){var n=this.$element.val();this.$button.toggleClass("bs-placeholder",null===n||""===n||n.constructor===Array&&0===n.length)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&this.$element.attr("tabindex")!==-98&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")));this.$element.attr("tabindex",-98)},clickListener:function(){var t=this,i=n(document);i.data("spaceSelect",!1);this.$button.on("keyup",function(n){/(32)/.test(n.keyCode.toString(10))&&i.data("spaceSelect")&&(n.preventDefault(),i.data("spaceSelect",!1))});this.$button.on("click",function(){t.setSize()});this.$element.on("shown.bs.select",function(){var i,n;if(t.options.liveSearch||t.multiple){if(!t.multiple){if(i=t.liObj[t.$element[0].selectedIndex],"number"!=typeof i||t.options.size===!1)return;n=t.$lis.eq(i)[0].offsetTop-t.$menuInner[0].offsetTop;n=n-t.$menuInner[0].offsetHeight/2+t.sizeInfo.liHeight/2;t.$menuInner[0].scrollTop=n}}else t.$menuInner.find(".selected a").focus()});this.$menuInner.on("click","li a",function(i){var h=n(this),o=h.parent().data("originalIndex"),nt=t.$element.val(),tt=t.$element.prop("selectedIndex"),a=!0,v,y,g;if(t.multiple&&1!==t.options.maxOptions&&i.stopPropagation(),i.preventDefault(),!t.isDisabled()&&!h.parent().hasClass("disabled")){var c=t.$element.find("option"),e=c.eq(o),p=e.prop("selected"),w=e.parent("optgroup"),u=t.options.maxOptions,f=w.data("maxOptions")||!1;if(t.multiple){if((e.prop("selected",!p),t.setSelected(o,!p),h.blur(),u!==!1||f!==!1)&&(v=u<c.filter(":selected").length,y=f<w.find("option:selected").length,u&&v||f&&y))if(u&&1==u)c.prop("selected",!1),e.prop("selected",!0),t.$menuInner.find(".selected").removeClass("selected"),t.setSelected(o,!0);else if(f&&1==f)w.find("option:selected").prop("selected",!1),e.prop("selected",!0),g=h.parent().data("optgroup"),t.$menuInner.find('[data-optgroup="'+g+'"]').removeClass("selected"),t.setSelected(o,!0);else{var b="string"==typeof t.options.maxOptionsText?[t.options.maxOptionsText,t.options.maxOptionsText]:t.options.maxOptionsText,s="function"==typeof b?b(u,f):b,k=s[0].replace("{n}",u),d=s[1].replace("{n}",f),l=n('<div class="notify"><\/div>');s[2]&&(k=k.replace("{var}",s[2][u>1?0:1]),d=d.replace("{var}",s[2][f>1?0:1]));e.prop("selected",!1);t.$menu.append(l);u&&v&&(l.append(n("<div>"+k+"<\/div>")),a=!1,t.$element.trigger("maxReached.bs.select"));f&&y&&(l.append(n("<div>"+d+"<\/div>")),a=!1,t.$element.trigger("maxReachedGrp.bs.select"));setTimeout(function(){t.setSelected(o,!1)},10);l.delay(750).fadeOut(300,function(){n(this).remove()})}}else c.prop("selected",!1),e.prop("selected",!0),t.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected",!1),t.setSelected(o,!0);!t.multiple||t.multiple&&1===t.options.maxOptions?t.$button.focus():t.options.liveSearch&&t.$searchbox.focus();a&&(nt!=t.$element.val()&&t.multiple||tt!=t.$element.prop("selectedIndex")&&!t.multiple)&&(r=[o,e.prop("selected"),p],t.$element.triggerNative("change"))}});this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(i){i.currentTarget==this&&(i.preventDefault(),i.stopPropagation(),t.options.liveSearch&&!n(i.target).hasClass("close")?t.$searchbox.focus():t.$button.focus())});this.$menuInner.on("click",".divider, .dropdown-header",function(n){n.preventDefault();n.stopPropagation();t.options.liveSearch?t.$searchbox.focus():t.$button.focus()});this.$menu.on("click",".popover-title .close",function(){t.$button.click()});this.$searchbox.on("click",function(n){n.stopPropagation()});this.$menu.on("click",".actions-btn",function(i){t.options.liveSearch?t.$searchbox.focus():t.$button.focus();i.preventDefault();i.stopPropagation();n(this).hasClass("bs-select-all")?t.selectAll():t.deselectAll()});this.$element.change(function(){t.render(!1);t.$element.trigger("changed.bs.select",r);r=null})},liveSearchListener:function(){var t=this,i=n('<li class="no-results"><\/li>');this.$button.on("click.dropdown.data-api",function(){t.$menuInner.find(".active").removeClass("active");t.$searchbox.val()&&(t.$searchbox.val(""),t.$lis.not(".is-hidden").removeClass("hidden"),i.parent().length&&i.remove());t.multiple||t.$menuInner.find(".selected").addClass("active");setTimeout(function(){t.$searchbox.focus()},10)});this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(n){n.stopPropagation()});this.$searchbox.on("input propertychange",function(){var o,e,r,s;(t.$lis.not(".is-hidden").removeClass("hidden"),t.$lis.filter(".active").removeClass("active"),i.remove(),t.$searchbox.val())&&(e=t.$lis.not(".is-hidden, .divider, .dropdown-header"),(o=t.options.liveSearchNormalize?e.find("a").not(":a"+t._searchStyle()+'("'+f(t.$searchbox.val())+'")'):e.find("a").not(":"+t._searchStyle()+'("'+t.$searchbox.val()+'")'),o.length===e.length)?(i.html(t.options.noneResultsText.replace("{0}",'"'+u(t.$searchbox.val())+'"')),t.$menuInner.append(i),t.$lis.addClass("hidden")):(o.parent().addClass("hidden"),s=t.$lis.not(".hidden"),s.each(function(t){var i=n(this);i.hasClass("divider")?void 0===r?i.addClass("hidden"):(r&&r.addClass("hidden"),r=i):i.hasClass("dropdown-header")&&s.eq(t+1).data("optgroup")!==i.data("optgroup")?i.addClass("hidden"):r=null}),r&&r.addClass("hidden"),e.not(".hidden").first().addClass("active")))})},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||"icontains"},val:function(n){return"undefined"!=typeof n?(this.$element.val(n),this.render(),this.$element):this.$element.val()},changeAll:function(t){var r,f;if(this.multiple){"undefined"==typeof t&&(t=!0);this.findLis();var e=this.$element.find("option"),i=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),o=i.length,u=[];if(t){if(i.filter(".selected").length===i.length)return}else if(0===i.filter(".selected").length)return;for(i.toggleClass("selected",t),r=0;r<o;r++)f=i[r].getAttribute("data-original-index"),u[u.length]=e.eq(f)[0];n(u).prop("selected",t);this.render(!1);this.togglePlaceholder();this.$element.triggerNative("change")}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(n){n=n||window.event;n&&n.stopPropagation();this.$button.trigger("click")},keydown:function(t){var r,u,h,l,a,p,w,k,s,e=n(this),v=e.is("input")?e.parent().parent():e.parent(),i=v.data("this"),c=":not(.disabled, .hidden, .dropdown-header, .divider)",b={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},o,g,y,d;if(i.options.liveSearch&&(v=e.parent().parent()),i.options.container&&(v=i.$menu),r=n('[role="listbox"] li',v),s=i.$newElement.hasClass("open"),!s&&(t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105||t.keyCode>=65&&t.keyCode<=90))return i.options.container?i.$button.trigger("click"):(i.setSize(),i.$menu.parent().addClass("open"),s=!0),void i.$searchbox.focus();(i.options.liveSearch&&(/(^9$|27)/.test(t.keyCode.toString(10))&&s&&(t.preventDefault(),t.stopPropagation(),i.$menuInner.click(),i.$button.focus()),r=n('[role="listbox"] li'+c,v),e.val()||/(38|40)/.test(t.keyCode.toString(10))||0===r.filter(".active").length&&(r=i.$menuInner.find("li"),r=i.options.liveSearchNormalize?r.filter(":a"+i._searchStyle()+"("+f(b[t.keyCode])+")"):r.filter(":"+i._searchStyle()+"("+b[t.keyCode]+")"))),r.length)&&(/(38|40)/.test(t.keyCode.toString(10))?(u=r.index(r.find("a").filter(":focus").parent()),l=r.filter(c).first().index(),a=r.filter(c).last().index(),h=r.eq(u).nextAll(c).eq(0).index(),p=r.eq(u).prevAll(c).eq(0).index(),w=r.eq(h).prevAll(c).eq(0).index(),i.options.liveSearch&&(r.each(function(t){n(this).hasClass("disabled")||n(this).data("index",t)}),u=r.index(r.filter(".active")),l=r.first().data("index"),a=r.last().data("index"),h=r.eq(u).nextAll().eq(0).data("index"),p=r.eq(u).prevAll().eq(0).data("index"),w=r.eq(h).prevAll().eq(0).data("index")),k=e.data("prevIndex"),38==t.keyCode?(i.options.liveSearch&&u--,u!=w&&u>p&&(u=p),u<l&&(u=l),u==k&&(u=a)):40==t.keyCode&&(i.options.liveSearch&&u++,u==-1&&(u=0),u!=w&&u<h&&(u=h),u>a&&(u=a),u==k&&(u=l)),e.data("prevIndex",u),i.options.liveSearch?(t.preventDefault(),e.hasClass("dropdown-toggle")||(r.removeClass("active").eq(u).addClass("active").children("a").focus(),e.focus())):r.eq(u).children("a").focus()):e.is("input")||(y=[],r.each(function(){n(this).hasClass("disabled")||n.trim(n(this).children("a").text().toLowerCase()).substring(0,1)==b[t.keyCode]&&y.push(n(this).index())}),o=n(document).data("keycount"),o++,n(document).data("keycount",o),g=n.trim(n(":focus").text().toLowerCase()).substring(0,1),g!=b[t.keyCode]?(o=1,n(document).data("keycount",o)):o>=y.length&&(n(document).data("keycount",0),o>y.length&&(o=1)),r.eq(y[o-1]).children("a").focus()),(/(13|32)/.test(t.keyCode.toString(10))||/(^9$)/.test(t.keyCode.toString(10))&&i.options.selectOnTab)&&s&&((/(32)/.test(t.keyCode.toString(10))||t.preventDefault(),i.options.liveSearch)?/(32) /.test(t.keyCode.toString(10))||(i.$menuInner.find(".active a").click(),e.focus()):(d=n(":focus"),d.click(),d.focus(),t.preventDefault(),n(document).data("spaceSelect",!0)),n(document).data("keycount",0)),(/(^9$|27)/.test(t.keyCode.toString(10))&&s&&(i.multiple||i.options.liveSearch)||/(27)/.test(t.keyCode.toString(10))&&!s)&&(i.$menu.parent().removeClass("open"),i.options.container&&i.$newElement.removeClass("open"),i.$button.focus()))},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null;this.liObj={};this.reloadLi();this.render();this.checkDisabled();this.liHeight(!0);this.setStyle();this.setWidth();this.$lis&&this.$searchbox.trigger("propertychange");this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove();this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove();this.$bsContainer?this.$bsContainer.remove():this.$menu.remove();this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};o=n.fn.selectpicker;n.fn.selectpicker=e;n.fn.selectpicker.Constructor=t;n.fn.selectpicker.noConflict=function(){return n.fn.selectpicker=o,this};n(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',t.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',function(n){n.stopPropagation()});n(window).on("load.bs.select.data-api",function(){n(".selectpicker").each(function(){var t=n(this);e.call(t,t.data())})})}(n)});
/*! ========================================================================
 * Bootstrap Toggle: bootstrap-toggle.js v2.2.0
 * http://www.bootstraptoggle.com
 * ========================================================================
 * Copyright 2014 Min Hur, The New York Times Company
 * Licensed under MIT
 * ======================================================================== */
+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.toggle"),f="object"==typeof i&&i;r||u.data("bs.toggle",r=new t(this,f));"string"==typeof i&&r[i]&&r[i]()})}var t=function(t,i){this.$element=n(t);this.options=n.extend({},this.defaults(),i);this.render()},i;t.VERSION="2.2.0";t.DEFAULTS={on:"On",off:"Off",onstyle:"primary",offstyle:"default",size:"normal",style:"",width:null,height:null};t.prototype.defaults=function(){return{on:this.$element.attr("data-on")||t.DEFAULTS.on,off:this.$element.attr("data-off")||t.DEFAULTS.off,onstyle:this.$element.attr("data-onstyle")||t.DEFAULTS.onstyle,offstyle:this.$element.attr("data-offstyle")||t.DEFAULTS.offstyle,size:this.$element.attr("data-size")||t.DEFAULTS.size,style:this.$element.attr("data-style")||t.DEFAULTS.style,width:this.$element.attr("data-width")||t.DEFAULTS.width,height:this.$element.attr("data-height")||t.DEFAULTS.height}};t.prototype.render=function(){var u,f;this._onstyle="btn-"+this.options.onstyle;this._offstyle="btn-"+this.options.offstyle;var r="large"===this.options.size?"btn-lg":"small"===this.options.size?"btn-sm":"mini"===this.options.size?"btn-xs":"",t=n('<label class="btn">').html(this.options.on).addClass(this._onstyle+" "+r),i=n('<label class="btn">').html(this.options.off).addClass(this._offstyle+" "+r+" active"),e=n('<span class="toggle-handle btn btn-default">').addClass(r),o=n('<div class="toggle-group">').append(t,i,e),s=n('<div class="toggle btn" data-toggle="toggle">').addClass(this.$element.prop("checked")?this._onstyle:this._offstyle+" off").addClass(r).addClass(this.options.style);this.$element.wrap(s);n.extend(this,{$toggle:this.$element.parent(),$toggleOn:t,$toggleOff:i,$toggleGroup:o});this.$toggle.append(o);u=this.options.width||Math.max(t.outerWidth(),i.outerWidth())+e.outerWidth()/2;f=this.options.height||Math.max(t.outerHeight(),i.outerHeight());t.addClass("toggle-on");i.addClass("toggle-off");this.$toggle.css({width:u,height:f});this.options.height&&(t.css("line-height",t.height()+"px"),i.css("line-height",i.height()+"px"));this.update(!0);this.trigger(!0)};t.prototype.toggle=function(){this.$element.prop("checked")?this.off():this.on()};t.prototype.on=function(n){return this.$element.prop("disabled")?!1:(this.$toggle.removeClass(this._offstyle+" off").addClass(this._onstyle),this.$element.prop("checked",!0),void(n||this.trigger()))};t.prototype.off=function(n){return this.$element.prop("disabled")?!1:(this.$toggle.removeClass(this._onstyle).addClass(this._offstyle+" off"),this.$element.prop("checked",!1),void(n||this.trigger()))};t.prototype.enable=function(){this.$toggle.removeAttr("disabled");this.$element.prop("disabled",!1)};t.prototype.disable=function(){this.$toggle.attr("disabled","disabled");this.$element.prop("disabled",!0)};t.prototype.update=function(n){this.$element.prop("disabled")?this.disable():this.enable();this.$element.prop("checked")?this.on(n):this.off(n)};t.prototype.trigger=function(t){this.$element.off("change.bs.toggle");t||this.$element.change();this.$element.on("change.bs.toggle",n.proxy(function(){this.update()},this))};t.prototype.destroy=function(){this.$element.off("change.bs.toggle");this.$toggleGroup.remove();this.$element.removeData("bs.toggle");this.$element.unwrap()};i=n.fn.bootstrapToggle;n.fn.bootstrapToggle=r;n.fn.bootstrapToggle.Constructor=t;n.fn.toggle.noConflict=function(){return n.fn.bootstrapToggle=i,this};n(function(){n("input[type=checkbox][data-toggle^=toggle]").bootstrapToggle()});n(document).on("click.bs.toggle","div[data-toggle^=toggle]",function(t){var i=n(this).find("input[type=checkbox]");i.bootstrapToggle("toggle");t.preventDefault()})}(jQuery);
/**!
 * KvSortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 *
 * Changed kvsortable plugin naming to prevent conflict with JQuery UI Sortable
 * @author Kartik Visweswaran
 */
(function(n){"use strict";typeof define=="function"&&define.amd?define(n):typeof module!="undefined"&&typeof module.exports!="undefined"?module.exports=n():window.KvSortable=n()})(function(){"use strict";function h(n,t){var f,u,i;if(!(n&&n.nodeType&&n.nodeType===1))throw"KvSortable: `el` must be HTMLElement, and not "+{}.toString.call(n);this.el=n;this.options=t=ii({},t);n[g]=this;f={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(n.nodeName)?"li":">*",ghostClass:"kvsortable-ghost",chosenClass:"kvsortable-chosen",dragClass:"kvsortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(n,t){n.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"kvsortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(u in f)u in t||(t[u]=f[u]);si(t);for(i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:wi;r(n,"mousedown",this._onTapStart);r(n,"touchstart",this._onTapStart);r(n,"pointerdown",this._onTapStart);this.nativeDraggable&&(r(n,"dragover",this),r(n,"dragenter",this));rt.push(this._onDragOver);t.store&&this.sort(t.store.get(this))}function st(i,r){i.lastPullMode!=="clone"&&(r=!0);o&&o.state!==r&&(u(o,"display",r?"none":""),r||o.state&&(i.options.group.revertClone?(t.insertBefore(o,nt),i._animate(n,o)):t.insertBefore(o,n)),o.state=r)}function w(n,t,i){if(n){i=i||f;do if(t===">*"&&n.parentNode===i||ni(n,t))return n;while(n=hi(n))}return null}function hi(n){var t=n.host;return t&&t.nodeType?t:n.parentNode}function ci(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move");n.preventDefault()}function r(n,t,i){n.addEventListener(t,i,pt)}function e(n,t,i){n.removeEventListener(t,i,pt)}function a(n,t,i){if(n)if(n.classList)n.classList[i?"add":"remove"](t);else{var r=(" "+n.className+" ").replace(ui," ").replace(" "+t+" "," ");n.className=(r+(i?" "+t:"")).replace(ui," ")}}function u(n,t,i){var r=n&&n.style;if(r){if(i===void 0)return f.defaultView&&f.defaultView.getComputedStyle?i=f.defaultView.getComputedStyle(n,""):n.currentStyle&&(i=n.currentStyle),t===void 0?i:i[t];t in r||(t="-webkit-"+t);r[t]=i+(typeof i=="string"?"":"px")}}function kt(n,t,i){if(n){var u=n.getElementsByTagName(t),r=0,f=u.length;if(i)for(;r<f;r++)i(u[r],r);return u}return[]}function l(n,t,i,r,u,e,s){n=n||t[g];var h=f.createEvent("Event"),c=n.options,l="on"+i.charAt(0).toUpperCase()+i.substr(1);h.initEvent(i,!0,!0);h.to=t;h.from=u||t;h.item=r||t;h.clone=o;h.oldIndex=e;h.newIndex=s;t.dispatchEvent(h);c[l]&&c[l].call(n,h)}function dt(n,t,i,r,u,e,o){var s,h=n[g],c=h.options.onMove,l;return s=f.createEvent("Event"),s.initEvent("move",!0,!0),s.to=t,s.from=n,s.dragged=i,s.draggedRect=r,s.related=u||t,s.relatedRect=e||t.getBoundingClientRect(),n.dispatchEvent(s),c&&(l=c.call(h,s,o)),l}function gt(n){n.draggable=!1}function li(){wt=!1}function ai(n,t){var r=n.lastElementChild,i=r.getBoundingClientRect();return(t.clientY-(i.top+i.height)>5||t.clientX-(i.right+i.width)>5)&&r}function vi(n){for(var t=n.tagName+n.className+n.src+n.href+n.textContent,i=t.length,r=0;i--;)r+=t.charCodeAt(i);return r.toString(36)}function ut(n,t){var i=0;if(!n||!n.parentNode)return-1;while(n&&(n=n.previousElementSibling))n.nodeName.toUpperCase()!=="TEMPLATE"&&(t===">*"||ni(n,t))&&i++;return i}function ni(n,t){if(n){t=t.split(".");var i=t.shift().toUpperCase(),r=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return(i===""||n.nodeName.toUpperCase()==i)&&(!t.length||((" "+n.className+" ").match(r)||[]).length==t.length)}return!1}function ti(n,t){var i,r;return function(){i===void 0&&(i=arguments,r=this,setTimeout(function(){i.length===1?n.call(r,i[0]):n.apply(r,i);i=void 0},t))}}function ii(n,t){if(n&&t)for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function ri(n){return ei?ei(n).clone(!0)[0]:yt&&yt.dom?yt.dom(n).cloneNode(!0):n.cloneNode(!0)}function yi(n){for(var i=n.getElementsByTagName("input"),r=i.length,t;r--;)t=i[r],t.checked&&bt.push(t)}if(typeof window=="undefined"||!window.document)return function(){throw new Error("KvSortable.js requires a window with a document");};var n,b,i,o,t,nt,ht,c,ct,lt,at,ft,vt,v,s,it,et,k={},d,y,ot,ui=/\s+/g,pi=/left|right|inline/,g="KvSortable"+(new Date).getTime(),p=window,f=p.document,fi=p.parseInt,ei=p.jQuery||p.Zepto,yt=p.Polymer,pt=!1,wi=!!("draggable"in f.createElement("div")),oi=function(n){return navigator.userAgent.match(/Trident.*rv[ :]?11\./)?!1:(n=f.createElement("x"),n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto")}(),wt=!1,tt=Math.abs,bi=Math.min,bt=[],rt=[],ki=ti(function(n,t,i){if(i&&t.scroll){var y=i[g],r,o,u=t.scrollSensitivity,v=t.scrollSpeed,s=n.clientX,h=n.clientY,w=window.innerWidth,b=window.innerHeight,f,e,l,a;if(ct!==i&&(c=t.scroll,ct=i,lt=t.scrollFn,c===!0)){c=i;do if(c.offsetWidth<c.scrollWidth||c.offsetHeight<c.scrollHeight)break;while(c=c.parentNode)}c&&(r=c,o=c.getBoundingClientRect(),f=(tt(o.right-s)<=u)-(tt(o.left-s)<=u),e=(tt(o.bottom-h)<=u)-(tt(o.top-h)<=u));f||e||(f=(w-s<=u)-(s<=u),e=(b-h<=u)-(h<=u),(f||e)&&(r=p));(k.vx!==f||k.vy!==e||k.el!==r)&&(k.el=r,k.vx=f,k.vy=e,clearInterval(k.pid),r&&(k.pid=setInterval(function(){if(a=e?e*v:0,l=f?f*v:0,"function"==typeof lt)return lt.call(y,l,a,n);r===p?p.scrollTo(p.pageXOffset+l,p.pageYOffset+a):(r.scrollTop+=a,r.scrollLeft+=l)},24)))}},30),si=function(n){function r(n,t){return(n===void 0||n===!0)&&(n=i.name),typeof n=="function"?n:function(i,r){var u=r.options.group.name;return t?n:n&&(n.join?n.indexOf(u)>-1:u==n)}}var i={},t=n.group;t&&typeof t=="object"||(t={name:t});i.name=t.name;i.checkPull=r(t.pull,!0);i.checkPut=r(t.put);i.revertClone=t.revertClone;n.group=i};h.prototype={constructor:h,_onTapStart:function(t){var s=this,u=this.el,r=this.options,h=r.preventOnFilter,a=t.type,c=t.touches&&t.touches[0],i=(c||t).target,o=t.target.shadowRoot&&t.path[0]||i,f=r.filter,e;if((yi(u),!n)&&(a!=="mousedown"||t.button===0)&&!r.disabled&&(i=w(i,r.draggable,u),i)&&ht!==i){if(e=ut(i,r.draggable),typeof f=="function"){if(f.call(this,t,i,this)){l(s,o,"filter",i,u,e);h&&t.preventDefault();return}}else if(f&&(f=f.split(",").some(function(n){return n=w(o,n.trim(),u),n?(l(s,n,"filter",i,u,e),!0):void 0}),f)){h&&t.preventDefault();return}(!r.handle||w(o,r.handle,u))&&this._prepareDragStart(t,c,i,e)}},_prepareDragStart:function(i,u,f,e){var o=this,c=o.el,h=o.options,s=c.ownerDocument,y;f&&!n&&f.parentNode===c&&(d=i,t=c,n=f,b=n.parentNode,nt=n.nextSibling,ht=f,it=h.group,v=e,this._lastX=(u||i).clientX,this._lastY=(u||i).clientY,n.style["will-change"]="transform",y=function(){o._disableDelayedDrag();n.draggable=o.nativeDraggable;a(n,h.chosenClass,!0);o._triggerDragStart(i,u);l(o,t,"choose",n,t,v)},h.ignore.split(",").forEach(function(t){kt(n,t.trim(),gt)}),r(s,"mouseup",o._onDrop),r(s,"touchend",o._onDrop),r(s,"touchcancel",o._onDrop),r(s,"pointercancel",o._onDrop),r(s,"selectstart",o),h.delay?(r(s,"mouseup",o._disableDelayedDrag),r(s,"touchend",o._disableDelayedDrag),r(s,"touchcancel",o._disableDelayedDrag),r(s,"mousemove",o._disableDelayedDrag),r(s,"touchmove",o._disableDelayedDrag),r(s,"pointermove",o._disableDelayedDrag),o._dragStartTimer=setTimeout(y,h.delay)):y())},_disableDelayedDrag:function(){var n=this.el.ownerDocument;clearTimeout(this._dragStartTimer);e(n,"mouseup",this._disableDelayedDrag);e(n,"touchend",this._disableDelayedDrag);e(n,"touchcancel",this._disableDelayedDrag);e(n,"mousemove",this._disableDelayedDrag);e(n,"touchmove",this._disableDelayedDrag);e(n,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(i,u){u=u||(i.pointerType=="touch"?i:null);u?(d={target:n,clientX:u.clientX,clientY:u.clientY},this._onDragStart(d,"touch")):this.nativeDraggable?(r(n,"dragend",this),r(t,"dragstart",this._onDragStart)):this._onDragStart(d,!0);try{f.selection?setTimeout(function(){f.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){if(t&&n){var i=this.options;a(n,i.ghostClass,!0);a(n,i.dragClass,!1);h.active=this;l(this,t,"start",n,t,v)}else this._nulling()},_emulateDragOver:function(){if(y){if(this._lastX===y.clientX&&this._lastY===y.clientY)return;this._lastX=y.clientX;this._lastY=y.clientY;oi||u(i,"display","none");var t=f.elementFromPoint(y.clientX,y.clientY),n=t,r=rt.length;if(n)do{if(n[g]){while(r--)rt[r]({clientX:y.clientX,clientY:y.clientY,target:t,rootEl:n});break}t=n}while(n=n.parentNode);oi||u(i,"display","")}},_onTouchMove:function(n){if(d){var f=this.options,e=f.fallbackTolerance,o=f.fallbackOffset,t=n.touches?n.touches[0]:n,s=t.clientX-d.clientX+o.x,c=t.clientY-d.clientY+o.y,r=n.touches?"translate3d("+s+"px,"+c+"px,0)":"translate("+s+"px,"+c+"px)";if(!h.active){if(e&&bi(tt(t.clientX-this._lastX),tt(t.clientY-this._lastY))<e)return;this._dragStarted()}this._appendGhost();ot=!0;y=t;u(i,"webkitTransform",r);u(i,"mozTransform",r);u(i,"msTransform",r);u(i,"transform",r);n.preventDefault()}},_appendGhost:function(){if(!i){var r=n.getBoundingClientRect(),s=u(n),e=this.options,o;i=n.cloneNode(!0);a(i,e.ghostClass,!1);a(i,e.fallbackClass,!0);a(i,e.dragClass,!0);u(i,"top",r.top-fi(s.marginTop,10));u(i,"left",r.left-fi(s.marginLeft,10));u(i,"width",r.width);u(i,"height",r.height);u(i,"opacity","0.8");u(i,"position","fixed");u(i,"zIndex","100000");u(i,"pointerEvents","none");e.fallbackOnBody&&f.body.appendChild(i)||t.appendChild(i);o=i.getBoundingClientRect();u(i,"width",r.width*2-o.width);u(i,"height",r.height*2-o.height)}},_onDragStart:function(i,e){var s=i.dataTransfer,h=this.options;this._offUpEvents();it.checkPull(this,this,n,i)&&(o=ri(n),o.draggable=!1,o.style["will-change"]="",u(o,"display","none"),a(o,this.options.chosenClass,!1),t.insertBefore(o,n),l(this,t,"clone",n));a(n,h.dragClass,!0);e?(e==="touch"?(r(f,"touchmove",this._onTouchMove),r(f,"touchend",this._onDrop),r(f,"touchcancel",this._onDrop),r(f,"pointermove",this._onTouchMove),r(f,"pointerup",this._onDrop)):(r(f,"mousemove",this._onTouchMove),r(f,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(s&&(s.effectAllowed="move",h.setData&&h.setData.call(this,s,n)),r(f,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(r){var s=this.el,f,a,e,rt,l=this.options,ut=l.group,c=h.active,p=it===ut,ht=!1,ct=l.sort,k,d;if((r.preventDefault!==void 0&&(r.preventDefault(),l.dragoverBubble||r.stopPropagation()),!n.animated)&&(ot=!0,c&&!l.disabled&&(p?ct||(rt=!t.contains(n)):et===this||(c.lastPullMode=it.checkPull(this,c,n,r))&&ut.checkPut(this,c,n,r))&&(r.rootEl===void 0||r.rootEl===this.el))){if(ki(r,l,this.el),wt)return;if(f=w(r.target,l.draggable,s),a=n.getBoundingClientRect(),et!==this&&(et=this,ht=!0),rt){st(c,!0);b=t;o||nt?t.insertBefore(n,o||nt):ct||t.appendChild(n);return}if(s.children.length===0||s.children[0]===i||s===r.target&&(f=ai(s,r))){if(f){if(f.animated)return;e=f.getBoundingClientRect()}st(c,p);dt(t,s,n,a,f,e,r)!==!1&&(n.contains(s)||(s.appendChild(n),b=s),this._animate(a,n),f&&this._animate(e,f))}else if(f&&!f.animated&&f!==n&&f.parentNode[g]!==void 0){at!==f&&(at=f,ft=u(f),vt=u(f.parentNode));e=f.getBoundingClientRect();var gt=e.right-e.left,lt=e.bottom-e.top,yt=pi.test(ft.cssFloat+ft.display)||vt.display=="flex"&&vt["flex-direction"].indexOf("row")===0,pt=f.offsetWidth>n.offsetWidth,bt=f.offsetHeight>n.offsetHeight,kt=(yt?(r.clientX-e.left)/gt:(r.clientY-e.top)/lt)>.5,tt=f.nextElementSibling,y=dt(t,s,n,a,f,e,r),v=!1;y!==!1&&(wt=!0,setTimeout(li,30),st(c,p),y===1||y===-1?v=y===1:yt?(k=n.offsetTop,d=f.offsetTop,v=k===d?f.previousElementSibling===n&&!pt||kt&&pt:f.previousElementSibling===n||n.previousElementSibling===f?(r.clientY-e.top)/lt>.5:d>k):ht||(v=tt!==n&&!bt||kt&&bt),n.contains(s)||(v&&!tt?s.appendChild(n):f.parentNode.insertBefore(n,v?tt:f)),b=n.parentNode,this._animate(a,n),this._animate(e,f))}}},_animate:function(n,t){var i=this.options.animation,r;i&&(r=t.getBoundingClientRect(),n.nodeType===1&&(n=n.getBoundingClientRect()),u(t,"transition","none"),u(t,"transform","translate3d("+(n.left-r.left)+"px,"+(n.top-r.top)+"px,0)"),t.offsetWidth,u(t,"transition","all "+i+"ms"),u(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=setTimeout(function(){u(t,"transition","");u(t,"transform","");t.animated=!1},i))},_offUpEvents:function(){var n=this.el.ownerDocument;e(f,"touchmove",this._onTouchMove);e(f,"pointermove",this._onTouchMove);e(n,"mouseup",this._onDrop);e(n,"touchend",this._onDrop);e(n,"pointerup",this._onDrop);e(n,"touchcancel",this._onDrop);e(n,"selectstart",this)},_onDrop:function(r){var c=this.el,u=this.options;clearInterval(this._loopId);clearInterval(k.pid);clearTimeout(this._dragStartTimer);e(f,"mousemove",this._onTouchMove);this.nativeDraggable&&(e(f,"drop",this),e(c,"dragstart",this._onDragStart));this._offUpEvents();r&&(ot&&(r.preventDefault(),u.dropBubble||r.stopPropagation()),i&&i.parentNode.removeChild(i),(t===b||h.active.lastPullMode!=="clone")&&o&&o.parentNode.removeChild(o),n&&(this.nativeDraggable&&e(n,"dragend",this),gt(n),n.style["will-change"]="",a(n,this.options.ghostClass,!1),a(n,this.options.chosenClass,!1),t!==b?(s=ut(n,u.draggable),s>=0&&(l(null,b,"add",n,t,v,s),l(this,t,"remove",n,t,v,s),l(null,b,"sort",n,t,v,s),l(this,t,"sort",n,t,v,s))):n.nextSibling!==nt&&(s=ut(n,u.draggable),s>=0&&(l(this,t,"update",n,t,v,s),l(this,t,"sort",n,t,v,s))),h.active&&((s==null||s===-1)&&(s=v),l(this,t,"end",n,t,v,s),this.save())));this._nulling()},_nulling:function(){t=n=b=i=nt=o=ht=c=ct=d=y=ot=s=at=ft=et=it=h.active=null;bt.forEach(function(n){n.checked=!0});bt.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragover":case"dragenter":n&&(this._onDragOver(t),ci(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var i=[],n,r=this.el.children,t=0,f=r.length,u=this.options;t<f;t++)n=r[t],w(n,u.draggable,this.el)&&i.push(n.getAttribute(u.dataIdAttr)||vi(n));return i},sort:function(n){var t={},i=this.el;this.toArray().forEach(function(n,r){var u=i.children[r];w(u,this.options.draggable,i)&&(t[n]=u)},this);n.forEach(function(n){t[n]&&(i.removeChild(t[n]),i.appendChild(t[n]))})},save:function(){var n=this.options.store;n&&n.set(this)},closest:function(n,t){return w(n,t||this.options.draggable,this.el)},option:function(n,t){var i=this.options;if(t===void 0)return i[n];i[n]=t;n==="group"&&si(i)},destroy:function(){var n=this.el;n[g]=null;e(n,"mousedown",this._onTapStart);e(n,"touchstart",this._onTapStart);e(n,"pointerdown",this._onTapStart);this.nativeDraggable&&(e(n,"dragover",this),e(n,"dragenter",this));Array.prototype.forEach.call(n.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")});rt.splice(rt.indexOf(this._onDragOver),1);this._onDrop();this.el=n=null}};r(f,"touchmove",function(n){h.active&&n.preventDefault()});try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){pt={capture:!1,passive:!1}}}))}catch(di){}return h.utils={on:r,off:e,css:u,find:kt,is:function(n,t){return!!w(n,t,n)},extend:ii,throttle:ti,closest:w,toggleClass:a,clone:ri,index:ut},h.create=function(n,t){return new h(n,t)},h.version="1.5.1",h}),function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){"use strict";n.fn.kvsortable=function(t){var i,r=arguments;return this.each(function(){var f=n(this),u=f.data("kvsortable");!u&&(t instanceof Object||!t)&&(u=new KvSortable(this,t),f.data("kvsortable",u));u&&(t==="widget"?i=u:t==="destroy"?(u.destroy(),f.removeData("kvsortable")):typeof u[t]=="function"?i=u[t].apply(u,[].slice.call(r,1)):t in u.options&&(i=u.option.apply(u,r)))}),i===void 0?this:i}});
/*!
 * bootstrap-fileinput v4.4.1
 * http://plugins.krajee.com/file-input
 *
 * Author: Kartik Visweswaran
 * Copyright: 2014 - 2017, Kartik Visweswaran, Krajee.com
 *
 * Licensed under the BSD 3-Clause
 * https://github.com/kartik-v/bootstrap-fileinput/blob/master/LICENSE.md
 */
(function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery"],n):typeof module=="object"&&module.exports?module.exports=n(require("jquery")):n(window.jQuery)})(function(n){"use strict";n.fn.fileinputLocales={};n.fn.fileinputThemes={};String.prototype.setTokens=function(n){var i=this.toString(),t,r;for(t in n)n.hasOwnProperty(t)&&(r=new RegExp("{"+t+"}","g"),i=i.replace(r,n[t]));return i};var t,i;t={FRAMES:".kv-preview-thumb",SORT_CSS:"file-sortable",STYLE_SETTING:'style="width:{width};height:{height};"',OBJECT_PARAMS:'<param name="controller" value="true" />\n<param name="allowFullScreen" value="true" />\n<param name="allowScriptAccess" value="always" />\n<param name="autoPlay" value="false" />\n<param name="autoStart" value="false" />\n<param name="quality" value="high" />\n',DEFAULT_PREVIEW:'<div class="file-preview-other">\n<span class="{previewFileIconClass}">{previewFileIcon}<\/span>\n<\/div>',MODAL_ID:"kvFileinputModal",MODAL_EVENTS:["show","shown","hide","hidden","loaded"],objUrl:window.URL||window.webkitURL,compare:function(n,t,i){return n!==undefined&&(i?n===t:n.match(t))},isIE:function(n){if(navigator.appName!=="Microsoft Internet Explorer")return!1;if(n===10)return new RegExp("msie\\s"+n,"i").test(navigator.userAgent);var t=document.createElement("div"),i;return t.innerHTML="<!--[if IE "+n+"]> <i><\/i> <![endif]-->",i=t.getElementsByTagName("i").length,document.body.appendChild(t),t.parentNode.removeChild(t),i},initModal:function(t){var i=n("body");i.length&&t.appendTo(i)},isEmpty:function(t,i){return t===undefined||t===null||t.length===0||i&&n.trim(t)===""},isArray:function(n){return Array.isArray(n)||Object.prototype.toString.call(n)==="[object Array]"},ifSet:function(n,t,i){return i=i||"",t&&typeof t=="object"&&n in t?t[n]:i},cleanArray:function(n){return n instanceof Array||(n=[]),n.filter(function(n){return n!==undefined&&n!==null})},spliceArray:function(n,t){var i,r=0,u=[];if(!(n instanceof Array))return[];for(i=0;i<n.length;i++)i!==t&&(u[r]=n[i],r++);return u},getNum:function(n,t){return(t=t||0,typeof n=="number")?n:(typeof n=="string"&&(n=parseFloat(n)),isNaN(n)?t:n)},hasFileAPISupport:function(){return!!(window.File&&window.FileReader)},hasDragDropSupport:function(){var n=document.createElement("div");return!t.isIE(9)&&(n.draggable!==undefined||n.ondragstart!==undefined&&n.ondrop!==undefined)},hasFileUploadSupport:function(){return t.hasFileAPISupport()&&window.FormData},addCss:function(n,t){n.removeClass(t).addClass(t)},getElement:function(i,r,u){return t.isEmpty(i)||t.isEmpty(i[r])?u:n(i[r])},uniqId:function(){return Math.round((new Date).getTime()+Math.random()*100)},htmlEncode:function(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},replaceTags:function(t,i){var r=t;return i?(n.each(i,function(n,t){typeof t=="function"&&(t=t());r=r.split(n).join(t)}),r):r},cleanMemory:function(n){var i=n.is("img")?n.attr("src"):n.find("source").attr("src");t.objUrl.revokeObjectURL(i)},findFileName:function(n){var t=n.lastIndexOf("/");return t===-1&&(t=n.lastIndexOf("\\")),n.split(n.substring(t,t+1)).pop()},checkFullScreen:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},toggleFullScreen:function(n){var i=document,r=i.documentElement;r&&n&&!t.checkFullScreen()?r.requestFullscreen?r.requestFullscreen():r.msRequestFullscreen?r.msRequestFullscreen():r.mozRequestFullScreen?r.mozRequestFullScreen():r.webkitRequestFullscreen&&r.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):i.exitFullscreen?i.exitFullscreen():i.msExitFullscreen?i.msExitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.webkitExitFullscreen&&i.webkitExitFullscreen()},moveArray:function(n,t,i){if(i>=n.length)for(var r=i-n.length;r--+1;)n.push(undefined);return n.splice(i,0,n.splice(t,1)[0]),n},cleanZoomCache:function(n){var t=n.closest(".kv-zoom-cache-theme");t.length||(t=n.closest(".kv-zoom-cache"));t.remove()},setOrientation:function(n,t){var r=new DataView(n),i=0,f=1,u,e,o;if(r.getUint16(i)===65496&&!(n.length<2)){for(i+=2,u=r.byteLength;i<u-2;){e=r.getUint16(i);i+=2;switch(e){case 65505:o=r.getUint16(i);u=o-i;i+=2;break;case 274:f=r.getUint16(i+6,!1);u=0}}t&&t(f)}},validateOrientation:function(n,i){if(window.FileReader&&window.DataView){var r=new FileReader,u;r.onloadend=function(){u=r.result;t.setOrientation(u,i)};r.readAsArrayBuffer(n)}},adjustOrientedImage:function(n,t){var i,r,u;if(n.hasClass("is-portrait-gt4")){if(t){n.css({width:n.parent().height()});return}n.css({height:"auto",width:n.height()});i=n.parent().offset().top;r=n.offset().top;u=i-r;n.css("margin-top",u)}}};i=function(i,r){var u=this;(u.$element=n(i),u._validate())&&(u.isPreviewable=t.hasFileAPISupport(),u.isIE9=t.isIE(9),u.isIE10=t.isIE(10),u.isPreviewable||u.isIE9?(u._init(r),u._listen()):u.$element.removeClass("file-loading"))};i.prototype={constructor:i,_cleanup:function(){var n=this;n.reader=null;n.formdata={};n.uploadCount=0;n.uploadStatus={};n.uploadLog=[];n.uploadAsyncCount=0;n.loadedImages=[];n.totalImagesCount=0;n.ajaxRequests=[];n.clearStack();n.fileInputCleared=!1;n.fileBatchCompleted=!0;n.isPreviewable||(n.showPreview=!1);n.isError=!1;n.ajaxAborted=!1;n.cancelling=!1},_init:function(i){var r=this,u=r.$element,f,e;r.options=i;n.each(i,function(n,i){switch(n){case"minFileCount":case"maxFileCount":case"minFileSize":case"maxFileSize":case"maxFilePreviewSize":case"resizeImageQuality":case"resizeIfSizeMoreThan":case"progressUploadThreshold":case"initialPreviewCount":case"zoomModalHeight":case"minImageHeight":case"maxImageHeight":case"minImageWidth":case"maxImageWidth":r[n]=t.getNum(i);break;default:r[n]=i}});r._cleanup();r.$form=u.closest("form");r._initTemplateDefaults();r.uploadFileAttr=t.isEmpty(u.attr("name"))?"file_data":u.attr("name");e=r._getLayoutTemplate("progress");r.progressTemplate=e.replace("{class}",r.progressClass);r.progressCompleteTemplate=e.replace("{class}",r.progressCompleteClass);r.progressErrorTemplate=e.replace("{class}",r.progressErrorClass);r.dropZoneEnabled=t.hasDragDropSupport()&&r.dropZoneEnabled;r.isDisabled=u.attr("disabled")||u.attr("readonly");r.isDisabled&&u.attr("disabled",!0);r.isUploadable=t.hasFileUploadSupport()&&!t.isEmpty(r.uploadUrl);r.isClickable=r.browseOnZoneClick&&r.showPreview&&(r.isUploadable&&r.dropZoneEnabled||!t.isEmpty(r.defaultPreviewContent));r.slug=typeof i.slugCallback=="function"?i.slugCallback:r._slugDefault;r.mainTemplate=r.showCaption?r._getLayoutTemplate("main1"):r._getLayoutTemplate("main2");r.captionTemplate=r._getLayoutTemplate("caption");r.previewGenericTemplate=r._getPreviewTemplate("generic");r.resizeImage&&(r.maxImageWidth||r.maxImageHeight)&&(r.imageCanvas=document.createElement("canvas"),r.imageCanvasContext=r.imageCanvas.getContext("2d"));t.isEmpty(u.attr("id"))&&u.attr("id",t.uniqId());r.namespace=".fileinput_"+u.attr("id").replace(/-/g,"_");r.$container===undefined?r.$container=r._createContainer():r._refreshContainer();f=r.$container;r.$dropZone=f.find(".file-drop-zone");r.$progress=f.find(".kv-upload-progress");r.$btnUpload=f.find(".fileinput-upload");r.$captionContainer=t.getElement(i,"elCaptionContainer",f.find(".file-caption"));r.$caption=t.getElement(i,"elCaptionText",f.find(".file-caption-name"));r.$previewContainer=t.getElement(i,"elPreviewContainer",f.find(".file-preview"));r.$preview=t.getElement(i,"elPreviewImage",f.find(".file-preview-thumbnails"));r.$previewStatus=t.getElement(i,"elPreviewStatus",f.find(".file-preview-status"));r.$errorContainer=t.getElement(i,"elErrorContainer",r.$previewContainer.find(".kv-fileinput-error"));t.isEmpty(r.msgErrorClass)||t.addCss(r.$errorContainer,r.msgErrorClass);r.$errorContainer.hide();r.previewInitId="preview-"+t.uniqId();r._initPreviewCache();r._initPreview(!0);r._initPreviewActions();r._setFileDropZoneTitle();u.removeClass("file-loading");u.attr("disabled")&&r.disable();r._initZoom()},_initTemplateDefaults:function(){var i=this,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,u,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,r;f='{preview}\n<div class="kv-upload-progress hide"><\/div>\n<div class="input-group {class}">\n   {caption}\n   <div class="input-group-btn">\n       {remove}\n       {cancel}\n       {upload}\n       {browse}\n   <\/div>\n<\/div>';e='{preview}\n<div class="kv-upload-progress hide"><\/div>\n{remove}\n{cancel}\n{upload}\n{browse}\n';o='<div class="file-preview {class}">\n    {close}    <div class="{dropClass}">\n    <div class="file-preview-thumbnails">\n    <\/div>\n    <div class="clearfix"><\/div>    <div class="file-preview-status text-center text-success"><\/div>\n    <div class="kv-fileinput-error"><\/div>\n    <\/div>\n<\/div>';h='<div class="close fileinput-remove">&times;<\/div>\n';s='<i class="glyphicon glyphicon-file kv-caption-icon"><\/i>';c='<div tabindex="500" class="form-control file-caption {class}">\n   <div class="file-caption-name"><\/div>\n<\/div>\n';l='<button type="{type}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}<\/button>';a='<a href="{href}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}<\/a>';v='<div tabindex="500" class="{css}" {status}>{icon} {label}<\/div>';y='<div id="'+t.MODAL_ID+'" class="file-zoom-dialog modal fade" tabindex="-1" aria-labelledby="'+t.MODAL_ID+'Label"><\/div>';p='<div class="modal-dialog modal-lg" role="document">\n  <div class="modal-content">\n    <div class="modal-header">\n      <div class="kv-zoom-actions pull-right">{toggleheader}{fullscreen}{borderless}{close}<\/div>\n      <h3 class="modal-title">{heading} <small><span class="kv-zoom-title"><\/span><\/small><\/h3>\n    <\/div>\n    <div class="modal-body">\n      <div class="floating-buttons"><\/div>\n      <div class="kv-zoom-body file-zoom-content {zoomFrameClass}"><\/div>\n{prev} {next}\n    <\/div>\n  <\/div>\n<\/div>\n';w='<div class="progress">\n    <div class="{class}" role="progressbar" aria-valuenow="{percent}" aria-valuemin="0" aria-valuemax="100" style="width:{percent}%;">\n        {status}\n     <\/div>\n<\/div>';b=" <samp>({sizeText})<\/samp>";k='<div class="file-thumbnail-footer">\n    <div class="file-footer-caption" title="{caption}">{caption}<br>{size}<\/div>\n    {progress} {indicator} {actions}\n<\/div>';d='{drag}\n<div class="file-actions">\n    <div class="file-footer-buttons">\n        {upload} {delete} {zoom} {other}    <\/div>\n    <div class="clearfix"><\/div>\n<\/div>';g='<button type="button" class="kv-file-remove {removeClass}" title="{removeTitle}" {dataUrl}{dataKey}>{removeIcon}<\/button>\n';nt='<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">{uploadIcon}<\/button>';tt='<button type="button" class="kv-file-zoom {zoomClass}" title="{zoomTitle}">{zoomIcon}<\/button>';it='<span class="file-drag-handle {dragClass}" title="{dragTitle}">{dragIcon}<\/span>';rt='<div class="file-upload-indicator" title="{indicatorTitle}">{indicator}<\/div>';u='<div class="file-preview-frame {frameClass}" id="{previewId}" data-fileindex="{fileindex}" data-template="{template}"';ut=u+'><div class="kv-file-content">\n';ft=u+' title="{caption}"><div class="kv-file-content">\n';et="<\/div>{footer}\n<\/div>\n";ot="{content}\n";st='<div class="kv-preview-data file-preview-html" title="{caption}" '+t.STYLE_SETTING+">{data}<\/div>\n";ht='<img src="{data}" class="file-preview-image kv-preview-data" title="{caption}" alt="{caption}" '+t.STYLE_SETTING+">\n";ct='<textarea class="kv-preview-data file-preview-text" title="{caption}" readonly '+t.STYLE_SETTING+">{data}<\/textarea>\n";lt='<video class="kv-preview-data file-preview-video" width="{width}" height="{height}" controls>\n<source src="{data}" type="{type}">\n'+t.DEFAULT_PREVIEW+"\n<\/video>\n";at='<div class="file-preview-audio"><audio class="kv-preview-data" controls>\n<source src="{data}" type="{type}">\n'+t.DEFAULT_PREVIEW+"\n<\/audio><\/div>\n";vt='<object class="kv-preview-data file-object" type="application/x-shockwave-flash" width="{width}" height="{height}" data="{data}">\n'+t.OBJECT_PARAMS+" "+t.DEFAULT_PREVIEW+"\n<\/object>\n";yt='<object class="kv-preview-data file-object {typeCss}" data="{data}" type="{type}" width="{width}" height="{height}">\n<param name="movie" value="{caption}" />\n'+t.OBJECT_PARAMS+" "+t.DEFAULT_PREVIEW+"\n<\/object>\n";pt='<embed class="kv-preview-data" src="{data}" width="{width}" height="{height}" type="application/pdf">\n';wt='<div class="kv-preview-data file-preview-other-frame">\n'+t.DEFAULT_PREVIEW+"\n<\/div>\n";bt='<div class="kv-zoom-cache" style="display:none">{zoomContent}<\/div>';r={width:"100%",height:"100%","min-height":"480px"};i.defaults={layoutTemplates:{main1:f,main2:e,preview:o,close:h,fileIcon:s,caption:c,modalMain:y,modal:p,progress:w,size:b,footer:k,indicator:rt,actions:d,actionDelete:g,actionUpload:nt,actionZoom:tt,actionDrag:it,btnDefault:l,btnLink:a,btnBrowse:v,zoomCache:bt},previewMarkupTags:{tagBefore1:ut,tagBefore2:ft,tagAfter:et},previewContentTemplates:{generic:ot,html:st,image:ht,text:ct,video:lt,audio:at,flash:vt,object:yt,pdf:pt,other:wt},allowedPreviewTypes:["image","html","text","video","audio","flash","pdf","object"],previewTemplates:{},previewSettings:{image:{width:"auto",height:"160px"},html:{width:"213px",height:"160px"},text:{width:"213px",height:"160px"},video:{width:"auto",height:"100%","max-width":"100%"},audio:{width:"100%",height:"30px"},flash:{width:"auto",height:"100%","max-width":"100%"},object:{height:"100%"},pdf:{width:"160px",height:"160px"},other:{width:"160px",height:"160px"}},previewZoomSettings:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:r,text:r,video:{width:"auto",height:"100%","max-width":"100%"},audio:{width:"100%",height:"30px"},flash:{width:"auto",height:"480px"},object:{width:"auto",height:"100%","max-width":"100%","min-height":"480px"},pdf:r,other:{width:"auto",height:"100%","min-height":"480px"}},fileTypeSettings:{image:function(n,i){return t.compare(n,"image.*")||t.compare(i,/\.(gif|png|jpe?g)$/i)},html:function(n,i){return t.compare(n,"text/html")||t.compare(i,/\.(htm|html)$/i)},text:function(n,i){return t.compare(n,"text.*")||t.compare(i,/\.(xml|javascript)$/i)||t.compare(i,/\.(txt|md|csv|nfo|ini|json|php|js|css)$/i)},video:function(n,i){return t.compare(n,"video.*")&&(t.compare(n,/(ogg|mp4|mp?g|mov|webm|3gp)$/i)||t.compare(i,/\.(og?|mp4|webm|mp?g|mov|3gp)$/i))},audio:function(n,i){return t.compare(n,"audio.*")&&(t.compare(i,/(ogg|mp3|mp?g|wav)$/i)||t.compare(i,/\.(og?|mp3|mp?g|wav)$/i))},flash:function(n,i){return t.compare(n,"application/x-shockwave-flash",!0)||t.compare(i,/\.(swf)$/i)},pdf:function(n,i){return t.compare(n,"application/pdf",!0)||t.compare(i,/\.(pdf)$/i)},object:function(){return!0},other:function(){return!0}},fileActionSettings:{showRemove:!0,showUpload:!0,showZoom:!0,showDrag:!0,removeIcon:'<i class="glyphicon glyphicon-trash text-danger"><\/i>',removeClass:"btn btn-xs btn-default",removeTitle:"Remove file",uploadIcon:'<i class="glyphicon glyphicon-upload text-info"><\/i>',uploadClass:"btn btn-xs btn-default",uploadTitle:"Upload file",zoomIcon:'<i class="glyphicon glyphicon-zoom-in"><\/i>',zoomClass:"btn btn-xs btn-default",zoomTitle:"View Details",dragIcon:'<i class="glyphicon glyphicon-menu-hamburger"><\/i>',dragClass:"text-info",dragTitle:"Move / Rearrange",dragSettings:{},indicatorNew:'<i class="glyphicon glyphicon-hand-down text-warning"><\/i>',indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"><\/i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"><\/i>',indicatorLoading:'<i class="glyphicon glyphicon-hand-up text-muted"><\/i>',indicatorNewTitle:"Not uploaded yet",indicatorSuccessTitle:"Uploaded",indicatorErrorTitle:"Upload Error",indicatorLoadingTitle:"Uploading ..."}};n.each(i.defaults,function(t,r){if(t==="allowedPreviewTypes"){i.allowedPreviewTypes===undefined&&(i.allowedPreviewTypes=r);return}i[t]=n.extend(!0,{},r,i[t])});i._initPreviewTemplates()},_initPreviewTemplates:function(){var i=this,f=i.defaults,r=i.previewMarkupTags,u,e=r.tagAfter;n.each(f.previewContentTemplates,function(n,f){t.isEmpty(i.previewTemplates[n])&&(u=r.tagBefore2,(n==="generic"||n==="image"||n==="html"||n==="text")&&(u=r.tagBefore1),i.previewTemplates[n]=u+f+e)})},_initPreviewCache:function(){var i=this;i.previewCache={data:{},init:function(){var n=i.initialPreview;n.length>0&&!t.isArray(n)&&(n=n.split(i.initialPreviewDelimiter));i.previewCache.data={content:n,config:i.initialPreviewConfig,tags:i.initialPreviewThumbTags}},fetch:function(){return i.previewCache.data.content.filter(function(n){return n!==null})},count:function(n){return!!i.previewCache.data&&!!i.previewCache.data.content?n?i.previewCache.data.content.length:i.previewCache.fetch().length:0},get:function(r,u){var c="init_"+r,e=i.previewCache.data,f=e.config[r],l=e.content[r],w=i.previewInitId+"-"+c,o,s,h,a,v,y,p,k=t.ifSet("previewAsData",f,i.initialPreviewAsData),b=function(n,r,u,f,e,o,s,h,c){return h=" file-preview-initial "+t.SORT_CSS+(h?" "+h:""),i._generatePreviewTemplate(n,r,u,f,e,!1,null,h,o,s,c)};return l?(u=u===undefined?!0:u,h=t.ifSet("type",f,i.initialPreviewFileType||"generic"),v=t.ifSet("filename",f,t.ifSet("caption",f)),y=t.ifSet("filetype",f,h),a=i.previewCache.footer(r,u,f&&f.size||null),p=t.ifSet("frameClass",f),o=k?b(h,l,v,y,w,a,c,p):b("generic",l,v,y,w,a,c,p,h).setTokens({content:e.content[r]}),e.tags.length&&e.tags[r]&&(o=t.replaceTags(o,e.tags[r])),t.isEmpty(f)||t.isEmpty(f.frameAttr)||(s=n(document.createElement("div")).html(o),s.find(".file-preview-initial").attr(f.frameAttr),o=s.html(),s.remove()),o):""},add:function(n,r,u,f){var e=i.previewCache.data,o;return t.isArray(n)||(n=n.split(i.initialPreviewDelimiter)),f?(o=e.content.push(n)-1,e.config[o]=r,e.tags[o]=u):(o=n.length-1,e.content=n,e.config=r,e.tags=u),i.previewCache.data=e,o},set:function(n,r,u,f){var o=i.previewCache.data,e,s;if(n&&n.length&&(t.isArray(n)||(n=n.split(i.initialPreviewDelimiter)),s=n.filter(function(n){return n!==null}),s.length)){if(o.content===undefined&&(o.content=[]),o.config===undefined&&(o.config=[]),o.tags===undefined&&(o.tags=[]),f){for(e=0;e<n.length;e++)n[e]&&o.content.push(n[e]);for(e=0;e<r.length;e++)r[e]&&o.config.push(r[e]);for(e=0;e<u.length;e++)u[e]&&o.tags.push(u[e])}else o.content=n,o.config=r,o.tags=u;i.previewCache.data=o}},unset:function(n){var t=i.previewCache.count();if(t){if(t===1){i.previewCache.data.content=[];i.previewCache.data.config=[];i.previewCache.data.tags=[];i.initialPreview=[];i.initialPreviewConfig=[];i.initialPreviewThumbTags=[];return}i.previewCache.data.content[n]=null;i.previewCache.data.config[n]=null;i.previewCache.data.tags[n]=null}},out:function(){var t="",r,u=i.previewCache.count(!0),n;if(u===0)return{content:"",caption:""};for(n=0;n<u;n++)t+=i.previewCache.get(n);return r=i._getMsgSelected(i.previewCache.count()),{content:t,caption:r}},footer:function(n,r,u){var e=i.previewCache.data;if(!e||!e.config||e.config.length===0||t.isEmpty(e.config[n]))return"";r=r===undefined?!0:r;var f=e.config[n],c=t.ifSet("caption",f),s,l=t.ifSet("width",f,"auto"),h=t.ifSet("url",f,!1),a=t.ifSet("key",f,null),o=i.fileActionSettings,v=i.initialPreviewShowDelete||!1,y=t.ifSet("showDelete",f,t.ifSet("showDelete",o,v)),p=t.ifSet("showZoom",f,t.ifSet("showZoom",o,!0)),w=t.ifSet("showDrag",f,t.ifSet("showDrag",o,!0)),b=h===!1&&r;return s=i._renderFileActions(!1,y,p,w,b,h,a,!0),i._getLayoutTemplate("footer").setTokens({progress:i._renderThumbProgress(),actions:s,caption:c,size:i._getSize(u),width:l,indicator:""})}};i.previewCache.init()},_handler:function(n,t,i){var f=this,r=f.namespace,u=t.split(" ").join(r+" ")+r;if(n&&n.length)n.off(u).on(u,i)},_log:function(n){var i=this,t=i.$element.attr("id");t&&(n='"'+t+'": '+n);typeof window.console.log!="undefined"?window.console.log(n):window.alert(n)},_validate:function(){var n=this,t=n.$element.attr("type")==="file";return t||n._log('The input "type" must be set to "file" for initializing the "bootstrap-fileinput" plugin.'),t},_errorsExist:function(){var i=this,t;return i.$errorContainer.find("li").length?!0:(t=n(document.createElement("div")).html(i.$errorContainer.html()),t.find("span.kv-error-close").remove(),t.find("ul").remove(),n.trim(t.text()).length?!0:!1)},_errorHandler:function(n,t){var r=this,i=n.target.error,u=function(n){r._showError(n.replace("{name}",t))};i.code===i.NOT_FOUND_ERR?u(r.msgFileNotFound):i.code===i.SECURITY_ERR?u(r.msgFileSecured):i.code===i.NOT_READABLE_ERR?u(r.msgFileNotReadable):i.code===i.ABORT_ERR?u(r.msgFilePreviewAborted):u(r.msgFilePreviewError)},_addError:function(n){var i=this,t=i.$errorContainer;n&&t.length&&(t.html(i.errorCloseButton+n),i._handler(t.find(".kv-error-close"),"click",function(){t.fadeOut("slow")}))},_resetErrors:function(n){var t=this,i=t.$errorContainer;t.isError=!1;t.$container.removeClass("has-error");i.html("");n?i.fadeOut("slow"):i.hide()},_showFolderError:function(n){var i=this,u=i.$errorContainer,r;n&&(r=i.msgFoldersNotAllowed.replace("{n}",n),i._addError(r),t.addCss(i.$container,"has-error"),u.fadeIn(800),i._raise("filefoldererror",[n,r]))},_showUploadError:function(n,i,r){var u=this,f=u.$errorContainer,o=r||"fileuploaderror",e=i&&i.id?'<li data-file-id="'+i.id+'">'+n+"<\/li>":"<li>"+n+"<\/li>";return f.find("ul").length===0?u._addError("<ul>"+e+"<\/ul>"):f.find("ul").append(e),f.fadeIn(800),u._raise(o,[i,n]),u.$container.removeClass("file-input-new"),t.addCss(u.$container,"has-error"),!0},_showError:function(n,i,r){var u=this,f=u.$errorContainer,e=r||"fileerror";return i=i||{},i.reader=u.reader,u._addError(n),f.fadeIn(800),u._raise(e,[i,n]),u.isUploadable||u._clearFileInput(),u.$container.removeClass("file-input-new"),t.addCss(u.$container,"has-error"),u.$btnUpload.attr("disabled",!0),!0},_noFilesError:function(n){var i=this,u=i.minFileCount>1?i.filePlural:i.fileSingle,r=i.msgFilesTooLess.replace("{n}",i.minFileCount).replace("{files}",u),f=i.$errorContainer;i._addError(r);i.isError=!0;i._updateFileDetails(0);f.fadeIn(800);i._raise("fileerror",[n,r]);i._clearFileInput();t.addCss(i.$container,"has-error")},_parseError:function(t,i,r,u){var o=this,f=n.trim(r+""),s=f.slice(-1)==="."?"":".",e=i.responseJSON!==undefined&&i.responseJSON.error!==undefined?i.responseJSON.error:i.responseText;return o.cancelling&&o.msgUploadAborted&&(f=o.msgUploadAborted),o.showAjaxErrorDetails&&e?(e=n.trim(e.replace(/\n\s*\n/g,"\n")),e=e.length>0?"<pre>"+e+"<\/pre>":"",f+=s+e):f+=s,f===s&&(f=o.msgAjaxError.replace("{operation}",t)),o.cancelling=!1,u?"<b>"+u+": <\/b>"+f:f},_parseFileType:function(n){for(var f=this,e,i,r,o=f.allowedPreviewTypes||[],u=0;u<o.length;u++)if(r=o[u],e=f.fileTypeSettings[r],i=e(n.type,n.name)?r:"",!t.isEmpty(i))return i;return"other"},_getPreviewIcon:function(t){var i=this,r,u=null;return t&&t.indexOf(".")>-1&&(r=t.split(".").pop(),i.previewFileIconSettings&&(u=i.previewFileIconSettings[r]||i.previewFileIconSettings[r.toLowerCase()]||null),i.previewFileExtSettings&&n.each(i.previewFileExtSettings,function(n,t){if(i.previewFileIconSettings[n]&&t(r)){u=i.previewFileIconSettings[n];return}})),u},_parseFilePreviewIcon:function(n,t){var r=this,u=r._getPreviewIcon(t)||r.previewFileIcon,i=n;return i.indexOf("{previewFileIcon}")>-1&&(i=i.setTokens({previewFileIconClass:r.previewFileIconClass,previewFileIcon:u})),i},_raise:function(t,i){var u=this,r=n.Event(t);if(i!==undefined?u.$element.trigger(r,i):u.$element.trigger(r),r.isDefaultPrevented()||r.result===!1)return!1;switch(t){case"filebatchuploadcomplete":case"filebatchuploadsuccess":case"fileuploaded":case"fileclear":case"filecleared":case"filereset":case"fileerror":case"filefoldererror":case"fileuploaderror":case"filebatchuploaderror":case"filedeleteerror":case"filecustomerror":case"filesuccessremove":break;default:u.ajaxAborted||(u.ajaxAborted=r.result)}return!0},_listenFullScreen:function(n){var u=this,t=u.$modal,r,i;t&&t.length&&(r=t&&t.find(".btn-fullscreen"),i=t&&t.find(".btn-borderless"),r.length&&i.length)&&(r.removeClass("active").attr("aria-pressed","false"),i.removeClass("active").attr("aria-pressed","false"),n?r.addClass("active").attr("aria-pressed","true"):i.addClass("active").attr("aria-pressed","true"),t.hasClass("file-zoom-fullscreen")?u._maximizeZoomDialog():n?u._maximizeZoomDialog():i.removeClass("active").attr("aria-pressed","false"))},_listen:function(){var i=this,e=i.$element,r=i.$form,u=i.$container,f;i._handler(e,"change",n.proxy(i._change,i));i.showBrowse&&i._handler(i.$btnFile,"click",n.proxy(i._browse,i));i._handler(u.find(".fileinput-remove:not([disabled])"),"click",n.proxy(i.clear,i));i._handler(u.find(".fileinput-cancel"),"click",n.proxy(i.cancel,i));i._initDragDrop();i._handler(r,"reset",n.proxy(i.reset,i));i.isUploadable||i._handler(r,"submit",n.proxy(i._submitForm,i));i._handler(i.$container.find(".fileinput-upload"),"click",n.proxy(i._uploadClick,i));i._handler(n(window),"resize",function(){i._listenFullScreen(screen.width===window.innerWidth&&screen.height===window.innerHeight)});f="webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange";i._handler(n(document),f,function(){i._listenFullScreen(t.checkFullScreen())});i._initClickable()},_initClickable:function(){var i=this,r;i.isClickable&&(r=i.isUploadable?i.$dropZone:i.$preview.find(".file-default-preview"),t.addCss(r,"clickable"),r.attr("tabindex",-1),i._handler(r,"click",function(t){var u=n(t.target);(!u.parents(".file-preview-thumbnails").length||u.parents(".file-default-preview").length)&&(i.$element.trigger("click"),r.blur())}))},_initDragDrop:function(){var t=this,i=t.$dropZone;t.isUploadable&&t.dropZoneEnabled&&t.showPreview&&(t._handler(i,"dragenter dragover",n.proxy(t._zoneDragEnter,t)),t._handler(i,"dragleave",n.proxy(t._zoneDragLeave,t)),t._handler(i,"drop",n.proxy(t._zoneDrop,t)),t._handler(n(document),"dragenter dragover drop",t._zoneDragDropInit))},_zoneDragDropInit:function(n){n.stopPropagation();n.preventDefault()},_zoneDragEnter:function(i){var r=this,u=n.inArray("Files",i.originalEvent.dataTransfer.types)>-1;if(r._zoneDragDropInit(i),r.isDisabled||!u){i.originalEvent.dataTransfer.effectAllowed="none";i.originalEvent.dataTransfer.dropEffect="none";return}t.addCss(r.$dropZone,"file-highlighted")},_zoneDragLeave:function(n){var t=this;(t._zoneDragDropInit(n),t.isDisabled)||t.$dropZone.removeClass("file-highlighted")},_zoneDrop:function(n){var i=this;(n.preventDefault(),i.isDisabled||t.isEmpty(n.originalEvent.dataTransfer.files))||(i._change(n,"dragdrop"),i.$dropZone.removeClass("file-highlighted"))},_uploadClick:function(n){var r=this,i=r.$container.find(".fileinput-upload"),u,f=!i.hasClass("disabled")&&t.isEmpty(i.attr("disabled"));if(!n||!n.isDefaultPrevented()){if(!r.isUploadable){f&&i.attr("type")!=="submit"&&(u=i.closest("form"),u.length&&u.trigger("submit"),n.preventDefault());return}n.preventDefault();f&&r.upload()}},_submitForm:function(){var n=this;return n._isFileSelectionValid()&&!n._abort({})},_clearPreview:function(){var i=this,r=i.$preview,u=i.showUploadedThumbs?r.find(t.FRAMES+":not(.file-preview-success)"):r.find(t.FRAMES);u.each(function(){var i=n(this);i.remove();t.cleanZoomCache(r.find("#zoom-"+i.attr("id")))});i.$preview.find(t.FRAMES).length&&i.showPreview||i._resetUpload();i._validateDefaultPreview()},_initSortable:function(){var i=this,r=i.$preview,u,f="."+t.SORT_CSS;window.KvSortable&&r.find(f).length!==0&&(u={handle:".drag-handle-init",dataIdAttr:"data-preview-id",scroll:!1,draggable:f,onSort:function(r){var f=r.oldIndex,e=r.newIndex,o,s,u;for(i.initialPreview=t.moveArray(i.initialPreview,f,e),i.initialPreviewConfig=t.moveArray(i.initialPreviewConfig,f,e),i.previewCache.init(),u=0;u<i.initialPreviewConfig.length;u++)i.initialPreviewConfig[u]!==null&&(o=i.initialPreviewConfig[u].key,s=n(".kv-file-remove[data-key='"+o+"']").closest(t.FRAMES),s.attr("data-fileindex","init_"+u).attr("data-fileindex","init_"+u));i._raise("filesorted",{previewId:n(r.item).attr("id"),oldIndex:f,newIndex:e,stack:i.initialPreviewConfig})}},r.data("kvsortable")&&r.kvsortable("destroy"),n.extend(!0,u,i.fileActionSettings.dragSettings),r.kvsortable(u))},_initPreview:function(n){var i=this,u=i.initialCaption||"",r;if(!i.previewCache.count()){i._clearPreview();n?i._setCaption(u):i._initCaption();return}r=i.previewCache.out();u=n&&i.initialCaption?i.initialCaption:r.caption;i.$preview.html(r.content);i._setInitThumbAttr();i._setCaption(u);i._initSortable();t.isEmpty(r.content)||i.$container.removeClass("file-input-new")},_getZoomButton:function(n){var t=this,r=t.previewZoomButtonIcons[n],u=t.previewZoomButtonClasses[n],f=' title="'+(t.previewZoomButtonTitles[n]||"")+'" ',i=f+(n==="close"?' data-dismiss="modal" aria-hidden="true"':"");return(n==="fullscreen"||n==="borderless"||n==="toggleheader")&&(i+=' data-toggle="button" aria-pressed="false" autocomplete="off"'),'<button type="button" class="'+u+" btn-"+n+'"'+i+">"+r+"<\/button>"},_getModalContent:function(){var n=this;return n._getLayoutTemplate("modal").setTokens({zoomFrameClass:n.frameClass,heading:n.msgZoomModalHeading,prev:n._getZoomButton("prev"),next:n._getZoomButton("next"),toggleheader:n._getZoomButton("toggleheader"),fullscreen:n._getZoomButton("fullscreen"),borderless:n._getZoomButton("borderless"),close:n._getZoomButton("close")})},_listenModalEvent:function(n){var r=this,i=r.$modal,u=function(n){return{sourceEvent:n,previewId:i.data("previewId"),modal:i}};i.on(n+".bs.modal",function(f){var e=i.find(".btn-fullscreen"),o=i.find(".btn-borderless");r._raise("filezoom"+n,u(f));n==="shown"&&(o.removeClass("active").attr("aria-pressed","false"),e.removeClass("active").attr("aria-pressed","false"),i.hasClass("file-zoom-fullscreen")&&(r._maximizeZoomDialog(),t.checkFullScreen()?e.addClass("active").attr("aria-pressed","true"):o.addClass("active").attr("aria-pressed","true")))})},_initZoom:function(){var i=this,r,f=i._getLayoutTemplate("modalMain"),u="#"+t.MODAL_ID;i.showPreview&&(i.$modal=n(u),i.$modal&&i.$modal.length||(r=n(document.createElement("div")).html(f).insertAfter(i.$container),i.$modal=n(u).insertBefore(r),r.remove()),t.initModal(i.$modal),i.$modal.html(i._getModalContent()),n.each(t.MODAL_EVENTS,function(n,t){i._listenModalEvent(t)}))},_initZoomButtons:function(){var i=this,s=i.$modal.data("previewId")||"",e,o,c=i.$preview,r=c.find(t.FRAMES).toArray(),h=r.length,u=i.$modal.find(".btn-prev"),f=i.$modal.find(".btn-next");if(r.length<2){u.hide();f.hide();return}(u.show(),f.show(),h)&&(e=n(r[0]),o=n(r[h-1]),u.removeAttr("disabled"),f.removeAttr("disabled"),e.length&&e.attr("id")===s&&u.attr("disabled",!0),o.length&&o.attr("id")===s&&f.attr("disabled",!0))},_maximizeZoomDialog:function(){var o=this,t=o.$modal,u=t.find(".modal-header:visible"),f=t.find(".modal-footer:visible"),i=t.find(".modal-body"),r=n(window).height(),e=0;t.addClass("file-zoom-fullscreen");u&&u.length&&(r-=u.outerHeight(!0));f&&f.length&&(r-=f.outerHeight(!0));i&&i.length&&(e=i.outerHeight(!0)-i.height(),r-=e);t.find(".kv-zoom-body").height(r)},_resizeZoomDialog:function(n){var r=this,i=r.$modal,u=i.find(".btn-fullscreen"),f=i.find(".btn-borderless");if(i.hasClass("file-zoom-fullscreen"))t.toggleFullScreen(!1),n?u.hasClass("active")||(i.removeClass("file-zoom-fullscreen"),r._resizeZoomDialog(!0),f.hasClass("active")&&f.removeClass("active").attr("aria-pressed","false")):u.hasClass("active")?u.removeClass("active").attr("aria-pressed","false"):(i.removeClass("file-zoom-fullscreen"),r.$modal.find(".kv-zoom-body").css("height",r.zoomModalHeight));else{if(!n){r._maximizeZoomDialog();return}t.toggleFullScreen(!0)}i.focus()},_setZoomContent:function(i,r){var u=this,h,y,c,p,e,o,l,s=i.attr("id"),f=u.$modal,w=f.find(".btn-prev"),b=f.find(".btn-next"),a,nt=f.find(".btn-fullscreen"),tt=f.find(".btn-borderless"),k,d,it=f.find(".btn-toggleheader"),g=u.$preview.find("#zoom-"+s),v;y=g.attr("data-template")||"generic";h=g.find(".kv-file-content");c=h.length?h.html():"";k=i.data("caption")||"";d=i.data("size")||"";p=k+" "+d;f.find(".kv-zoom-title").html(p);e=f.find(".kv-zoom-body");f.removeClass("kv-single-content");r?(a=e.addClass("file-thumb-loading").clone().insertAfter(e),e.html(c).hide(),a.fadeOut("fast",function(){e.fadeIn("fast",function(){e.removeClass("file-thumb-loading")});a.remove()})):e.html(c);l=u.previewZoomSettings[y];l&&(o=e.find(".kv-preview-data"),t.addCss(o,"file-zoom-detail"),n.each(l,function(n,t){o.css(n,t);(o.attr("width")&&n==="width"||o.attr("height")&&n==="height")&&o.removeAttr(n)}));f.data("previewId",s);v=e.find("img");v.length&&t.adjustOrientedImage(v,!0);u._handler(w,"click",function(){u._zoomSlideShow("prev",s)});u._handler(b,"click",function(){u._zoomSlideShow("next",s)});u._handler(nt,"click",function(){u._resizeZoomDialog(!0)});u._handler(tt,"click",function(){u._resizeZoomDialog(!1)});u._handler(it,"click",function(){var n=f.find(".modal-header"),t=f.find(".modal-body .floating-buttons"),i,r=n.find(".kv-zoom-actions"),e=function(t){var r=u.$modal.find(".kv-zoom-body"),i=u.zoomModalHeight;f.hasClass("file-zoom-fullscreen")&&(i=r.outerHeight(!0),t||(i=i-n.outerHeight(!0)));r.css("height",t?i+t:i)};n.is(":visible")?(i=n.outerHeight(!0),n.slideUp("slow",function(){r.find(".btn").appendTo(t);e(i)})):(t.find(".btn").appendTo(r),n.slideDown("slow",function(){e()}));f.focus()});u._handler(f,"keydown",function(n){var t=n.which||n.keyCode;t!==37||w.attr("disabled")||u._zoomSlideShow("prev",s);t!==39||b.attr("disabled")||u._zoomSlideShow("next",s)})},_zoomPreview:function(n){var i=this,u,r=i.$modal;if(!n.length)throw"Cannot zoom to detailed preview!";t.initModal(r);r.html(i._getModalContent());u=n.closest(t.FRAMES);i._setZoomContent(u);r.modal("show");i._initZoomButtons()},_zoomSlideShow:function(i,r){var u=this,c=u.$modal.find(".kv-zoom-actions .btn-"+i),s,f,o=u.$preview.find(t.FRAMES).toArray(),h=o.length,e;if(!c.attr("disabled")){for(f=0;f<h;f++)if(n(o[f]).attr("id")===r){e=i==="prev"?f-1:f+1;break}e<0||e>=h||!o[e]||(s=n(o[e]),s.length&&u._setZoomContent(s,!0),u._initZoomButtons(),u._raise("filezoom"+i,{previewId:r,modal:u.$modal}))}},_initZoomButton:function(){var t=this;t.$preview.find(".kv-file-zoom").each(function(){var i=n(this);t._handler(i,"click",function(){t._zoomPreview(i)})})},_clearObjects:function(t){t.find("video audio").each(function(){this.pause();n(this).remove()});t.find("img object div").each(function(){n(this).remove()})},_clearFileInput:function(){var u=this,i=u.$element,e,r,f;(u.fileInputCleared=!0,t.isEmpty(i.val()))||(u.isIE9||u.isIE10?(e=i.closest("form"),r=n(document.createElement("form")),f=n(document.createElement("div")),i.before(f),e.length?e.after(r):f.after(r),r.append(i).trigger("reset"),f.before(i).remove(),r.remove()):i.val(""))},_resetUpload:function(){var n=this;n.uploadCache={content:[],config:[],tags:[],append:!0};n.uploadCount=0;n.uploadStatus={};n.uploadLog=[];n.uploadAsyncCount=0;n.loadedImages=[];n.totalImagesCount=0;n.$btnUpload.removeAttr("disabled");n._setProgress(0);t.addCss(n.$progress,"hide");n._resetErrors(!1);n.ajaxAborted=!1;n.ajaxRequests=[];n._resetCanvas();n.cacheInitialPreview={};n.overwriteInitial&&(n.initialPreview=[],n.initialPreviewConfig=[],n.initialPreviewThumbTags=[],n.previewCache.data={content:[],config:[],tags:[]})},_resetCanvas:function(){var n=this;n.canvas&&n.imageCanvasContext&&n.imageCanvasContext.clearRect(0,0,n.canvas.width,n.canvas.height)},_hasInitialPreview:function(){var n=this;return!n.overwriteInitial&&n.previewCache.count()},_resetPreview:function(){var n=this,t,i;n.previewCache.count()?(t=n.previewCache.out(),n.$preview.html(t.content),n._setInitThumbAttr(),i=n.initialCaption?n.initialCaption:t.caption,n._setCaption(i)):(n._clearPreview(),n._initCaption());n.showPreview&&(n._initZoom(),n._initSortable())},_clearDefaultPreview:function(){var n=this;n.$preview.find(".file-default-preview").remove()},_validateDefaultPreview:function(){var n=this;n.showPreview&&!t.isEmpty(n.defaultPreviewContent)&&(n.$preview.html('<div class="file-default-preview">'+n.defaultPreviewContent+"<\/div>"),n.$container.removeClass("file-input-new"),n._initClickable())},_resetPreviewThumbs:function(n){var t=this,i;if(n){t._clearPreview();t.clearStack();return}t._hasInitialPreview()?(i=t.previewCache.out(),t.$preview.html(i.content),t._setInitThumbAttr(),t._setCaption(i.caption),t._initPreviewActions()):t._clearPreview()},_getLayoutTemplate:function(n){var i=this,r=i.layoutTemplates[n];return t.isEmpty(i.customLayoutTags)?r:t.replaceTags(r,i.customLayoutTags)},_getPreviewTemplate:function(n){var i=this,r=i.previewTemplates[n];return t.isEmpty(i.customPreviewTags)?r:t.replaceTags(r,i.customPreviewTags)},_getOutData:function(n,t,i){var r=this;return n=n||{},t=t||{},i=i||r.filestack.slice(0)||{},{form:r.formdata,files:i,filenames:r.filenames,filescount:r.getFilesCount(),extra:r._getExtraData(),response:t,reader:r.reader,jqXHR:n}},_getMsgSelected:function(n){var t=this,i=n===1?t.fileSingle:t.filePlural;return n>0?t.msgSelected.replace("{n}",n).replace("{files}",i):t.msgNoFilesSelected},_getThumbs:function(n){return n=n||"",this.$preview.find(t.FRAMES+":not(.file-preview-initial)"+n)},_getExtraData:function(n,t){var i=this,r=i.uploadExtraData;return typeof i.uploadExtraData=="function"&&(r=i.uploadExtraData(n,t)),r},_initXhr:function(n,t,i){var r=this;return n.upload&&n.upload.addEventListener("progress",function(n){var u=0,f=n.total,e=n.loaded||n.position;n.lengthComputable&&(u=Math.floor(e/f*100));t?r._setAsyncUploadStatus(t,u,i):r._setProgress(u)},!1),n},_ajaxSubmit:function(t,i,r,u,f,e){var o=this,s;o._raise("filepreajax",[f,e])&&(o._uploadExtra(f,e),s=n.extend(!0,{},{xhr:function(){var t=n.ajaxSettings.xhr();return o._initXhr(t,f,o.getFileStack().length)},url:o.uploadUrl,type:"POST",dataType:"json",data:o.formdata,cache:!1,processData:!1,contentType:!1,beforeSend:t,success:i,complete:r,error:u},o.ajaxSettings),o.ajaxRequests.push(n.ajax(s)))},_mergeArray:function(n,i){var r=this,u=t.cleanArray(r[n]),f=t.cleanArray(i);r[n]=u.concat(f)},_initUploadSuccess:function(i,r,u){var f=this,h,v,y,c,l,e,o,s,a;f.showPreview&&typeof i=="object"&&!n.isEmptyObject(i)&&i.initialPreview!==undefined&&i.initialPreview.length>0&&(f.hasInitData=!0,e=i.initialPreview||[],o=i.initialPreviewConfig||[],s=i.initialPreviewThumbTags||[],h=i.append===undefined||i.append?!0:!1,e.length>0&&!t.isArray(e)&&(e=e.split(f.initialPreviewDelimiter)),f._mergeArray("initialPreview",e),f._mergeArray("initialPreviewConfig",o),f._mergeArray("initialPreviewThumbTags",s),r!==undefined?u?(a=r.attr("data-fileindex"),f.uploadCache.content[a]=e[0],f.uploadCache.config[a]=o[0]||[],f.uploadCache.tags[a]=s[0]||[],f.uploadCache.append=h):(y=f.previewCache.add(e,o[0],s[0],h),v=f.previewCache.get(y,!1),c=n(document.createElement("div")).html(v).hide().insertAfter(r),l=c.find(".kv-zoom-cache"),l&&l.length&&l.insertAfter(r),r.fadeOut("slow",function(){var n=c.find(".file-preview-frame");n&&n.length&&n.insertBefore(r).fadeIn("slow").css("display:inline-block");f._initPreviewActions();f._clearFileInput();t.cleanZoomCache(f.$preview.find("#zoom-"+r.attr("id")));r.remove();c.remove();f._initSortable()})):(f.previewCache.set(e,o,s,h),f._initPreview(),f._initPreviewActions()))},_initSuccessThumbs:function(){var i=this;i.showPreview&&i._getThumbs(t.FRAMES+".file-preview-success").each(function(){var r=n(this),u=i.$preview,f=r.find(".kv-file-remove");f.removeAttr("disabled");i._handler(f,"click",function(){var n=r.attr("id"),f=i._raise("filesuccessremove",[n,r.attr("data-fileindex")]);(t.cleanMemory(r),f!==!1)&&r.fadeOut("slow",function(){t.cleanZoomCache(u.find("#zoom-"+n));r.remove();u.find(t.FRAMES).length||i.reset()})})})},_checkAsyncComplete:function(){for(var t=this,r,i=0;i<t.filestack.length;i++)if(t.filestack[i]&&(r=t.previewInitId+"-"+i,n.inArray(r,t.uploadLog)===-1))return!1;return t.uploadAsyncCount===t.uploadLog.length},_uploadExtra:function(t,i){var r=this,u=r._getExtraData(t,i);u.length!==0&&n.each(u,function(n,t){r.formdata.append(n,t)})},_uploadSingle:function(i,r,u){var f=this,g=f.getFileStack().length,a=new FormData,h,o=f.previewInitId+"-"+i,e,p,c,v,nt=f.filestack.length>0||!n.isEmptyObject(f.uploadExtraData),y=n("#"+o).find(".file-thumb-progress"),w,b,k,d,l,s={id:o,index:i};(f.formdata=a,f.showPreview&&(e=n("#"+o+":not(.file-preview-initial)"),c=e.find(".kv-file-upload"),v=e.find(".kv-file-remove"),y.removeClass("hide")),g===0||!nt||c&&c.hasClass("disabled")||f._abort(s))||(l=function(n,t){f.updateStack(n,undefined);f.uploadLog.push(t);f._checkAsyncComplete()&&(f.fileBatchCompleted=!0)},p=function(){var n=f.uploadCache,e,r,u,o=0,i=f.cacheInitialPreview;f.fileBatchCompleted&&(i&&i.content&&(o=i.content.length),setTimeout(function(){if(f.showPreview){if(f.previewCache.set(n.content,n.config,n.tags,n.append),o){for(r=0;r<n.content.length;r++)u=r+o,i.content[u]=n.content[r],i.config.length&&(i.config[u]=n.config[r]),i.tags.length&&(i.tags[u]=n.tags[r]);f.initialPreview=t.cleanArray(i.content);f.initialPreviewConfig=t.cleanArray(i.config);f.initialPreviewThumbTags=t.cleanArray(i.tags)}else f.initialPreview=n.content,f.initialPreviewConfig=n.config,f.initialPreviewThumbTags=n.tags;f.cacheInitialPreview={};f.hasInitData&&(f._initPreview(),f._initPreviewActions())}f.unlock();f._clearFileInput();e=f.$preview.find(".file-preview-initial");f.uploadAsync&&e.length&&(t.addCss(e,t.SORT_CSS),f._initSortable());f._raise("filebatchuploadcomplete",[f.filestack,f._getExtraData()]);f.uploadCount=0;f.uploadStatus={};f.uploadLog=[];f._setProgress(101)},100))},w=function(r){h=f._getOutData(r);f.fileBatchCompleted=!1;f.showPreview&&(e.hasClass("file-preview-success")||(f._setThumbStatus(e,"Loading"),t.addCss(e,"file-uploading")),c.attr("disabled",!0),v.attr("disabled",!0));u||f.lock();f._raise("filepreupload",[h,o,i]);n.extend(!0,s,h);f._abort(s)&&(r.abort(),f._setProgressCancelled())},b=function(r,a,v){var p=f.showPreview&&e.attr("id")?e.attr("id"):o;h=f._getOutData(v,r);n.extend(!0,s,h);setTimeout(function(){t.isEmpty(r)||t.isEmpty(r.error)?(f.showPreview&&(f._setThumbStatus(e,"Success"),c.hide(),f._initUploadSuccess(r,e,u),f._setProgress(101,y)),f._raise("fileuploaded",[h,p,i]),u?l(i,p):f.updateStack(i,undefined)):(f._showUploadError(r.error,s),f._setPreviewError(e,i),u&&l(i,p))},100)},k=function(){setTimeout(function(){f.showPreview&&(c.removeAttr("disabled"),v.removeAttr("disabled"),e.removeClass("file-uploading"));u?p():(f.unlock(!1),f._clearFileInput());f._initSuccessThumbs()},100)},d=function(t,h,c){var a=f.ajaxOperations.uploadThumb,v=f._parseError(a,t,c,u?r[i].name:null);setTimeout(function(){u&&l(i,o);f.uploadStatus[o]=100;f._setPreviewError(e,i);n.extend(!0,s,f._getOutData(t));f._setProgress(101,y,f.msgAjaxProgressError.replace("{operation}",a));f._showUploadError(v,s)},100)},a.append(f.uploadFileAttr,r[i],f.filenames[i]),a.append("file_id",i),f._ajaxSubmit(w,b,k,d,o,i))},_uploadBatch:function(){var i=this,r=i.filestack,u=r.length,f,e,o,s,c=i.filestack.length>0||!n.isEmptyObject(i.uploadExtraData),h;(i.formdata=new FormData,u!==0&&c&&!i._abort({}))&&(h=function(){n.each(r,function(n){i.updateStack(n,undefined)});i._clearFileInput()},f=function(r){i.lock();var u=i._getOutData(r);i.showPreview&&i._getThumbs().each(function(){var r=n(this),u=r.find(".kv-file-upload"),f=r.find(".kv-file-remove");r.hasClass("file-preview-success")||(i._setThumbStatus(r,"Loading"),t.addCss(r,"file-uploading"));u.attr("disabled",!0);f.attr("disabled",!0)});i._raise("filebatchpreupload",[u]);i._abort(u)&&(r.abort(),i._setProgressCancelled())},e=function(r,u,f){var o=i._getOutData(f,r),s=i._getThumbs(":not(.file-preview-error)"),e=0,c=t.isEmpty(r)||t.isEmpty(r.errorkeys)?[]:r.errorkeys;t.isEmpty(r)||t.isEmpty(r.error)?(i._raise("filebatchuploadsuccess",[o]),h(),i.showPreview?(s.each(function(){var t=n(this),r=t.find(".kv-file-upload");t.find(".kv-file-upload").hide();i._setThumbStatus(t,"Success");t.removeClass("file-uploading");r.removeAttr("disabled")}),i._initUploadSuccess(r)):i.reset(),i._setProgress(101)):(i.showPreview&&(s.each(function(){var t=n(this),r=t.find(".kv-file-remove"),u=t.find(".kv-file-upload");if(t.removeClass("file-uploading"),u.removeAttr("disabled"),r.removeAttr("disabled"),c.length===0){i._setPreviewError(t);return}n.inArray(e,c)!==-1?i._setPreviewError(t):(t.find(".kv-file-upload").hide(),i._setThumbStatus(t,"Success"),i.updateStack(e,undefined));e++}),i._initUploadSuccess(r)),i._showUploadError(r.error,o,"filebatchuploaderror"))},s=function(){i.unlock();i._initSuccessThumbs();i._clearFileInput();i._raise("filebatchuploadcomplete",[i.filestack,i._getExtraData()])},o=function(t,r,f){var o=i._getOutData(t),e=i.ajaxOperations.uploadBatch,s=i._parseError(e,t,f);(i._showUploadError(s,o,"filebatchuploaderror"),i.uploadFileCount=u-1,i.showPreview)&&(i._getThumbs().each(function(){var t=n(this),r=t.attr("data-fileindex");t.removeClass("file-uploading");i.filestack[r]!==undefined&&i._setPreviewError(t)}),i._getThumbs().removeClass("file-uploading"),i._getThumbs(" .kv-file-upload").removeAttr("disabled"),i._getThumbs(" .kv-file-delete").removeAttr("disabled"),i._setProgress(101,i.$progress,i.msgAjaxProgressError.replace("{operation}",e)))},n.each(r,function(n,u){t.isEmpty(r[n])||i.formdata.append(i.uploadFileAttr,u,i.filenames[n])}),i._ajaxSubmit(f,e,s,o))},_uploadExtraOnly:function(){var n=this,i={},r,u,f,e;(n.formdata=new FormData,n._abort(i))||(r=function(t){n.lock();var r=n._getOutData(t);n._raise("filebatchpreupload",[r]);n._setProgress(50);i.data=r;i.xhr=t;n._abort(i)&&(t.abort(),n._setProgressCancelled())},u=function(i,r,u){var f=n._getOutData(u,i);t.isEmpty(i)||t.isEmpty(i.error)?(n._raise("filebatchuploadsuccess",[f]),n._clearFileInput(),n._initUploadSuccess(i),n._setProgress(101)):n._showUploadError(i.error,f,"filebatchuploaderror")},f=function(){n.unlock();n._clearFileInput();n._raise("filebatchuploadcomplete",[n.filestack,n._getExtraData()])},e=function(t,r,u){var f=n._getOutData(t),e=n.ajaxOperations.uploadExtra,o=n._parseError(e,t,u);i.data=f;n._showUploadError(o,f,"filebatchuploaderror");n._setProgress(101,n.$progress,n.msgAjaxProgressError.replace("{operation}",e))},n._ajaxSubmit(r,u,f,e))},_deleteFileIndex:function(i){var r=this,u=i.attr("data-fileindex");u.substring(0,5)==="init_"&&(u=parseInt(u.replace("init_","")),r.initialPreview=t.spliceArray(r.initialPreview,u),r.initialPreviewConfig=t.spliceArray(r.initialPreviewConfig,u),r.initialPreviewThumbTags=t.spliceArray(r.initialPreviewThumbTags,u),r.$preview.find(t.FRAMES).each(function(){var i=n(this),t=i.attr("data-fileindex");t.substring(0,5)==="init_"&&(t=parseInt(t.replace("init_","")),t>u&&(t--,i.attr("data-fileindex","init_"+t)))}),r.uploadAsync&&(r.cacheInitialPreview=r.getPreview()))},_initFileActions:function(){var i=this,r=i.$preview;i.showPreview&&(i._initZoomButton(),r.find(t.FRAMES+" .kv-file-remove").each(function(){var s=n(this),u=s.closest(t.FRAMES),h,f=u.attr("id"),e=u.attr("data-fileindex"),o,c,l;i._handler(s,"click",function(){if(l=i._raise("filepreremove",[f,e]),l===!1||!i._validateMinCount())return!1;h=u.hasClass("file-preview-error");t.cleanMemory(u);u.fadeOut("slow",function(){t.cleanZoomCache(r.find("#zoom-"+f));i.updateStack(e,undefined);i._clearObjects(u);u.remove();f&&h&&i.$errorContainer.find('li[data-file-id="'+f+'"]').fadeOut("fast",function(){n(this).remove();i._errorsExist()||i._resetErrors()});i._clearFileInput();var s=i.getFileStack(!0),l=i.previewCache.count(),a=s.length,v=i.showPreview&&r.find(t.FRAMES).length;a!==0||l!==0||v?(o=l+a,c=o>1?i._getMsgSelected(o):s[0]?i._getFileNames()[0]:"",i._setCaption(c)):i.reset();i._raise("fileremoved",[f,e])})})}),i.$preview.find(t.FRAMES+" .kv-file-upload").each(function(){var r=n(this);i._handler(r,"click",function(){var n=r.closest(t.FRAMES),u=n.attr("data-fileindex");n.hasClass("file-preview-error")||i._uploadSingle(u,i.filestack,!1)})}))},_initPreviewActions:function(){var i=this,r=i.$preview,e=i.deleteExtraData||{},f=t.FRAMES+" .kv-file-remove",u=function(){var n=i.isUploadable?i.previewCache.count():i.$element.get(0).files.length;r.find(f).length!==0||n||(i.reset(),i.initialCaption="")};i._initZoomButton();r.find(f).each(function(){var s=n(this),y=s.data("url")||i.deleteUrl,l=s.data("key");if(!t.isEmpty(y)&&l!==undefined){var f=s.closest(t.FRAMES),v=i.previewCache.data,p,h,c=f.attr("data-fileindex"),a,o;c=parseInt(c.replace("init_",""));a=t.isEmpty(v.config)&&t.isEmpty(v.config[c])?null:v.config[c];o=t.isEmpty(a)||t.isEmpty(a.extra)?e:a.extra;typeof o=="function"&&(o=o());h={id:s.attr("id"),key:l,extra:o};p=n.extend(!0,{},{url:y,type:"POST",dataType:"json",data:n.extend(!0,{},{key:l},o),beforeSend:function(n){i.ajaxAborted=!1;i._raise("filepredelete",[l,n,o]);i.ajaxAborted?n.abort():(t.addCss(f,"file-uploading"),t.addCss(s,"disabled"))},success:function(n,e,a){var v,y;if(t.isEmpty(n)||t.isEmpty(n.error))c=parseInt(f.attr("data-fileindex").replace("init_","")),i.previewCache.unset(c),v=i.previewCache.count(),y=v>0?i._getMsgSelected(v):"",i._deleteFileIndex(f),i._setCaption(y),i._raise("filedeleted",[l,a,o]);else{h.jqXHR=a;h.response=n;i._showError(n.error,h,"filedeleteerror");f.removeClass("file-uploading");s.removeClass("disabled");u();return}f.removeClass("file-uploading").addClass("file-deleted");f.fadeOut("slow",function(){t.cleanZoomCache(r.find("#zoom-"+f.attr("id")));i._clearObjects(f);f.remove();u();v||i.getFileStack().length!==0||(i._setCaption(""),i.reset())})},error:function(n,t,r){var e=i.ajaxOperations.deleteThumb,o=i._parseError(e,n,r);h.jqXHR=n;h.response={};i._showError(o,h,"filedeleteerror");f.removeClass("file-uploading");u()}},i.ajaxDeleteSettings);i._handler(s,"click",function(){if(!i._validateMinCount())return!1;n.ajax(p)})}})},_hideFileIcon:function(){this.overwriteInitial&&this.$captionContainer.find(".kv-caption-icon").hide()},_showFileIcon:function(){this.$captionContainer.find(".kv-caption-icon").show()},_getSize:function(t){var f=this,i=parseFloat(t),u,e=f.fileSizeGetter,o,r;return!n.isNumeric(t)||!n.isNumeric(i)?"":(typeof e=="function"?r=e(i):i===0?r="0.00 B":(u=Math.floor(Math.log(i)/Math.log(1024)),o=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],r=(i/Math.pow(1024,u)).toFixed(2)*1+" "+o[u]),f._getLayoutTemplate("size").replace("{sizeText}",r))},_generatePreviewTemplate:function(i,r,u,f,e,o,s,h,c,l,a){var v=this,b=v.slug(u),k,p="",y=v.previewSettings[i]||v.defaults.previewSettings[i],w=y&&y.width?y.width:"",tt=y&&y.height?y.height:"",it=c||v._renderFileFooter(b,s,t.isEmpty(w)?"auto":w,o),d=v._getPreviewIcon(u),g="type-default",rt=d&&v.preferIconicPreview,ut=d&&v.preferIconicZoomPreview,nt=function(r,o,s,c){var k=s?"zoom-"+e:e,p=v._getPreviewTemplate(r),y=(h||"")+" "+c;return v.frameClass&&(y=v.frameClass+" "+y),s&&(y=y.replace(" "+t.SORT_CSS,"")),p=v._parseFilePreviewIcon(p,u),r==="text"&&(o=t.htmlEncode(o)),i!=="object"||f||n.each(v.defaults.fileTypeSettings,function(n,t){n!=="object"&&n!=="other"&&t(u,f)&&(g="type-"+n)}),p.setTokens({previewId:k,caption:b,frameClass:y,type:f,fileindex:l,width:w,height:tt,typeCss:g,footer:it,data:o,template:a||i})};return l=l||e.slice(e.lastIndexOf("-")+1),v.fileActionSettings.showZoom&&(p=nt(ut?"other":i,r,!0,"kv-zoom-thumb")),p="\n"+v._getLayoutTemplate("zoomCache").replace("{zoomContent}",p),k=nt(rt?"other":i,r,!1,"kv-preview-thumb"),k+p},_previewDefault:function(i,r,u){var f=this,h=f.$preview;if(f.showPreview){var e=i?i.name:"",c=i?i.type:"",o,s=i.size||0,l=f.slug(e),a=u===!0&&!f.isUploadable,v=t.objUrl.createObjectURL(i);f._clearDefaultPreview();o=f._generatePreviewTemplate("other",v,e,c,r,a,s);h.append("\n"+o);f._setThumbAttr(r,l,s);u===!0&&f.isUploadable&&f._setThumbStatus(n("#"+r),"Error")}},_previewFile:function(n,i,r,u,f){var o;if(this.showPreview){var e=this,s=e._parseFileType(i),y=i?i.name:"",l=e.slug(y),p=e.allowedPreviewTypes,w=e.allowedPreviewMimeTypes,a=e.$preview,k=p&&p.indexOf(s)>=0,h=i.size||0,c=i.type,v=s==="text"||s==="html"||s==="image"?r.target.result:f,b,d=w&&w.indexOf(c)!==-1;s==="html"&&e.purifyHtml&&window.DOMPurify&&(v=window.DOMPurify.sanitize(v));k||d?(b=e._generatePreviewTemplate(s,v,y,c,u,!1,h),e._clearDefaultPreview(),a.append("\n"+b),o=a.find("#"+u+" img"),o.length&&e.autoOrientImage?t.validateOrientation(i,function(n){if(n){var f=a.find("#zoom-"+u+" img"),r="rotate-"+n;n>4&&(r+=o.width()>o.height()?" is-portrait-gt4":" is-landscape-gt4");t.addCss(o,r);t.addCss(f,r);e._raise("fileimageoriented",{$img:o,file:i})}e._validateImage(u,l,c,h);t.adjustOrientedImage(o)}):e._validateImage(u,l,c,h)):e._previewDefault(i,u);e._setThumbAttr(u,l,h);e._initSortable()}},_setThumbAttr:function(t,i,r){var f=this,u=n("#"+t);u.length&&(r=r&&r>0?f._getSize(r):"",u.data({caption:i,size:r}))},_setInitThumbAttr:function(){var i=this,s=i.previewCache.data,u=i.previewCache.count(!0),r,f,e,o,n;if(u!==0)for(n=0;n<u;n++)r=s.config[n],o=i.previewInitId+"-init_"+n,f=t.ifSet("caption",r,t.ifSet("filename",r)),e=t.ifSet("size",r),i._setThumbAttr(o,f,e)},_slugDefault:function(n){return t.isEmpty(n)?"":String(n).replace(/[\-\[\]\/\{}:;#%=\(\)\*\+\?\\\^\$\|<>&"']/g,"_")},_readFiles:function(i){this.reader=new FileReader;var r=this,b=r.$element,y=r.$preview,u=r.reader,l=r.$previewContainer,c=r.$previewStatus,k=r.msgLoading,p=r.msgProgress,d=r.previewInitId,f=i.length,a=r.fileTypeSettings,g=r.filestack.length,e,o=r.allowedFileTypes,w=o?o.length:0,s=r.allowedFileExtensions,nt=t.isEmpty(s)?"":s.join(", "),v=r.maxFilePreviewSize&&parseFloat(r.maxFilePreviewSize),tt=y.length&&(!v||isNaN(v)),h=function(t,u,f,o){var s=n.extend(!0,{},r._getOutData({},{},i),{id:f,index:o}),h={id:f,index:o,file:u,files:i};return r._previewDefault(u,f,!0),r.isUploadable&&(r.addToStack(undefined),setTimeout(function(){e(o+1)},100)),r._initFileActions(),r.removeFromPreviewOnError&&n("#"+f).remove(),r.isUploadable?r._showUploadError(t,s):r._showError(t,h)};r.loadedImages=[];r.totalImagesCount=0;n.each(i,function(n,t){var i=r.fileTypeSettings.image;i&&i(t.type)&&r.totalImagesCount++});e=function(n){if(t.isEmpty(b.attr("multiple"))&&(f=1),n>=f){r.isUploadable&&r.filestack.length>0?r._raise("filebatchselected",[r.getFileStack()]):r._raise("filebatchselected",[i]);l.removeClass("file-thumb-loading");c.html("");return}var dt=g+n,ft=d+"-"+dt,pt,wt,it=i[n],ct,ut=it.name?r.slug(it.name):"",st=(it.size||0)/1e3,et,rt,lt="",gt=t.objUrl.createObjectURL(it),bt,at,vt,yt,ot=0,kt="",ht;if(w>0)for(et=0;et<w;et++)vt=o[et],yt=r.msgFileTypes[vt]||vt,kt+=et===0?yt:", "+yt;if(ut===!1){e(n+1);return}if(ut.length===0){rt=r.msgInvalidFileName.replace("{name}",t.htmlEncode(it.name));r.isError=h(rt,it,ft,n);return}if(t.isEmpty(s)||(lt=new RegExp("\\.("+s.join("|")+")$","i")),ct=st.toFixed(2),r.maxFileSize>0&&st>r.maxFileSize){rt=r.msgSizeTooLarge.setTokens({name:ut,size:ct,maxSize:r.maxFileSize});r.isError=h(rt,it,ft,n);return}if(r.minFileSize!==null&&st<=t.getNum(r.minFileSize)){rt=r.msgSizeTooSmall.setTokens({name:ut,size:ct,minSize:r.minFileSize});r.isError=h(rt,it,ft,n);return}if(!t.isEmpty(o)&&t.isArray(o)){for(et=0;et<o.length;et+=1)bt=o[et],ht=a[bt],ot+=!ht||typeof ht!="function"?0:ht(it.type,it.name)?1:0;if(ot===0){rt=r.msgInvalidFileType.setTokens({name:ut,types:kt});r.isError=h(rt,it,ft,n);return}}if(ot===0&&!t.isEmpty(s)&&t.isArray(s)&&!t.isEmpty(lt)&&(at=t.compare(ut,lt),ot+=t.isEmpty(at)?0:at.length,ot===0)){rt=r.msgInvalidFileExtension.setTokens({name:ut,extensions:nt});r.isError=h(rt,it,ft,n);return}if(!r.showPreview){r.isUploadable&&r.addToStack(it);setTimeout(function(){e(n+1);r._updateFileDetails(f)},100);r._raise("fileloaded",[it,ft,n,u]);return}if(!tt&&st>v){r.addToStack(it);l.addClass("file-thumb-loading");r._previewDefault(it,ft);r._initFileActions();r._updateFileDetails(f);e(n+1);return}y.length&&FileReader!==undefined?(c.html(k.replace("{index}",n+1).replace("{files}",f)),l.addClass("file-thumb-loading"),u.onerror=function(n){r._errorHandler(n,ut)},u.onload=function(t){r._previewFile(n,it,t,ft,gt);r._initFileActions()},u.onloadend=function(){rt=p.setTokens({index:n+1,files:f,percent:50,name:ut});setTimeout(function(){c.html(rt);r._updateFileDetails(f);e(n+1)},100);r._raise("fileloaded",[it,ft,n,u])},u.onprogress=function(t){if(t.lengthComputable){var i=t.loaded/t.total*100,r=Math.ceil(i);rt=p.setTokens({index:n+1,files:f,percent:r,name:ut});setTimeout(function(){c.html(rt)},100)}},pt=a.text,wt=a.image,pt(it.type,ut)?u.readAsText(it,r.textEncoding):wt(it.type,ut)?u.readAsDataURL(it):u.readAsArrayBuffer(it)):(r._previewDefault(it,ft),setTimeout(function(){e(n+1);r._updateFileDetails(f)},100),r._raise("fileloaded",[it,ft,n,u]));r.addToStack(it)};e(0);r._updateFileDetails(f,!1)},_updateFileDetails:function(n){var i=this,r=i.$element,u=i.getFileStack(),o=t.isIE(9)&&t.findFileName(r.val())||r[0].files[0]&&r[0].files[0].name||u.length&&u[0].name||"",f=i.slug(o),e=i.isUploadable?u.length:n,s=i.previewCache.count()+e,h=e>1?i._getMsgSelected(s):f;i.isError?(i.$previewContainer.removeClass("file-thumb-loading"),i.$previewStatus.html(""),i.$captionContainer.find(".kv-caption-icon").hide()):i._showFileIcon();i._setCaption(h,i.isError);i.$container.removeClass("file-input-new file-input-ajax-new");arguments.length===1&&i._raise("fileselect",[n,f]);i.previewCache.count()&&i._initPreviewActions()},_setThumbStatus:function(n,t){var r=this;if(r.showPreview){var u="indicator"+t,e=u+"Title",o="file-preview-"+t.toLowerCase(),i=n.find(".file-upload-indicator"),f=r.fileActionSettings;n.removeClass("file-preview-success file-preview-error file-preview-loading");t==="Error"&&n.find(".kv-file-upload").attr("disabled",!0);t==="Success"&&(n.find(".file-drag-handle").remove(),i.css("margin-left",0));i.html(f[u]);i.attr("title",f[e]);n.addClass(o)}},_setProgressCancelled:function(){var n=this;n._setProgress(101,n.$progress,n.msgCancelled)},_setProgress:function(n,i,r){var u=this,f=Math.min(n,100),s,e=u.progressUploadThreshold,h=n<=100?u.progressTemplate:u.progressCompleteTemplate,o=f<100?u.progressTemplate:r?u.progressErrorTemplate:h;i=i||u.$progress;t.isEmpty(o)||(s=e&&f>e&&n<=100?o.setTokens({percent:e,status:u.msgUploadThreshold}):o.setTokens({percent:f,status:n>100?u.msgUploadEnd:f+"%"}),i.html(s),r&&i.find('[role="progressbar"]').html(r))},_setFileDropZoneTitle:function(){var n=this,i=n.$container.find(".file-drop-zone"),r=n.dropZoneTitle,u;(n.isClickable&&(u=t.isEmpty(n.$element.attr("multiple"))?n.fileSingle:n.filePlural,r+=n.dropZoneClickTitle.replace("{files}",u)),i.find("."+n.dropZoneTitleClass).remove(),n.isUploadable&&n.showPreview&&i.length!==0&&!(n.getFileStack().length>0)&&n.dropZoneEnabled)&&(i.find(t.FRAMES).length===0&&t.isEmpty(n.defaultPreviewContent)&&i.prepend('<div class="'+n.dropZoneTitleClass+'">'+r+"<\/div>"),n.$container.removeClass("file-input-new"),t.addCss(n.$container,"file-input-ajax-new"))},_setAsyncUploadStatus:function(t,i,r){var u=this,f=0;u._setProgress(i,n("#"+t).find(".file-thumb-progress"));u.uploadStatus[t]=i;n.each(u.uploadStatus,function(n,t){f+=t});u._setProgress(Math.floor(f/r))},_validateMinCount:function(){var n=this,t=n.isUploadable?n.getFileStack().length:n.$element.get(0).files.length;return n.validateInitialCount&&n.minFileCount>0&&n._getFileCount(t-1)<n.minFileCount?(n._noFilesError({}),!1):!0},_getFileCount:function(n){var t=this,i=0;return t.validateInitialCount&&!t.overwriteInitial&&(i=t.previewCache.count(),n+=i),n},_getFileId:function(n){var r=this,i=r.generateFileId,t;return typeof i=="function"?i(n,event):n?(t=n.webkitRelativePath||n.fileName||n.name||null,!t)?null:n.size+"-"+t.replace(/[^0-9a-zA-Z_-]/img,""):null},_getFileName:function(n){return n&&n.name?this.slug(n.name):undefined},_getFileIds:function(n){var t=this;return t.fileids.filter(function(t){return n?t!==undefined:t!==undefined&&t!==null})},_getFileNames:function(n){var t=this;return t.filenames.filter(function(t){return n?t!==undefined:t!==undefined&&t!==null})},_setPreviewError:function(n,t,i){var r=this;t!==undefined&&r.updateStack(t,i);r.removeFromPreviewOnError?n.remove():r._setThumbStatus(n,"Error")},_checkDimensions:function(n,i,r,u,f,e,o){var h=this,a,l,y=i==="Small"?"min":"max",c=h[y+"Image"+e],s,v;!t.isEmpty(c)&&r.length&&((s=r[0],l=e==="Width"?s.naturalWidth||s.width:s.naturalHeight||s.height,v=i==="Small"?l>=c:l<=c,v)||(a=h["msgImage"+e+i].setTokens({name:f,size:c}),h._showUploadError(a,o),h._setPreviewError(u,n,null)))},_validateImage:function(n,t,i,r){var u=this,h=u.$preview,s,c,l,f=h.find("#"+n),o=f.attr("data-fileindex"),e=f.find("img");(t=t||"Untitled",e.length)&&u._handler(e,"load",function(){c=f.width();l=h.width();c>l&&(e.css("width","100%"),f.css("width","97%"));s={ind:o,id:n};u._checkDimensions(o,"Small",e,f,t,"Width",s);u._checkDimensions(o,"Small",e,f,t,"Height",s);u.resizeImage||(u._checkDimensions(o,"Large",e,f,t,"Width",s),u._checkDimensions(o,"Large",e,f,t,"Height",s));u._raise("fileimageloaded",[n]);u.loadedImages.push({ind:o,img:e,thumb:f,pid:n,typ:i,siz:r,validated:!1});u._validateAllImages()})},_validateAllImages:function(){var n=this,t,f={val:0},u=n.loadedImages.length,i,r,e=n.resizeIfSizeMoreThan;if(u===n.totalImagesCount&&(n._raise("fileimagesloaded"),n.resizeImage))for(t=0;t<n.loadedImages.length;t++)(i=n.loadedImages[t],i.validated)||(r=i.siz,r&&r>e*1e3&&n._getResizedImage(i,f,u),n.loadedImages[t].validated=!0)},_getResizedImage:function(t,i,r){var u=this,a=n(t.img)[0],f=a.naturalWidth,e=a.naturalHeight,v=1,h=u.maxImageWidth||f,c=u.maxImageHeight||e,y=!!(f&&e),p,w,b=u.imageCanvas,g=u.imageCanvasContext,k=t.typ,s=t.pid,o=t.ind,nt=t.thumb,l,d;if(l=function(n,t,i){u.isUploadable?u._showUploadError(n,t,i):u._showError(n,t,i);u._setPreviewError(nt,o)},(!u.filestack[o]||!y||f<=h&&e<=c)&&(y&&u.filestack[o]&&u._raise("fileimageresized",[s,o]),i.val++,i.val===r&&u._raise("fileimagesresized"),!y)){l(u.msgImageResizeError,{id:s,index:o},"fileimageresizeerror");return}k=k||u.resizeDefaultImageType;p=f>h;w=e>c;v=u.resizePreference==="width"?p?h/f:w?c/e:1:w?c/e:p?h/f:1;u._resetCanvas();f*=v;e*=v;b.width=f;b.height=e;try{g.drawImage(a,0,0,f,e);b.toBlob(function(n){u.filestack[o]=n;u._raise("fileimageresized",[s,o]);i.val++;i.val===r&&u._raise("fileimagesresized",[undefined,undefined]);n instanceof Blob||l(u.msgImageResizeError,{id:s,index:o},"fileimageresizeerror")},k,u.resizeQuality)}catch(tt){i.val++;i.val===r&&u._raise("fileimagesresized",[undefined,undefined]);d=u.msgImageResizeException.replace("{errors}",tt.message);l(d,{id:s,index:o},"fileimageresizeexception")}},_initBrowse:function(n){var t=this;t.showBrowse?(t.$btnFile=n.find(".btn-file"),t.$btnFile.append(t.$element)):t.$element.hide()},_initCaption:function(){var n=this,i=n.initialCaption||"";return n.overwriteInitial||t.isEmpty(i)?(n.$caption.html(""),!1):(n._setCaption(i),!0)},_setCaption:function(i,r){var u=this,f,o,e,s,h=u.getFileStack();if(u.$caption.length){if(r)f=n("<div>"+u.msgValidationError+"<\/div>").text(),e=h.length,s=e?e===1&&h[0]?u._getFileNames()[0]:u._getMsgSelected(e):u._getMsgSelected(u.msgNo),o='<span class="'+u.msgValidationErrorClass+'">'+u.msgValidationErrorIcon+(t.isEmpty(i)?s:i)+"<\/span>";else{if(t.isEmpty(i))return;f=n("<div>"+i+"<\/div>").text();o=u._getLayoutTemplate("fileIcon")+f}u.$caption.html(o);u.$caption.attr("title",f);u.$captionContainer.find(".file-caption-ellipsis").attr("title",f)}},_createContainer:function(){var t=this,i=n(document.createElement("div")).attr({"class":"file-input file-input-new"}).html(t._renderMain());return t.$element.before(i),t._initBrowse(i),t.theme&&i.addClass("theme-"+t.theme),i},_refreshContainer:function(){var n=this,t=n.$container;t.before(n.$element);t.html(n._renderMain());n._initBrowse(t)},_renderMain:function(){var n=this,t=n.isUploadable&&n.dropZoneEnabled?" file-drop-zone":"file-drop-disabled",i=n.showClose?n._getLayoutTemplate("close"):"",r=n.showPreview?n._getLayoutTemplate("preview").setTokens({"class":n.previewClass,dropClass:t}):"",u=n.isDisabled?n.captionClass+" file-caption-disabled":n.captionClass,f=n.captionTemplate.setTokens({"class":u+" kv-fileinput-caption"});return n.mainTemplate.setTokens({"class":n.mainClass+(!n.showBrowse&&n.showCaption?" no-browse":""),preview:r,close:i,caption:f,upload:n._renderButton("upload"),remove:n._renderButton("remove"),cancel:n._renderButton("cancel"),browse:n._renderButton("browse")})},_renderButton:function(n){var i=this,u=i._getLayoutTemplate("btnDefault"),f=i[n+"Class"],o=i[n+"Title"],s=i[n+"Icon"],r=i[n+"Label"],h=i.isDisabled?" disabled":"",e="button";switch(n){case"remove":if(!i.showRemove)return"";break;case"cancel":if(!i.showCancel)return"";f+=" hide";break;case"upload":if(!i.showUpload)return"";i.isUploadable&&!i.isDisabled?u=i._getLayoutTemplate("btnLink").replace("{href}",i.uploadUrl):e="submit";break;case"browse":if(!i.showBrowse)return"";u=i._getLayoutTemplate("btnBrowse");break;default:return""}return f+=n==="browse"?" btn-file":" fileinput-"+n+" fileinput-"+n+"-button",t.isEmpty(r)||(r=' <span class="'+i.buttonLabelClass+'">'+r+"<\/span>"),u.setTokens({type:e,css:f,title:o,status:h,icon:s,label:r})},_renderThumbProgress:function(){var n=this;return'<div class="file-thumb-progress hide">'+n.progressTemplate.setTokens({percent:"0",status:n.msgUploadBegin})+"<\/div>"},_renderFileFooter:function(n,i,r,u){var f=this,e=f.fileActionSettings,a=e.showRemove,o=e.showDrag,v=e.showUpload,s=e.showZoom,h,c=f._getLayoutTemplate("footer"),y=u?e.indicatorError:e.indicatorNew,p=f._getLayoutTemplate("indicator"),w=u?e.indicatorErrorTitle:e.indicatorNewTitle,l=p.setTokens({indicator:y,indicatorTitle:w});return i=f._getSize(i),h=f.isUploadable?c.setTokens({actions:f._renderFileActions(v,a,s,o,!1,!1,!1),caption:n,size:i,width:r,progress:f._renderThumbProgress(),indicator:l}):c.setTokens({actions:f._renderFileActions(!1,!1,s,o,!1,!1,!1),caption:n,size:i,width:r,progress:"",indicator:l}),t.replaceTags(h,f.previewThumbTags)},_renderFileActions:function(n,t,i,r,u,f,e,o){if(!n&&!t&&!i&&!r)return"";var h=this,w=f===!1?"":' data-url="'+f+'"',c=e===!1?"":' data-key="'+e+'"',l="",a="",v="",y="",p,b=h._getLayoutTemplate("actions"),s=h.fileActionSettings,k=h.otherActionButtons.setTokens({dataKey:c}),d=u?s.removeClass+" disabled":s.removeClass;return t&&(l=h._getLayoutTemplate("actionDelete").setTokens({removeClass:d,removeIcon:s.removeIcon,removeTitle:s.removeTitle,dataUrl:w,dataKey:c})),n&&(a=h._getLayoutTemplate("actionUpload").setTokens({uploadClass:s.uploadClass,uploadIcon:s.uploadIcon,uploadTitle:s.uploadTitle})),i&&(v=h._getLayoutTemplate("actionZoom").setTokens({zoomClass:s.zoomClass,zoomIcon:s.zoomIcon,zoomTitle:s.zoomTitle})),r&&o&&(p="drag-handle-init "+s.dragClass,y=h._getLayoutTemplate("actionDrag").setTokens({dragClass:p,dragTitle:s.dragTitle,dragIcon:s.dragIcon})),b.setTokens({"delete":l,upload:a,zoom:v,drag:y,other:k})},_browse:function(n){var t=this;(t._raise("filebrowse"),n&&n.isDefaultPrevented())||(t.isError&&!t.isUploadable&&t.clear(),t.$captionContainer.focus())},_filterDuplicate:function(n,t,i){var u=this,r=u._getFileId(n);r&&i&&i.indexOf(r)>-1||(i||(i=[]),t.push(n),i.push(r))},_change:function(i){var r=this,h=r.$element;if(!r.isUploadable&&t.isEmpty(h.val())&&r.fileInputCleared){r.fileInputCleared=!1;return}r.fileInputCleared=!1;var u=[],l,s,a=arguments.length>1,o=r.isUploadable,v,f,e=a?i.originalEvent.dataTransfer.files:h.get(0).files,y=r.filestack.length,b=t.isEmpty(h.attr("multiple")),p=b&&y>0,c=0,w=r._getFileIds(),k=function(t,i,u,f){var o=n.extend(!0,{},r._getOutData({},{},e),{id:u,index:f}),s={id:u,index:f,file:i,files:e};return r.isUploadable?r._showUploadError(t,o):r._showError(t,s)};if(r.reader=null,r._resetUpload(),r._hideFileIcon(),r.isUploadable&&r.$container.find(".file-drop-zone ."+r.dropZoneTitleClass).remove(),a?n.each(e,function(n,t){t&&!t.type&&t.size!==undefined&&t.size%4096==0?c++:r._filterDuplicate(t,u,w)}):(e=i.target&&i.target.files===undefined?i.target.value?[{name:i.target.value.replace(/^.+\\/,"")}]:[]:i.target.files||{},o?n.each(e,function(n,t){r._filterDuplicate(t,u,w)}):u=e),t.isEmpty(u)||u.length===0){o||r.clear();r._showFolderError(c);r._raise("fileselectnone");return}if(r._resetErrors(),f=u.length,s=r._getFileCount(r.isUploadable?r.getFileStack().length+f:f),r.maxFileCount>0&&s>r.maxFileCount){if(!r.autoReplace||f>r.maxFileCount){v=r.autoReplace&&f>r.maxFileCount?f:s;l=r.msgFilesTooMany.replace("{m}",r.maxFileCount).replace("{n}",v);r.isError=k(l,null,null,null);r.$captionContainer.find(".kv-caption-icon").hide();r._setCaption("",!0);r.$container.removeClass("file-input-new file-input-ajax-new");return}s>r.maxFileCount&&r._resetPreviewThumbs(o)}else!o||p?(r._resetPreviewThumbs(!1),p&&r.clearStack()):o&&y===0&&(!r.previewCache.count()||r.overwriteInitial)&&r._resetPreviewThumbs(!0);r.isPreviewable?r._readFiles(u):r._updateFileDetails(1);r._showFolderError(c)},_abort:function(t){var i=this,r;return i.ajaxAborted&&typeof i.ajaxAborted=="object"&&i.ajaxAborted.message!==undefined?(r=n.extend(!0,{},i._getOutData(),t),r.abortData=i.ajaxAborted.data||{},r.abortMessage=i.ajaxAborted.message,i._setProgress(101,i.$progress,i.msgCancelled),i._showUploadError(i.ajaxAborted.message,r,"filecustomerror"),i.cancel(),!0):!1},_resetFileStack:function(){var i=this,r=0,u=[],f=[],e=[];i._getThumbs().each(function(){var o=n(this),h=o.attr("data-fileindex"),s=i.filestack[h],l=o.attr("id"),c;h!=="-1"&&h!==-1&&(s!==undefined?(u[r]=s,f[r]=i._getFileName(s),e[r]=i._getFileId(s),o.attr({id:i.previewInitId+"-"+r,"data-fileindex":r}),r++):(c="uploaded-"+t.uniqId(),o.attr({id:c,"data-fileindex":"-1"}),i.$preview.find("#zoom-"+l).attr("id","zoom-"+c)))});i.filestack=u;i.filenames=f;i.fileids=e},_isFileSelectionValid:function(n){var t=this;return(n=n||0,t.required&&!t.getFilesCount())?(t.$errorContainer.html(""),t._showUploadError(t.msgFileRequired),!1):t.minFileCount>0&&t._getFileCount(n)<t.minFileCount?(t._noFilesError({}),!1):!0},clearStack:function(){var n=this;return n.filestack=[],n.filenames=[],n.fileids=[],n.$element},updateStack:function(n,t){var i=this;return i.filestack[n]=t,i.filenames[n]=i._getFileName(t),i.fileids[n]=t&&i._getFileId(t)||null,i.$element},addToStack:function(n){var t=this;return t.filestack.push(n),t.filenames.push(t._getFileName(n)),t.fileids.push(t._getFileId(n)),t.$element},getFileStack:function(n){var t=this;return t.filestack.filter(function(t){return n?t!==undefined:t!==undefined&&t!==null})},getFilesCount:function(){var n=this,t=n.isUploadable?n.getFileStack().length:n.$element.get(0).files.length;return n._getFileCount(t)},lock:function(){var n=this;return n._resetErrors(),n.disable(),n.showRemove&&t.addCss(n.$container.find(".fileinput-remove"),"hide"),n.showCancel&&n.$container.find(".fileinput-cancel").removeClass("hide"),n._raise("filelock",[n.filestack,n._getExtraData()]),n.$element},unlock:function(n){var i=this;return n===undefined&&(n=!0),i.enable(),i.showCancel&&t.addCss(i.$container.find(".fileinput-cancel"),"hide"),i.showRemove&&i.$container.find(".fileinput-remove").removeClass("hide"),n&&i._resetFileStack(),i._raise("fileunlock",[i.filestack,i._getExtraData()]),i.$element},cancel:function(){var t=this,r=t.ajaxRequests,u=r.length,i;if(u>0)for(i=0;i<u;i+=1)t.cancelling=!0,r[i].abort();return t._setProgressCancelled(),t._getThumbs().each(function(){var i=n(this),r=i.attr("data-fileindex");i.removeClass("file-uploading");t.filestack[r]!==undefined&&(i.find(".kv-file-upload").removeClass("disabled").removeAttr("disabled"),i.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled"));t.unlock()}),t.$element},clear:function(){var i=this,r;if(i._raise("fileclear"))return i.$btnUpload.removeAttr("disabled"),i._getThumbs().find("video,audio,img").each(function(){t.cleanMemory(n(this))}),i._resetUpload(),i.clearStack(),i._clearFileInput(),i._resetErrors(!0),i._hasInitialPreview()?(i._showFileIcon(),i._resetPreview(),i._initPreviewActions(),i.$container.removeClass("file-input-new")):(i._getThumbs().each(function(){i._clearObjects(n(this))}),i.isUploadable&&(i.previewCache.data={}),i.$preview.html(""),r=!i.overwriteInitial&&i.initialCaption.length>0?i.initialCaption:"",i.$caption.html(r),i.$caption.attr("title",""),t.addCss(i.$container,"file-input-new"),i._validateDefaultPreview()),i.$container.find(t.FRAMES).length===0&&(i._initCaption()||i.$captionContainer.find(".kv-caption-icon").hide()),i._hideFileIcon(),i._raise("filecleared"),i.$captionContainer.focus(),i._setFileDropZoneTitle(),i.$element},reset:function(){var n=this;if(n._raise("filereset"))return n._resetPreview(),n.$container.find(".fileinput-filename").text(""),t.addCss(n.$container,"file-input-new"),(n.$preview.find(t.FRAMES).length||n.isUploadable&&n.dropZoneEnabled)&&n.$container.removeClass("file-input-new"),n._setFileDropZoneTitle(),n.clearStack(),n.formdata={},n.$element},disable:function(){var n=this;return n.isDisabled=!0,n._raise("filedisabled"),n.$element.attr("disabled","disabled"),n.$container.find(".kv-fileinput-caption").addClass("file-caption-disabled"),n.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").attr("disabled",!0),n._initDragDrop(),n.$element},enable:function(){var n=this;return n.isDisabled=!1,n._raise("fileenabled"),n.$element.removeAttr("disabled"),n.$container.find(".kv-fileinput-caption").removeClass("file-caption-disabled"),n.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").removeAttr("disabled"),n._initDragDrop(),n.$element},upload:function(){var i=this,u=i.getFileStack().length,r,e,f,o=!n.isEmptyObject(i._getExtraData());if(i.isUploadable&&!i.isDisabled&&i._isFileSelectionValid(u)){if(i._resetUpload(),u===0&&!o){i._showUploadError(i.msgUploadEmpty);return}if(i.$progress.removeClass("hide"),i.uploadCount=0,i.uploadStatus={},i.uploadLog=[],i.lock(),i._setProgress(2),u===0&&o){i._uploadExtraOnly();return}if(f=i.filestack.length,i.hasInitData=!1,i.uploadAsync){for(e=i._getOutData(),i._raise("filebatchpreupload",[e]),i.fileBatchCompleted=!1,i.uploadCache={content:[],config:[],tags:[],append:!0},i.uploadAsyncCount=i.getFileStack().length,r=0;r<f;r++)i.uploadCache.content[r]=null,i.uploadCache.config[r]=null,i.uploadCache.tags[r]=null;for(i.$preview.find(".file-preview-initial").removeClass(t.SORT_CSS),i._initSortable(),i.cacheInitialPreview=i.getPreview(),r=0;r<f;r++)i.filestack[r]!==undefined&&i._uploadSingle(r,i.filestack,!0);return}return i._uploadBatch(),i.$element}},destroy:function(){var t=this,r=t.$form,u=t.$container,f=t.$element,i=t.namespace;return n(document).off(i),n(window).off(i),r&&r.length&&r.off(i),t.isUploadable&&t._clearFileInput(),t._cleanup(),t._initPreviewCache(),f.insertBefore(u).off(i).removeData(),u.off().remove(),f},refresh:function(t){var i=this,r=i.$element;return t=t?n.extend(!0,{},i.options,t):i.options,i.destroy(),r.fileinput(t),i=r.data("fileinput"),i.isUploadable&&i._clearFileInput(),r.val()&&r.trigger("change.fileinput"),r},zoom:function(i){var r=this,f=n("#"+i),u=r.$modal;if(!f.length){r._log('Cannot zoom to detailed preview! Invalid frame with id: "'+i+'".');return}t.initModal(u);u.html(r._getModalContent());r._setZoomContent(f);u.modal("show");r._initZoomButtons()},getPreview:function(){var n=this;return{content:n.initialPreview,config:n.initialPreviewConfig,tags:n.initialPreviewThumbTags}}};n.fn.fileinput=function(r){if(t.hasFileAPISupport()||t.isIE(9)){var f=Array.apply(null,arguments),u=[];f.shift();this.each(function(){var e=n(this),o=e.data("fileinput"),s=typeof r=="object"&&r,c=s.theme||e.data("theme"),l={},a={},h=s.language||e.data("language")||n.fn.fileinput.defaults.language||"en",v;o||(c&&(a=n.fn.fileinputThemes[c]||{}),h==="en"||t.isEmpty(n.fn.fileinputLocales[h])||(l=n.fn.fileinputLocales[h]||{}),v=n.extend(!0,{},n.fn.fileinput.defaults,a,n.fn.fileinputLocales.en,l,s,e.data()),o=new i(this,v),e.data("fileinput",o));typeof r=="string"&&u.push(o[r].apply(o,f))});switch(u.length){case 0:return this;case 1:return u[0];default:return u}}};n.fn.fileinput.defaults={language:"en",showCaption:!0,showBrowse:!0,showPreview:!0,showRemove:!0,showUpload:!0,showCancel:!0,showClose:!0,showUploadedThumbs:!0,browseOnZoneClick:!1,autoReplace:!1,autoOrientImage:!0,required:!1,generateFileId:null,previewClass:"",captionClass:"",frameClass:"krajee-default",mainClass:"file-caption-main",mainTemplate:null,purifyHtml:!0,fileSizeGetter:null,initialCaption:"",initialPreview:[],initialPreviewDelimiter:"*$$*",initialPreviewAsData:!1,initialPreviewFileType:"image",initialPreviewConfig:[],initialPreviewThumbTags:[],previewThumbTags:{},initialPreviewShowDelete:!0,removeFromPreviewOnError:!1,deleteUrl:"",deleteExtraData:{},overwriteInitial:!0,previewZoomButtonIcons:{prev:'<i class="glyphicon glyphicon-triangle-left"><\/i>',next:'<i class="glyphicon glyphicon-triangle-right"><\/i>',toggleheader:'<i class="glyphicon glyphicon-resize-vertical"><\/i>',fullscreen:'<i class="glyphicon glyphicon-fullscreen"><\/i>',borderless:'<i class="glyphicon glyphicon-resize-full"><\/i>',close:'<i class="glyphicon glyphicon-remove"><\/i>'},previewZoomButtonClasses:{prev:"btn btn-navigate",next:"btn btn-navigate",toggleheader:"btn btn-default btn-header-toggle",fullscreen:"btn btn-default",borderless:"btn btn-default",close:"btn btn-default"},preferIconicPreview:!1,preferIconicZoomPreview:!1,allowedPreviewTypes:undefined,allowedPreviewMimeTypes:null,allowedFileTypes:null,allowedFileExtensions:null,defaultPreviewContent:null,customLayoutTags:{},customPreviewTags:{},previewFileIcon:'<i class="glyphicon glyphicon-file"><\/i>',previewFileIconClass:"file-other-icon",previewFileIconSettings:{},previewFileExtSettings:{},buttonLabelClass:"hidden-xs",browseIcon:'<i class="glyphicon glyphicon-folder-open"><\/i>&nbsp;',browseClass:"btn btn-primary",removeIcon:'<i class="glyphicon glyphicon-trash"><\/i>',removeClass:"btn btn-default",cancelIcon:'<i class="glyphicon glyphicon-ban-circle"><\/i>',cancelClass:"btn btn-default",uploadIcon:'<i class="glyphicon glyphicon-upload"><\/i>',uploadClass:"btn btn-default",uploadUrl:null,uploadAsync:!0,uploadExtraData:{},zoomModalHeight:480,minImageWidth:null,minImageHeight:null,maxImageWidth:null,maxImageHeight:null,resizeImage:!1,resizePreference:"width",resizeQuality:.92,resizeDefaultImageType:"image/jpeg",resizeIfSizeMoreThan:0,minFileSize:0,maxFileSize:0,maxFilePreviewSize:25600,minFileCount:0,maxFileCount:0,validateInitialCount:!1,msgValidationErrorClass:"text-danger",msgValidationErrorIcon:'<i class="glyphicon glyphicon-exclamation-sign"><\/i> ',msgErrorClass:"file-error-message",progressThumbClass:"progress-bar progress-bar-success progress-bar-striped active",progressClass:"progress-bar progress-bar-success progress-bar-striped active",progressCompleteClass:"progress-bar progress-bar-success",progressErrorClass:"progress-bar progress-bar-danger",progressUploadThreshold:99,previewFileType:"image",elCaptionContainer:null,elCaptionText:null,elPreviewContainer:null,elPreviewImage:null,elPreviewStatus:null,elErrorContainer:null,errorCloseButton:'<span class="close kv-error-close">&times;<\/span>',slugCallback:null,dropZoneEnabled:!0,dropZoneTitleClass:"file-drop-zone-title",fileActionSettings:{},otherActionButtons:"",textEncoding:"UTF-8",ajaxSettings:{},ajaxDeleteSettings:{},showAjaxErrorDetails:!0};n.fn.fileinputLocales.en={fileSingle:"file",filePlural:"files",browseLabel:"Browse &hellip;",removeLabel:"Remove",removeTitle:"Clear selected files",cancelLabel:"Cancel",cancelTitle:"Abort ongoing upload",uploadLabel:"Upload",uploadTitle:"Upload selected files",msgNo:"No",msgNoFilesSelected:"No files selected",msgCancelled:"Cancelled",msgZoomModalHeading:"Detailed Preview",msgFileRequired:"You must select a file to upload.",msgSizeTooSmall:'File "{name}" (<b>{size} KB<\/b>) is too small and must be larger than <b>{minSize} KB<\/b>.',msgSizeTooLarge:'File "{name}" (<b>{size} KB<\/b>) exceeds maximum allowed upload size of <b>{maxSize} KB<\/b>.',msgFilesTooLess:"You must select at least <b>{n}<\/b> {files} to upload.",msgFilesTooMany:"Number of files selected for upload <b>({n})<\/b> exceeds maximum allowed limit of <b>{m}<\/b>.",msgFileNotFound:'File "{name}" not found!',msgFileSecured:'Security restrictions prevent reading the file "{name}".',msgFileNotReadable:'File "{name}" is not readable.',msgFilePreviewAborted:'File preview aborted for "{name}".',msgFilePreviewError:'An error occurred while reading the file "{name}".',msgInvalidFileName:'Invalid or unsupported characters in file name "{name}".',msgInvalidFileType:'Invalid type for file "{name}". Only "{types}" files are supported.',msgInvalidFileExtension:'Invalid extension for file "{name}". Only "{extensions}" files are supported.',msgFileTypes:{image:"image",html:"HTML",text:"text",video:"video",audio:"audio",flash:"flash",pdf:"PDF",object:"object"},msgUploadAborted:"The file upload was aborted",msgUploadThreshold:"Processing...",msgUploadBegin:"Initializing...",msgUploadEnd:"Done",msgUploadEmpty:"Only .pdf, .txt, .jpg, .png, .gif end files are allowed.",msgValidationError:"Validation Error",msgLoading:"Loading file {index} of {files} &hellip;",msgProgress:"Loading file {index} of {files} - {name} - {percent}% completed.",msgSelected:"{n} {files} selected",msgFoldersNotAllowed:"Drag & drop files only! {n} folder(s) dropped were skipped.",msgImageWidthSmall:'Width of image file "{name}" must be at least {size} px.',msgImageHeightSmall:'Height of image file "{name}" must be at least {size} px.',msgImageWidthLarge:'Width of image file "{name}" cannot exceed {size} px.',msgImageHeightLarge:'Height of image file "{name}" cannot exceed {size} px.',msgImageResizeError:"Could not get the image dimensions to resize.",msgImageResizeException:"Error while resizing the image.<pre>{errors}<\/pre>",msgAjaxError:"Something went wrong with the {operation} operation. Please try again later!",msgAjaxProgressError:"{operation} failed",ajaxOperations:{deleteThumb:"file delete",uploadThumb:"file upload",uploadBatch:"batch file upload",uploadExtra:"form data upload"},dropZoneTitle:"Drag & drop files here &hellip;",dropZoneClickTitle:"<br>(or click to select {files})",previewZoomButtonTitles:{prev:"View previous file",next:"View next file",toggleheader:"Toggle header",fullscreen:"Toggle full screen",borderless:"Toggle borderless mode",close:"Close detailed preview"}};n.fn.fileinput.Constructor=i;n(document).ready(function(){var t=n("input.file[type=file]");t.length&&t.fileinput()})});
/*!
 * FileInput Finnish Translations
 *
 * This file must be loaded after 'fileinput.js'. Patterns in braces '{}', or
 * any HTML markup tags in the messages must not be converted or translated.
 *
 * @see http://github.com/kartik-v/bootstrap-fileinput
 *
 * NOTE: this file must be saved in UTF-8 encoding.
 */
(function(n){"use strict";n.fn.fileinputLocales.fi={fileSingle:"tiedosto",filePlural:"tiedostot",browseLabel:"Selaa &hellip;",removeLabel:"Poista",removeTitle:"Tyhj&auml;nn&auml; valitut tiedostot",cancelLabel:"Peruuta",cancelTitle:"Peruuta lataus",uploadLabel:"Lataa",uploadTitle:"Lataa valitut tiedostot",msgNoFilesSelected:"",msgFileRequired:"Sinun tÃ¤ytyy valita ladattava tiedosto.",msgSizeTooSmall:'Tiedosto "{name}" (<b>{size} KB<\/b>) on liian pieni. Tulee olla suurempi kuin <b>{minSize} KB<\/b>.',msgSizeTooLarge:'Tiedosto "{name}" (<b>{size} Kt<\/b>) ylitt&auml;&auml; suurimman sallitun tiedoston koon, joka on <b>{maxSize} Kt<\/b>. Yrit&auml; uudelleen!',msgFilesTooLess:"V&auml;hint&auml;&auml;n <b>{n}<\/b> {files} tiedostoa on valittava ladattavaksi. Ole hyv&auml; ja yrit&auml; uudelleen!",msgFilesTooMany:"Valittujen tiedostojen lukum&auml;&auml;r&auml; <b>({n})<\/b> ylitt&auml;&auml; suurimman sallitun m&auml;&auml;r&auml;n <b>{m}<\/b>. Ole hyv&auml; ja yrit&auml; uudelleen!",msgFileNotFound:'Tiedostoa "{name}" ei l&ouml;ydy!',msgFileSecured:'Tietoturvarajoitukset est&auml;v&auml;t tiedoston "{name}" lukemisen.',msgFileNotReadable:'Tiedosto "{name}" ei ole luettavissa.',msgFilePreviewAborted:'Tiedoston "{name}" esikatselu keskeytetty.',msgFilePreviewError:'Virhe on tapahtunut luettaessa tiedostoa "{name}".',msgInvalidFileName:'Ei sallittu merkki tiedoston nimessÃ¤ "{name}".',msgInvalidFileType:'Tiedosto "{name}" on v&auml;&auml;r&auml;n tyyppinen. Ainoastaan tiedostot tyyppi&auml; "{types}" ovat tuettuja.',msgInvalidFileExtension:'Tiedoston "{name}" tarkenne on ep&auml;kelpo. Ainoastaan tarkenteet "{extensions}" ovat tuettuja.',msgFileTypes:{image:"Kuva",html:"HTML",text:"Teksti",video:"Video",audio:"Ã„Ã¤ni",flash:"Flash",pdf:"PDF",object:"Olio"},msgUploadThreshold:"KÃ¤sitellÃ¤Ã¤n...",msgUploadBegin:"Ladataan...",msgUploadEnd:"Valmis",msgUploadEmpty:"Vain .pdf, .txt, .jpg, .png, .gif pÃ¤Ã¤tteiset tiedostot  sallittuja.",msgValidationError:"Tiedoston latausvirhe",msgLoading:"Ladataan tiedostoa {index} / {files} &hellip;",msgProgress:"Ladataan tiedostoa {index} / {files} - {name} - {percent}% valmistunut.",msgSelected:"{n} tiedostoa valittu",msgFoldersNotAllowed:"Raahaa ja pudota ainoastaan tiedostoja! Ohitettu {n} raahattua kansiota.",msgAjaxError:"Operaatiossa tapahtui virhe. Koita myÃ¶hemmin uudelleen.",msgAjaxProgressError:"{operation} epÃ¤onnistui",ajaxOperations:{deleteThumb:"file delete",uploadThumb:"file upload",uploadBatch:"batch file upload",uploadExtra:"form data upload"},dropZoneTitle:"Raahaa ja pudota tiedostot t&auml;h&auml;n &hellip;",dropZoneClickTitle:"<br>(tai valitse hiirellÃ¤ {files})",fileActionSettings:{removeTitle:"Poista tiedosto",uploadTitle:"Lataa tiedosto",zoomTitle:"Yksityiskohdat",dragTitle:"SiirrÃ¤ / JÃ¤rjestele",indicatorNewTitle:"Ei ladattu",indicatorSuccessTitle:"Ladattu",indicatorErrorTitle:"Lataus epÃ¤onnistui",indicatorLoadingTitle:"Ladataan ..."},previewZoomButtonTitles:{prev:"Seuraava tiedosto",next:"Edellinen tiedosto",toggleheader:"NÃ¤ytÃ¤ otsikko",fullscreen:"KokonÃ¤ytÃ¶n tila",borderless:"Rajaton tila",close:"Sulje esikatselu"}};n.extend(n.fn.fileinput.defaults,n.fn.fileinputLocales.fi)})(window.jQuery);
/*!
 * FileInput German Translations
 *
 * This file must be loaded after 'fileinput.js'. Patterns in braces '{}', or
 * any HTML markup tags in the messages must not be converted or translated.
 *
 * @see http://github.com/kartik-v/bootstrap-fileinput
 */
(function(n){"use strict";n.fn.fileinputLocales.de={fileSingle:"Datei",filePlural:"Dateien",browseLabel:"AuswÃ¤hlen &hellip;",removeLabel:"LÃ¶schen",removeTitle:"AusgewÃ¤hlte lÃ¶schen",cancelLabel:"Abbrechen",cancelTitle:"Hochladen abbrechen",uploadLabel:"Hochladen",uploadTitle:"Hochladen der ausgewÃ¤hlten Dateien",msgNo:"Keine",msgNoFilesSelected:"Keine Dateien ausgewÃ¤hlt",msgCancelled:"Abgebrochen",msgZoomModalHeading:"ausfÃ¼hrliche Vorschau",msgFileRequired:"Bitte wÃ¤hlen Sie ein Datei zum Hochladen aus.",msgSizeTooSmall:'die Datei"{name}" (<b>{size} KB<\/b>) ist zu klein und muss grÃ¶sser sein als <b>{minSize} KB<\/b>.',msgSizeTooLarge:'Datei "{name}" (<b>{size} KB<\/b>) Ã¼berschreitet maximal zulÃ¤ssige Upload-GrÃ¶ÃŸe von <b>{maxSize} KB<\/b>.',msgFilesTooLess:"Sie mÃ¼ssen mindestens <b>{n}<\/b> {files} zum Hochladen auswÃ¤hlen.",msgFilesTooMany:"Anzahl der Dateien fÃ¼r den Upload ausgewÃ¤hlt <b>({n})<\/b> Ã¼berschreitet maximal zulÃ¤ssige Grenze von <b>{m}<\/b> StÃ¼ck.",msgFileNotFound:'Datei "{name}" wurde nicht gefunden!',msgFileSecured:'Sicherheitseinstellungen verhindern das Lesen der Datei "{name}".',msgFileNotReadable:'Die Datei "{name}" ist nicht lesbar.',msgFilePreviewAborted:'Dateivorschau abgebrochen fÃ¼r "{name}".',msgFilePreviewError:'Beim Lesen der Datei "{name}" ein Fehler aufgetreten.',msgInvalidFileName:'Der Dateiname enthÃ¤lt unzulÃ¤ssige Zeichen "{name}".',msgInvalidFileType:'UngÃ¼ltiger Typ fÃ¼r Datei "{name}". Nur Dateien der Typen "{types}" werden unterstÃ¼tzt.',msgInvalidFileExtension:'UngÃ¼ltige Erweiterung fÃ¼r Datei "{name}". Nur Dateien mit der Endung "{extensions}" werden unterstÃ¼tzt.',msgFileTypes:{image:"image",html:"HTML",text:"text",video:"video",audio:"audio",flash:"flash",pdf:"PDF",object:"object"},msgUploadAborted:"Der Datei-Upload wurde abgebrochen",msgUploadThreshold:"in Bearbeitungâ€¦",msgUploadBegin:"Initialisierung",msgUploadEnd:"Datei wurde angefÃ¼gt",msgUploadEmpty:"Es sind keine gÃ¼ltigen Daten zum Hochladen verfÃ¼gbar",msgValidationError:"Validierungs fehler",msgLoading:"Lade Datei {index} von {files} hoch&hellip;",msgProgress:"Datei {index} von {files} - {name} - zu {percent}% fertiggestellt.",msgSelected:"{n} {files} ausgewÃ¤hlt",msgFoldersNotAllowed:"Drag & Drop funktioniert nur bei Dateien! {n} Ordner Ã¼bersprungen.",msgImageWidthSmall:'Breite der Bilddatei "{name}" muss mindestens {size} px betragen.',msgImageHeightSmall:'HÃ¶he der Bilddatei "{name}" muss mindestens {size} px betragen.',msgImageWidthLarge:'Breite der Bilddatei "{name}" nicht Ã¼berschreiten {size} px.',msgImageHeightLarge:'HÃ¶he der Bilddatei "{name}" nicht Ã¼berschreiten {size} px.',msgImageResizeError:"Konnte nicht die Bildabmessungen zu Ã¤ndern.",msgImageResizeException:"Fehler beim Ã„ndern der GrÃ¶ÃŸe des Bildes.<pre>{errors}<\/pre>",msgAjaxError:"Beim Lesen der hochgeladenen Datei ist ein Fehler aufgetreten {operation}. Bitte versuchen Sie es spÃ¤ter erneut!",msgAjaxProgressError:"{operation} failed",ajaxOperations:{deleteThumb:"Datei lÃ¶schen",uploadThumb:"Datei hochladen",uploadBatch:"Batch-Datei hochladen",uploadExtra:"Datei hochladen"},dropZoneTitle:"Dateien hierher ziehen &hellip;",dropZoneClickTitle:"<br>(oder hier auswÃ¤hlen {files})",fileActionSettings:{removeTitle:"Datei entfernen",uploadTitle:"Datei hochladen",zoomTitle:"Details anzeigen",dragTitle:"verschieben / neu anordnen",indicatorNewTitle:"Noch nicht hochgeladen",indicatorSuccessTitle:"Hochgeladen",indicatorErrorTitle:"Upload Fehler",indicatorLoadingTitle:"Hochladen ..."},previewZoomButtonTitles:{prev:"vorherige Datei anzeigen",next:"nÃ¤chste Datei anzeigen",toggleheader:"Kopfzeile anzeigen",fullscreen:"zur Vollbildansicht umschalten",borderless:"auf Fenstermodus umschalten",close:"detaillierte Vorschau schliessen"}}})(window.jQuery);
/*!
 * FileInput Polish Translations
 *
 * This file must be loaded after 'fileinput.js'. Patterns in braces '{}', or
 * any HTML markup tags in the messages must not be converted or translated.
 *
 * @see http://github.com/kartik-v/bootstrap-fileinput
 *
 * NOTE: this file must be saved in UTF-8 encoding.
 */
(function(n){"use strict";n.fn.fileinputLocales.pl={fileSingle:"plik",filePlural:"pliki",browseLabel:"PrzeglÄ…daj &hellip;",removeLabel:"UsuÅ„",removeTitle:"UsuÅ„ zaznaczone pliki",cancelLabel:"Przerwij",cancelTitle:"Anuluj wysyÅ‚anie",uploadLabel:"Wgraj",uploadTitle:"Wgraj zaznaczone pliki",msgNo:"Nie",msgNoFilesSelected:"Brak zaznaczonych plikÃ³w",msgCancelled:"OdwoÅ‚any",msgZoomModalHeading:"SzczegÃ³Å‚owy podglÄ…d",msgFileRequired:"You must select a file to upload.",msgSizeTooSmall:'Plik "{name}" (<b>{size} KB<\/b>) jest zbyt maÅ‚y i musi byÄ‡ wiÄ™kszy niÅ¼ <b>{minSize} KB<\/b>.',msgSizeTooLarge:'Plik o nazwie "{name}" (<b>{size} KB<\/b>) przekroczyÅ‚ maksymalnÄ… dopuszczalnÄ… wielkoÅ›Ä‡ pliku wynoszÄ…cÄ… <b>{maxSize} KB<\/b>.',msgFilesTooLess:"Minimalna liczba plikÃ³w do wgrania: <b>{n}<\/b>.",msgFilesTooMany:"Liczba plikÃ³w wybranych do wgrania w liczbie <b>({n})<\/b>, przekracza maksymalny dozwolony limit wynoszÄ…cy <b>{m}<\/b>.",msgFileNotFound:'Plik "{name}" nie istnieje!',msgFileSecured:'Ustawienia zabezpieczeÅ„ uniemoÅ¼liwiajÄ… odczyt pliku "{name}".',msgFileNotReadable:'Plik "{name}" nie jest plikiem do odczytu.',msgFilePreviewAborted:'PodglÄ…d pliku "{name}" zostaÅ‚ przerwany.',msgFilePreviewError:'WystÄ…piÅ‚ bÅ‚Ä…d w czasie odczytu pliku "{name}".',msgInvalidFileName:'NieprawidÅ‚owe lub nieobsÅ‚ugiwane znaki w nazwie pliku "{name}".',msgInvalidFileType:'Nieznny typ pliku "{name}". Tylko nastÄ™pujÄ…ce rodzaje plikÃ³w sÄ… obsÅ‚ugiwane: "{types}".',msgInvalidFileExtension:'ZÅ‚e rozszerzenie dla pliku "{name}". Tylko nastÄ™pujÄ…ce rozszerzenia plikÃ³w sÄ… obsÅ‚ugiwane: "{extensions}".',msgUploadAborted:"PrzesyÅ‚anie pliku zostaÅ‚o przerwane",msgUploadThreshold:"Przetwarzanie...",msgUploadBegin:"Initializing...",msgUploadEnd:"Done",msgUploadEmpty:"Dopuszczalne sÄ… wyÅ‚Ä…cznie pliki o rozszerzeniu .pdf, .txt, .jpg, .png, lub .gif.",msgValidationError:"BÅ‚Ä…d walidacji",msgLoading:"Wczytywanie pliku {index} z {files} &hellip;",msgProgress:"Wczytywanie pliku {index} z {files} - {name} - {percent}% zakoÅ„czone.",msgSelected:"{n} PlikÃ³w zaznaczonych",msgFoldersNotAllowed:"MetodÄ… przeciÄ…gnij i upuÅ›Ä‡, moÅ¼na przenosiÄ‡ tylko pliki. PominiÄ™to {n} katalogÃ³w.",msgImageWidthSmall:'SzerokoÅ›Ä‡ pliku obrazu "{name}" musi byÄ‡ co najmniej {size} px.',msgImageHeightSmall:'WysokoÅ›Ä‡ pliku obrazu "{name}" musi byÄ‡ co najmniej {size} px.',msgImageWidthLarge:'SzerokoÅ›Ä‡ pliku obrazu "{name}" nie moÅ¼e przekraczaÄ‡ {size} px.',msgImageHeightLarge:'WysokoÅ›Ä‡ pliku obrazu "{name}" nie moÅ¼e przekraczaÄ‡ {size} px.',msgImageResizeError:"Nie udaÅ‚o siÄ™ uzyskaÄ‡ wymiaru obrazu, aby zmieniÄ‡ rozmiar.",msgImageResizeException:"BÅ‚Ä…d podczas zmiany rozmiaru obrazu.<pre>{errors}<\/pre>",msgAjaxError:"Something went wrong with the {operation} operation. Please try again later!",msgAjaxProgressError:"{operation} failed",ajaxOperations:{deleteThumb:"file delete",uploadThumb:"file upload",uploadBatch:"batch file upload",uploadExtra:"form data upload"},dropZoneTitle:"PrzeciÄ…gnij i upuÅ›Ä‡ pliki tutaj &hellip;",dropZoneClickTitle:"<br>(lub kliknij tutaj i wybierz {files} z komputera)",fileActionSettings:{removeTitle:"UsuÅ„ plik",uploadTitle:"PrzesyÅ‚anie pliku",zoomTitle:"PokaÅ¼ szczegÃ³Å‚y",dragTitle:"Przenies / Ponownie zaaranÅ¼uj",indicatorNewTitle:"Jeszcze nie przesÅ‚anych",indicatorSuccessTitle:"Dodane",indicatorErrorTitle:"PrzeÅ›lij bÅ‚Ä…d",indicatorLoadingTitle:"Zamieszczanie ..."},previewZoomButtonTitles:{prev:"PokaÅ¼ poprzedni plik",next:"PokaÅ¼ nastÄ™pny plik",toggleheader:"WÅ‚Ä…cz / wyÅ‚Ä…cz nagÅ‚Ã³wek",fullscreen:"WÅ‚Ä…cz / wyÅ‚Ä…cz peÅ‚ny ekran",borderless:"WÅ‚Ä…cz / wyÅ‚Ä…cz tryb bez ramek",close:"Zamknij szczegÃ³Å‚owy widok"}}})(window.jQuery);
/*!
 * FileInput Danish Translations
 *
 * This file must be loaded after 'fileinput.js'. Patterns in braces '{}', or
 * any HTML markup tags in the messages must not be converted or translated.
 *
 * @see http://github.com/kartik-v/bootstrap-fileinput
 *
 * NOTE: this file must be saved in UTF-8 encoding.
 */
(function(n){"use strict";n.fn.fileinputLocales.da={fileSingle:"fil",filePlural:"filer",browseLabel:"Gennemse &hellip;",removeLabel:"Fjern",removeTitle:"Fjern valgte filer",cancelLabel:"Fortryd",cancelTitle:"Afbryd nuvÃ¦rende upload",uploadLabel:"Upload",uploadTitle:"Upload valgte filer",msgNo:"Ingen",msgNoFilesSelected:"",msgCancelled:"aflyst",msgZoomModalHeading:"Detaljeret visning",msgFileRequired:"Du skal vÃ¦lge en fil, der skal uploades.",msgSizeTooSmall:'File "{name}" (<b>{size} KB<\/b>) er for lille og skal vÃ¦re stÃ¸rre end <b>{minSize} KB<\/b>.',msgSizeTooLarge:'Fil "{name}" (<b>{size} KB<\/b>) er stÃ¸rre end de tilladte <b>{maxSize} KB<\/b>.',msgFilesTooLess:"Du skal mindst vÃ¦lge <b>{n}<\/b> {files} til upload.",msgFilesTooMany:"<b>({n})<\/b> filer valgt til upload, men maks. <b>{m}<\/b> er tilladt.",msgFileNotFound:'Filen "{name}" blev ikke fundet!',msgFileSecured:'Sikkerhedsrestriktioner forhindrer lÃ¦sning af "{name}".',msgFileNotReadable:'Filen "{name}" kan ikke indlÃ¦ses.',msgFilePreviewAborted:'Filpreview annulleret for "{name}".',msgFilePreviewError:'Der skete en fejl under lÃ¦sningen af filen "{name}".',msgInvalidFileName:'Ugyldige eller ikke understÃ¸ttede tegn i filnavn "{name}".',msgInvalidFileType:'Ukendt type for filen "{name}". Kun "{types}" kan bruges.',msgInvalidFileExtension:'Ukendt filtype for filen "{name}". Kun "{extensions}" filer kan bruges.',msgFileTypes:{image:"billede",html:"HTML",text:"text",video:"video",audio:"lyd",flash:"flash",pdf:"PDF",object:"objekt"},msgUploadAborted:"Filupload annulleret",msgUploadThreshold:"Behandler...",msgUploadBegin:"Starter...",msgUploadEnd:"FÃ¦rdig",msgUploadEmpty:"Der findes ingen gyldige data til upload. Tilladte filtyper .pdf, .txt, .jpg, .png, .gif.",msgValidationError:"Valideringsfejl",msgLoading:"Henter fil {index} af {files} &hellip;",msgProgress:"Henter fil {index} af {files} - {name} - {percent}% fÃ¦rdiggjort.",msgSelected:"{n} {files} valgt",msgFoldersNotAllowed:"TrÃ¦k & slip kun filer! {n} mappe(r) sprunget over.",msgImageWidthSmall:'Bredden af billedet "{name}" skal vÃ¦re pÃ¥ mindst {size} px.',msgImageHeightSmall:'HÃ¸jden af billedet "{name}" skal vÃ¦re pÃ¥ mindst {size} px.',msgImageWidthLarge:'Bredden af billedet "{name}" mÃ¥ ikke vÃ¦re over {size} px.',msgImageHeightLarge:'HÃ¸jden af billedet "{name}" mÃ¥ ikke vÃ¦re over {size} px.',msgImageResizeError:"Kunne ikke fÃ¥ billedets dimensioner for at Ã¦ndre stÃ¸rrelsen.",msgImageResizeException:"Fejl ved at Ã¦ndre stÃ¸rrelsen pÃ¥ billedet.<pre>{errors}<\/pre>",msgAjaxError:"Noget gik galt med {operation} operationen. PrÃ¸v venligst igen senere!",msgAjaxProgressError:"{operation} mislykkedes",ajaxOperations:{deleteThumb:"fil slettet",uploadThumb:"fil uploaded",uploadBatch:"batch fil upload",uploadExtra:"form data upload"},dropZoneTitle:"TrÃ¦k & slip filer her &hellip;",dropZoneClickTitle:"<br>(eller klik for at vÃ¦lge {files})",fileActionSettings:{removeTitle:"Fjern fil",uploadTitle:"Upload fil",zoomTitle:"Se detaljer",dragTitle:"Flyt / Omorganiser",indicatorNewTitle:"Ikke uploadet endnu",indicatorSuccessTitle:"Uploadet",indicatorErrorTitle:"Upload fejl",indicatorLoadingTitle:"Uploader ..."},previewZoomButtonTitles:{prev:"Vis tidligere fil",next:"Vis nÃ¦ste fil",toggleheader:"Klik pÃ¥ knappen",fullscreen:"Klik fuldskÃ¦rm",borderless:"Klik kantlÃ¸s tilstand",close:"Luk detaljeret forhÃ¥ndsvisning"}}})(window.jQuery);
/*!
 * FileInput <_LANG_> Translations
 *
 * This file must be loaded after 'fileinput.js'. Patterns in braces '{}', or
 * any HTML markup tags in the messages must not be converted or translated.
 *
 * @see http://github.com/kartik-v/bootstrap-fileinput
 *
 * NOTE: this file must be saved in UTF-8 encoding.
 */
(function(n){"use strict";n.fn.fileinputLocales.se={fileSingle:"fil",filePlural:"filer",browseLabel:"BlÃ¤ddra &hellip;",removeLabel:"Ta bort",removeTitle:"Rensa valda filer",cancelLabel:"Avbryt",cancelTitle:"Avbryt pÃ¥gÃ¥ende uppladdning",uploadLabel:"Ladda upp",uploadTitle:"Ladda upp valda filer",msgNo:"Nej",msgNoFilesSelected:"Inga filer valda",msgCancelled:"Avbruten",msgZoomModalHeading:"detaljerad fÃ¶rhandsgranskning",msgFileRequired:"Du mÃ¥ste vÃ¤lja en fil att ladda upp.",msgSizeTooSmall:'Filen "{name}" (<b>{size} KB<\/b>) Ã¤r fÃ¶r liten och mÃ¥ste vara stÃ¶rre Ã¤n <b>{minSize} KB<\/b>.',msgSizeTooLarge:'File "{name}" (<b>{size} KB<\/b>) Ã¶verstiger hÃ¶gsta tillÃ¥tna uppladdningsstorlek <b>{maxSize} KB<\/b>.',msgFilesTooLess:"Du mÃ¥ste vÃ¤lja minst <b>{n}<\/b> {files} fÃ¶r att ladda upp.",msgFilesTooMany:"Antal filer valda fÃ¶r uppladdning <b>({n})<\/b> Ã¶verstiger hÃ¶gsta tillÃ¥tna grÃ¤nsen <b>{m}<\/b>.",msgFileNotFound:'Filen "{name}" kunde inte hittas!',msgFileSecured:'SÃ¤kerhetsbegrÃ¤nsningar fÃ¶rhindrar att lÃ¤sa filen "{name}".',msgFileNotReadable:'Filen "{name}" Ã¤r inte lÃ¤sbar.',msgFilePreviewAborted:'FilfÃ¶rhandsvisning avbrÃ¶ts fÃ¶r "{name}".',msgFilePreviewError:'Ett fel uppstod vid inlÃ¤sning av filen "{name}".',msgInvalidFileName:'Ogiltiga eller tecken som inte stÃ¶ds i filnamnet "{name}".',msgInvalidFileType:'Ogiltig typ fÃ¶r filen "{name}". Endast "{types}" filtyper stÃ¶ds.',msgInvalidFileExtension:'Ogiltigt filtillÃ¤gg fÃ¶r filen "{name}". Endast "{extensions}" filer stÃ¶ds.',msgFileTypes:{image:"bild",html:"HTML",text:"text",video:"video",audio:"ljud",flash:"flash",pdf:"PDF",object:"objekt"},msgUploadAborted:"FilÃ¶verfÃ¶ringen avbrÃ¶ts",msgUploadThreshold:"Bearbetar...",msgUploadBegin:"PÃ¥bÃ¶rjar...",msgUploadEnd:"FÃ¤rdig",msgUploadEmpty:"Endast .pdf, .txt, .jpg, .png, .gif filer Ã¤r tillÃ¥tna.",msgValidationError:"Valideringsfel",msgLoading:"Laddar fil {index} av {files} &hellip;",msgProgress:"Laddar fil {index} av {files} - {name} - {percent}% fÃ¤rdig.",msgSelected:"{n} {files} valda",msgFoldersNotAllowed:"Endast drag & slÃ¤ppfiler! Skippade {n} slÃ¤pta mappar.",msgImageWidthSmall:'Bredd pÃ¥ bildfilen "{name}" mÃ¥ste minst vara {size} pixlar.',msgImageHeightSmall:'HÃ¶jden pÃ¥ bildfilen "{name}" mÃ¥ste minst vara {size} pixlar.',msgImageWidthLarge:'Bredd pÃ¥ bildfil "{name}" kan inte Ã¶verstiga {size} pixlar.',msgImageHeightLarge:'HÃ¶jden pÃ¥ bildfilen "{name}" kan inte Ã¶verstiga {size} pixlar.',msgImageResizeError:"Det gick inte att hÃ¤mta bildens dimensioner fÃ¶r att Ã¤ndra storlek.",msgImageResizeException:"Fel vid storleksÃ¤ndring av bilden.<pre>{errors}<\/pre>",msgAjaxError:"NÃ¥got gick fel med {operation} operationen. FÃ¶rsÃ¶k igen senare!",msgAjaxProgressError:"{operation} misslyckades",ajaxOperations:{deleteThumb:"fil borttagen",uploadThumb:"fil uppladdad",uploadBatch:"batch fil uppladdad",uploadExtra:"form data uppladdad"},dropZoneTitle:"Drag & slÃ¤pp filer hÃ¤r &hellip;",dropZoneClickTitle:"<br>(eller klicka fÃ¶r att markera {files})",fileActionSettings:{removeTitle:"Ta bort fil",uploadTitle:"Ladda upp fil",zoomTitle:"Visa detaljer",dragTitle:"Flytta / Ã„ndra ordning",indicatorNewTitle:"Inte uppladdat Ã¤nnu",indicatorSuccessTitle:"Uppladdad",indicatorErrorTitle:"Uppladdningsfel",indicatorLoadingTitle:"Laddar upp..."},previewZoomButtonTitles:{prev:"Visa fÃ¶regÃ¥ende fil",next:"Visa nÃ¤sta fil",toggleheader:"Rubrik",fullscreen:"FullskÃ¤rm",borderless:"GrÃ¤nslÃ¶s",close:"StÃ¤ng detaljerad fÃ¶rhandsgranskning"}}})(window.jQuery);
/*!
 * bootstrap-fileinput v4.4.1
 * http://plugins.krajee.com/file-input
 *
 * Krajee Explorer theme configuration for bootstrap-fileinput. Load this theme file after loading `fileinput.js`.
 *
 * Author: Kartik Visweswaran
 * Copyright: 2014 - 2017, Kartik Visweswaran, Krajee.com
 *
 * Licensed under the BSD 3-Clause
 * https://github.com/kartik-v/bootstrap-fileinput/blob/master/LICENSE.md
 */
(function(n){"use strict";var t='<tr class="file-preview-frame {frameClass}" id="{previewId}" data-fileindex="{fileindex}" data-template="{template}"',i='<td class="kv-file-content">\n';n.fn.fileinputThemes.explorer={layoutTemplates:{preview:'<div class="file-preview {class}">\n    {close}    <div class="{dropClass}">\n    <table class="table table-bordered table-hover"><tbody class="file-preview-thumbnails">\n    <\/tbody><\/table>\n    <div class="clearfix"><\/div>    <div class="file-preview-status text-center text-success"><\/div>\n    <div class="kv-fileinput-error"><\/div>\n    <\/div>\n<\/div>',footer:'<td class="file-details-cell"><div class="explorer-caption" title="{caption}">{caption}<\/div> {size}{progress}<\/td><td class="file-actions-cell">{indicator} {actions}<\/td>',actions:'{drag}\n<div class="file-actions">\n    <div class="file-footer-buttons">\n        {upload} {delete} {zoom} {other}     <\/div>\n<\/div>',zoomCache:'<tr style="display:none" class="kv-zoom-cache-theme"><td><table class="kv-zoom-cache">{zoomContent}<\/table><\/td><\/tr>'},previewMarkupTags:{tagBefore1:t+">"+i,tagBefore2:t+' title="{caption}">'+i,tagAfter:"<\/td>\n{footer}<\/tr>\n"},previewSettings:{image:{height:"60px"},html:{width:"100px",height:"60px"},text:{width:"100px",height:"60px"},video:{width:"auto",height:"60px"},audio:{width:"auto",height:"60px"},flash:{width:"100%",height:"60px"},object:{width:"100%",height:"60px"},pdf:{width:"100px",height:"60px"},other:{width:"100%",height:"60px"}},frameClass:"explorer-frame"}})(window.jQuery);var speed=5e3;canTick=!0;$(document).ready(function(){$(".ticker-container ul div").each(function(n){$(window).width()>=500&&$(this).find("li").width($(window).width()-parseInt($(this).css("left")));n==0?$(this).addClass("ticker-active"):$(this).addClass("not-active");$(this).find("li").height()>30&&($(this).find("li").css({height:"20px",width:"200%","text-align":"left","padding-left":"5px"}),$(this).find("li").css("width",$(this).find("li span").width()))});startTicker();animateTickerElementHorz()});$(window).resize(function(){$(".ticker-container ul div").each(function(){$(this).find("li").height()>30&&($(this).css({height:"20px",width:"200%","text-align":"left","padding-left":"5px"}),$(this).find("li").css("width",$(this).find("li span").width()))})});$(".ticker-container").on("mouseover",function(){canTick=!1});$(".ticker-container").on("mouseout",function(){canTick=!0});ko.expressionRewriting._twoWayBindings.numericValue=!0;ko.expressionRewriting.writeValueToProperty=function(n,t,i,r,u){if(n&&ko.isObservable(n))ko.isWriteableObservable(n)&&(!u||n.peek()!==r)&&n(r);else{var f=t.get("_ko_property_writers");f&&f[i]&&f[i](r)}};ko.bindingHandlers.numericText={init:function(n,t,i,r,u){var f,o;$(n).on("keydown",function(n){n.keyCode==46||n.keyCode==8||n.keyCode==9||n.keyCode==27||n.keyCode==13||n.keyCode==65&&n.ctrlKey===!0||n.keyCode==188||n.keyCode==190||n.keyCode==110||n.keyCode>=35&&n.keyCode<=39||(n.shiftKey||(n.keyCode<48||n.keyCode>57)&&(n.keyCode<96||n.keyCode>105))&&n.preventDefault()});if(f=i().onNumericTextBoxChange,f!=undefined||f!=null){$(n).on("blur",null,null,function(){doChangeFunction(f,$(n).val(),t(),0)});o=$(n).attr("name");$(".btn-number[data-type='minus'][data-field='"+o+"']").click(function(){doChangeFunction(f,$(n).val(),t(),.5)});$(".btn-number[data-type='plus'][data-field='"+o+"']").click(function(){doChangeFunction(f,$(n).val(),t(),.5)})}var s=$(n).attr("thousand-separator"),c=$(n).attr("decimal-separator"),l=$(n).attr("decimal-count"),a=$(n).attr("allow-empty"),e=t(),h=ko.dependentObservable({read:function(){return ko.isObservable(e)==!1?e:e()},write:function(n){var r=n.replace(s,"").replace(",","."),t;ko.isObservable(e)==!1?isNaN(r)||(t=inputNumberParse(r,s),ko.expressionRewriting.writeValueToProperty(e,i,"numericValue",isNaN(t)?null:t)):isNaN(r)||(t=inputNumberParse(r,s),e(isNaN(t)?null:t))}});ko.bindingHandlers.value.init(n,function(){return h},i,r,u)},update:function(n,t,i,r,u){var f=ko.utils.unwrapObservable(t()),s=t(),y=$(n).attr("thousand-separator"),w=$(n).attr("decimal-separator"),b=$(n).attr("decimal-count"),c=$(n).attr("allow-empty"),l=!1,e,a,o,v,h,p;l=c==undefined||c==null||c!="true"?!1:!0;e=0;$(n).attr("min")!=undefined&&$(n).attr("min")!=null&&(e=parseFloat($(n).attr("min")));$(n).attr("minProperty")!=undefined&&$(n).attr("minProperty")!=null&&(a=parseFloat($(n).attr("minProperty")),a>e&&(e=a));o=1e15;$(n).attr("max")!=undefined&&$(n).attr("max")!=null&&(o=parseFloat($(n).attr("max")));$(n).attr("maxProperty")!=undefined&&$(n).attr("maxProperty")!=null&&(v=parseFloat($(n).attr("maxProperty")),v<o&&(o=v));h=inputNumberParse($(n).val(),y);isNaN(h)&&(h=null);f=h;name=$(n).attr("name");f==null&&l?($(".btn-number[data-type='minus'][data-field='"+name+"']").removeAttr("disabled"),s(f)):f==null&&l==!1?($(".btn-number[data-type='plus'][data-field='"+name+"']").removeAttr("disabled"),f=e,s(f)):f>=e&&f<=o?($(".btn-number[data-type='minus'][data-field='"+name+"']").removeAttr("disabled"),$(".btn-number[data-type='plus'][data-field='"+name+"']").removeAttr("disabled")):f<e?($(".btn-number[data-type='plus'][data-field='"+name+"']").removeAttr("disabled"),f=e,s(f)):f>o&&($(".btn-number[data-type='minus'][data-field='"+name+"']").removeAttr("disabled"),f=o,s(f));p=inputNumberFormat(f,b,w,y);$(n).val(p).change();ko.bindingHandlers.value.update(n,t,i,r,u)}},function(n){typeof require=="function"&&typeof exports=="object"&&typeof module=="object"?n(require("knockout"),require("jquery")):typeof define=="function"&&define.amd?define(["knockout","jquery"],n):n(ko,jQuery)}(function(n,t){function i(n,i){var r=t(n).prop("disabled");t(n).bootstrapToggle("enable");t(n).bootstrapToggle(i?"on":"off");r&&t(n).bootstrapToggle("disable")}n.bindingHandlers.bootstrapToggle={init:function(r,u){t(r).bootstrapToggle();i(r,n.utils.unwrapObservable(u()));t(r).on("change",function(){u()(t(this).prop("checked"))})},update:function(r,u){var e=t(r).prop("checked"),f=n.utils.unwrapObservable(u());e!=f&&i(r,f)}}});ko.bindingHandlers.selectPicker={init:function(n){$(n).is("select")&&$(n).addClass("selectpicker").selectpicker()},update:function(n,t,i){var u,r;$(n).is("select")&&(ko.utils.unwrapObservable(t()).length>0&&ko.bindingHandlers.options.update(n,t,i),u=ko.utils.unwrapObservable(i().disable),u&&$(n).selectpicker("val",$(n).children("option:last").val()),$(n).prop("disabled",u),r=ko.utils.unwrapObservable(i().selectedOptions||i().value),$(n).prop("multiple")&&$.isArray(r)?ko.bindingHandlers.selectedOptions.update(n,i().selectedOptions):ko.bindingHandlers.value.update(n,i().value),console.log(r),$(n).selectpicker("val",r),$(n).selectpicker("refresh"))}};ko.bindingHandlers.dropdownDatePicker={init:function(n,t,i,r){var u=$(n).attr("data-property"),o=$(n).attr("data-year-only"),f=!1,e;if(o==undefined||o==null?f=!1:o=="true"&&(f=!0),e=r[u](),e==null?(f==!1&&($(n).parent().find("#"+u+"_Day").selectpicker("val",-1),$(n).parent().find("#"+u+"_Month").selectpicker("val",-1)),$(n).parent().find("#"+u+"_Year").selectpicker("val",-1)):(f==!1&&($(n).parent().find("#"+u+"_Day").selectpicker("val",e.getDate()),$(n).parent().find("#"+u+"_Month").selectpicker("val",e.getMonth()+1)),$(n).parent().find("#"+u+"_Year").selectpicker("val",e.getFullYear())),f==!1){$(n).parent().find("#"+u+"_Day").on("hidden.bs.select",function(t){var u=$(t.currentTarget).attr("data-property"),i=r[u]();t.currentTarget.value==-1?(i=null,$(n).parent().find("#"+u+"_Month").selectpicker("val",-1),$(n).parent().find("#"+u+"_Year").selectpicker("val",-1)):(i==null&&(i=new Date),i.setDate(t.currentTarget.value));r[u](i)});$(n).parent().find("#"+u+"_Month").on("hidden.bs.select",function(t){var u=$(t.currentTarget).attr("data-property"),i=r[u]();t.currentTarget.value==-1?(i=null,$(n).parent().find("#"+u+"_Day").selectpicker("val",-1),$(n).parent().find("#"+u+"_Year").selectpicker("val",-1)):(i==null&&(i=new Date),i.setMonth(t.currentTarget.value-1));r[u](i)})}$(n).parent().find("#"+u+"_Year").on("hidden.bs.select",function(t){var u=$(t.currentTarget).attr("data-property"),i=r[u]();t.currentTarget.value==-1?(i=null,f==!1&&($(n).parent().find("#"+u+"_Day").selectpicker("val",-1),$(n).parent().find("#"+u+"_Month").selectpicker("val",-1))):(i==null&&(i=new Date),i.setFullYear(t.currentTarget.value));r[u](i)})},update:function(n,t,i,r){var u=$(n).attr("data-property"),o=$(n).attr("data-year-only"),e=!1,f;(o==undefined||o==null?e=!1:o=="true"&&(e=!0),u!=undefined&&u!=null)&&(f=t()(),f=="/Date(-62135596800000)/"&&(f=null,r[u](f)),f==null?(e==!1&&($(n).parent().find("#"+u+"_Day").selectpicker("val",-1),$(n).parent().find("#"+u+"_Month").selectpicker("val",-1)),$(n).parent().find("#"+u+"_Year").selectpicker("val",-1)):(e==!1&&($(n).parent().find("#"+u+"_Day").selectpicker("val",f.getDate()),$(n).parent().find("#"+u+"_Month").selectpicker("val",f.getMonth()+1)),$(n).parent().find("#"+u+"_Year").selectpicker("val",f.getFullYear())))}};ko.bindingHandlers.datePicker={init:function(){},update:function(n,t){var i=t()();typeof i=="object"&&$(n).datepicker("update",i.getDay()+"."+i.getMonth()+"."+i.getFullYear())}};ko.bindingHandlers.tooltip={init:function(n){$(n).tooltip()},update:function(n){$(n).tooltip()}};ko.bindingHandlers.amChart={init:function(n,t,i){var u=$(n).attr("id"),f,r,e,o;for(console.log("amchart: init: "+u),f=-1,r=0;r<AmCharts.charts.length;r++)if(AmCharts.charts[r].div!=null&&AmCharts.charts[r].div.id==u){f=r;break}f>=0&&(AmCharts.charts=AmCharts.charts.splice(f,1));e=i().amChartOptions;o=ko.utils.unwrapObservable(t());e.dataProvider=ko.utils.unwrapObservable(t());o.length>0&&(AmCharts.makeChart(u,e),console.log("amchart: inited: "+u))},update:function(n,t,i){var u=$(n).attr("id"),f,r,e,o,s;for(console.log("amchart: init: "+u),f=-1,r=0;r<AmCharts.charts.length;r++)if(AmCharts.charts[r].div!=null&&AmCharts.charts[r].div.id==u){f=r;break}f>=0&&(AmCharts.charts=AmCharts.charts.splice(f,1));e=i().amChartOptions;o=ko.utils.unwrapObservable(t());e.dataProvider=ko.utils.unwrapObservable(t());o.length>0&&(s=AmCharts.makeChart(u,e),s.validateData(),console.log("amchart: inited: "+u))}};window.FelFSlider=FFSlider;